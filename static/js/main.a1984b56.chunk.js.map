{"version":3,"sources":["authProvider.ts","configuration/actions.ts","themeReducer.ts","layout/AppBar.tsx","segments/data.ts","visitors/SegmentsField.tsx","visitors/SegmentInput.tsx","visitors/AvatarField.tsx","visitors/FullNameField.tsx","visitors/CustomerLinkField.tsx","visitors/ColoredNumberField.tsx","visitors/MobileGrid.tsx","visitors/VisitorListAside.tsx","visitors/VisitorList.tsx","visitors/VisitorCreate.tsx","orders/NbItemsField.tsx","visitors/CustomerReferenceField.tsx","visitors/AddressField.tsx","orders/MobileGrid.tsx","orders/OrderList.tsx","orders/Basket.tsx","orders/Totals.tsx","orders/OrderEdit.tsx","orders/index.ts","reviews/BulkAcceptButton.tsx","reviews/BulkRejectButton.tsx","reviews/ReviewListMobile.tsx","products/ProductReferenceField.tsx","reviews/StarRatingField.tsx","reviews/rowStyle.tsx","reviews/ReviewListDesktop.tsx","reviews/reviewFilters.tsx","reviews/AcceptButton.tsx","reviews/RejectButton.tsx","reviews/ReviewEditToolbar.tsx","reviews/ReviewEdit.tsx","reviews/ReviewList.tsx","reviews/index.ts","visitors/Aside.tsx","visitors/SegmentsInput.tsx","visitors/VisitorEdit.tsx","visitors/index.ts","invoices/InvoiceShow.tsx","invoices/InvoiceList.tsx","invoices/index.ts","products/GridList.tsx","products/Aside.tsx","products/ProductList.tsx","products/Poster.tsx","products/ProductCreate.tsx","products/ProductEdit.tsx","products/index.tsx","categories/LinkToRelatedProducts.tsx","categories/CategoryList.tsx","products/ThumbnailField.tsx","products/ProductRefField.tsx","categories/CategoryEdit.tsx","categories/index.ts","layout/SubMenu.tsx","layout/Menu.tsx","layout/themes.ts","layout/Layout.tsx","layout/Login.tsx","dashboard/CardWithIcon.tsx","dashboard/cartoucheDark.png","dashboard/cartouche.png","dashboard/MonthlyRevenue.tsx","dashboard/NbNewOrders.tsx","dashboard/PendingOrders.tsx","dashboard/PendingReviews.tsx","dashboard/NewCustomers.tsx","dashboard/OrderChart.tsx","dashboard/Dashboard.tsx","dashboard/index.ts","configuration/Configuration.tsx","segments/LinkToRelatedCustomers.tsx","segments/Segments.tsx","routes.tsx","i18n/en.ts","fakeServer/index.ts","dataProvider/index.ts","App.tsx","index.tsx"],"names":["authProvider","login","username","localStorage","setItem","Promise","resolve","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","getIdentity","id","fullName","avatar","CHANGE_THEME","changeTheme","theme","type","payload","themeReducer","previousState","action","useStyles","makeStyles","title","flex","textOverflow","whiteSpace","overflow","spacer","ConfigurationMenu","forwardRef","props","ref","translate","useTranslate","MenuItemLink","to","primaryText","leftIcon","onClick","sidebarIsOpen","CustomUserMenu","UserMenu","CustomAppBar","classes","AppBar","elevation","userMenu","Typography","variant","color","className","name","main","display","flexWrap","marginTop","marginBottom","chip","margin","SegmentsField","record","groups","map","segmentId","segment","segments","find","s","Chip","size","label","defaultProps","addLabel","source","input","width","SegmentInput","SelectInput","choices","AvatarField","Avatar","src","style","parseInt","height","root","alignItems","marginRight","spacing","FullNameField","first_name","last_name","memo","CustomerLinkField","Link","ColoredNumberField","NumberField","card","flexDirection","cardTitleContent","justifyContent","cardContent","typography","body1","MobileGrid","ids","data","basePath","Card","CardHeader","EditButton","resource","CardContent","DateField","nb_commands","options","currency","length","withStyles","breakpoints","up","order","down","MuiCard","Aside","FilterLiveSearch","FilterList","icon","FilterListItem","value","last_seen_gte","endOfYesterday","toISOString","last_seen_lte","undefined","startOfWeek","Date","subWeeks","startOfMonth","subMonths","nb_commands_gte","nb_commands_lte","has_newsletter","visitorFilters","SearchInput","alwaysOn","DateInput","NullableBooleanInput","defaultValue","hiddenOnSmallScreens","VisitorList","isXsmall","useMediaQuery","isSmall","List","filters","sort","field","perPage","aside","VisitorListAside","Datagrid","optimized","rowClick","showTime","BooleanField","cellClassName","headerClassName","marginLeft","email","address","maxWidth","zipcode","city","comment","password","confirm_password","validatePasswords","errors","requiredValidate","required","SectionTitle","gutterBottom","Separator","Box","pt","VisitorCreate","Create","SimpleForm","validate","TextInput","autoFocus","formClassName","validation","fullWidth","multiline","helperText","PasswordInput","render","basket","NbItemsField","FunctionField","textAlign","CustomerReferenceField","ReferenceField","reference","AddressField","stateAbbr","useListStyles","cardContentRow","TextField","orderFilters","ReferenceInput","AutocompleteInput","optionText","choice","useDatagridStyles","total","fontWeight","tabs","TabbedDatagrid","listContext","useListContext","filterValues","setFilters","displayedFilters","isXSmall","useState","ordered","setOrdered","delivered","setDelivered","cancelled","setCancelled","totals","useGetList","page","status","useGetTotals","useEffect","handleChange","useCallback","event","selectedIds","Tabs","centered","indicatorColor","onChange","Tab","Divider","ListContextProvider","link","OrderList","filterDefaultValues","rightAlignedCell","Basket","useQueryWithStore","item","product_id","state","productId","admin","resources","products","filter","r","reduce","prev","next","loaded","Table","TableHead","TableRow","TableCell","TableBody","price","toLocaleString","quantity","container","minWidth","boldCell","Totals","total_ex_taxes","delivery_fees","tax_rate","taxes","classnames","OrderTitle","CustomerDetails","component","RouterLink","textDecoration","href","CustomerAddress","useEditStyles","Spacer","m","OrderForm","FormWithRedirect","formProps","Grid","xs","sm","md","Labeled","disabled","mt","BooleanInput","row","Toolbar","undoable","invalid","handleSubmit","saving","list","edit","Edit","OrderIcon","noSelection","BulkAcceptButton","notify","useNotify","refresh","useRefresh","unselectAll","useUnselectAll","useUpdateMany","CRUD_UPDATE_MANY","onSuccess","onFailure","approve","loading","Button","BulkRejectButton","inline","ReviewListMobile","Number","linkToRecord","ListItem","button","ListItemAvatar","ListItemText","primary","secondary","secondaryTypographyProps","noWrap","hasBulkActions","ProductReferenceField","opacity","large","small","StarRatingField","Array","rating","fill","_","i","rowStyle","selectedRow","useTheme","backgroundColor","palette","selected","borderLeftColor","green","borderLeftWidth","borderLeftStyle","orange","red","headerRow","headerCell","padding","rowCell","ReviewListDesktop","reviewFilters","AcceptButton","redirectTo","useRedirect","useUpdate","paddingRight","RejectButton","background","paper","ReviewEditToolbar","handleSubmitWithRedirect","SaveButton","redirect","submitOnEnter","DeleteButton","paddingTop","form","inlineField","ReviewEdit","onCancel","controllerProps","useEditController","IconButton","EditContextProvider","save","version","toolbar","rowsMax","ReviewsBulkActionButtons","BulkDeleteButton","flexGrow","transition","transitions","create","duration","enteringScreen","listWithDrawer","drawerPaper","zIndex","ReviewList","history","useHistory","handleClose","push","path","match","isMatch","params","bulkActionButtons","Drawer","open","anchor","onClose","ReviewIcon","useAsideStyles","useEventStyles","stepper","border","EventList","locale","useLocale","customer_id","orders","orderIds","reviews","reviewIds","events","mixOrdersAndReviews","mb","mr","fontSize","smart_count","Stepper","orientation","Step","expanded","active","completed","StepLabel","StepIconComponent","Component","review","paddingLeft","date","weekday","year","month","day","hour","minute","StepContent","eventsFromOrders","eventsFromReviews","concat","e1","e2","getTime","Order","useReviewStyles","clamp","Review","SegmentsInput","addField","rest","SelectArrayInput","VisitorTitle","VisitorForm","lg","ml","VisitorIcon","CustomerField","InvoiceShow","useShowController","align","alignContent","toLocaleDateString","invoices","listFilters","expand","InvoiceIcon","gridList","tileBar","placeholder","grey","getColsForWidth","LoadingGridList","nbChildren","fn","nbItems","cellHeight","cols","key","GridListTile","from","LoadedGridList","thumbnail","alt","GridListTileBar","subtitle","withWidth","sales_lte","sales_gt","sales","stock_lt","stock_gt","stock","inflection","humanize","category_id","useQuickFilterStyles","QuickFilter","productFilters","NumberInput","ListActions","TopToolbar","FilterButton","SortButton","fields","CreateButton","ExportButton","ProductListView","defaultTitle","Title","FilterContext","Provider","FilterForm","Pagination","rowsPerPageOptions","ProductList","ListBase","content","img","maxHeight","Poster","image","styles","widthFormGroup","heightFormGroup","ProductCreate","TabbedForm","FormTab","InputProps","startAdornment","InputAdornment","position","endAdornment","allowEmpty","ProductTitle","createStyles","tab","contentClassName","ReferenceManyField","target","pagination","ProductIcon","LinkToRelatedProducts","pathname","search","stringify","JSON","media","paddingBottom","actionSpacer","CategoryGrid","xl","CardMedia","CardActions","CategoryList","actions","ThumbnailField","ProductRefField","CategoryTitle","minimumFractionDigits","CategoryIcon","sidebarIsClosed","SubMenu","handleToggle","isOpen","children","dense","useSelector","ui","sidebarOpen","header","MenuItem","ListItemIcon","Tooltip","placement","Collapse","in","timeout","unmountOnExit","disablePadding","easing","sharp","leavingScreen","closed","Menu","menuCatalog","menuSales","menuCustomers","setState","menu","DashboardMenuItem","_scrollToTop","categories","darkTheme","sidebar","overrides","MuiAppBar","colorSecondary","MuiButtonBase","top","right","borderRadius","disableRipple","lightTheme","light","dark","contrastText","default","shape","RaMenuItemLink","borderLeft","MuiPaper","elevation1","boxShadow","backgroundClip","MuiButton","contained","MuiLinearProgress","colorPrimary","barColorPrimary","MuiFilledInput","MuiSnackbarContent","Layout","appBar","minHeight","backgroundRepeat","backgroundSize","hint","renderInput","meta","touched","error","inputProps","Form","withTypes","Login","setLoading","useLogin","location","useLocation","onSubmit","auth","nextPathname","catch","message","values","noValidate","CircularProgress","thickness","Notification","LoginWithTheme","ThemeProvider","createMuiTheme","CardWithIcon","createElement","MonthlyRevenue","DollarIcon","NbNewOrders","ShoppingCartIcon","cost","text","PendingOrders","customers","nb_items","customer_name","ListItemSecondaryAction","listItemText","overflowY","WebkitLineClamp","WebkitBoxOrient","linkContent","PendingReviews","nb","CommentIcon","p","NewCustomers","aMonthAgo","subDays","setDate","getDate","setHours","setMinutes","setSeconds","setMilliseconds","has_ordered","first_seen_gte","visitors","CustomerIcon","lastDay","lastMonthDays","dateFormatter","getRevenuePerDay","daysWithRevenue","acc","curr","format","aggregateOrdersByDay","OrderChart","ResponsiveContainer","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","XAxis","dataKey","scale","domain","addDays","tickFormatter","YAxis","unit","CartesianGrid","strokeDasharray","cursor","formatter","Intl","NumberFormat","labelFormatter","Area","stroke","strokeWidth","flexColumn","leftCol","rightCol","singleCol","VerticalSpacer","Dashboard","useVersion","dataProvider","useDataProvider","fetchOrders","a","getList","date_gte","recentOrders","aggregations","stats","revenue","nbNewOrders","pendingOrders","maximumFractionDigits","getMany","pendingOrdersCustomers","customer","fetchReviews","nbPendingReviews","pendingReviews","slice","Math","min","pendingReviewsCustomers","Configuration","setLocale","useSetLocale","dispatch","useDispatch","LinkToRelatedCustomers","Segments","exact","customEnglishMessages","englishMessages","pos","configuration","language","dashboard","monthly_revenue","month_history","new_orders","pending_reviews","all_reviews","new_customers","all_customers","pending_orders","items","welcome","ra_button","demo_button","catalog","commands","first_seen","last_seen","total_spent","last_visited","today","this_week","last_week","this_month","last_month","earlier","group","fieldGroups","identity","change_password","delete","password_mismatch","amount","delivery","sum","unit_price","date_lte","total_gte","returned","section","shipping_address","command_id","height_gte","height_lte","stock_lte","width_gte","width_lte","details","description","no_stock","low_stock","average_stock","enough_stock","best_sellers","average_sellers","low_sellers","never_sold","relative_to_poster","detail","accept","notification","approved_success","approved_error","rejected_success","rejected_error","compulsive","collector","ordered_once","regular","returns","reviewer","then","factory","dataProviderPromise","getDataProvider","Proxy","defaultDataProvider","get","toString","fakeServerFactory","process","REACT_APP_DATA_PROVIDER","provider","deleteMany","getManyReference","getOne","update","updateMany","i18nProvider","polyglotI18nProvider","messages","App","Admin","dataProviderFactory","customReducers","customRoutes","loginPage","layout","disableTelemetry","Resource","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a1984b56.chunk.js","sourcesContent":["import { AuthProvider } from \"react-admin\";\n\nconst authProvider: AuthProvider = {\n  login: ({ username }) => {\n    localStorage.setItem(\"username\", username);\n    // accept all username/password combinations\n    return Promise.resolve();\n  },\n  logout: () => {\n    localStorage.removeItem(\"username\");\n    return Promise.resolve();\n  },\n  checkError: () => Promise.resolve(),\n  checkAuth: () =>\n    localStorage.getItem(\"username\") ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => Promise.reject(\"Unknown method\"),\n  getIdentity: () =>\n    Promise.resolve({\n      id: \"user\",\n      fullName: \"Adrian Sudbury\",\n      avatar: \"https://avatars.githubusercontent.com/u/3384470?v=4\",\n      //'data:image/jpeg;base64,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',\n    }),\n};\n\nexport default authProvider;\n","import { ThemeName } from '../types';\n\nexport const CHANGE_THEME = 'CHANGE_THEME';\n\nexport const changeTheme = (theme: ThemeName) => ({\n    type: CHANGE_THEME,\n    payload: theme,\n});\n","import { Reducer } from 'redux';\nimport { CHANGE_THEME, changeTheme } from './configuration/actions';\nimport { ThemeName } from './types';\n\ntype State = ThemeName;\ntype Action =\n    | ReturnType<typeof changeTheme>\n    | { type: 'OTHER_ACTION'; payload?: any };\n\nconst themeReducer: Reducer<State, Action> = (\n    previousState = 'light',\n    action\n) => {\n    if (action.type === CHANGE_THEME) {\n        return action.payload;\n    }\n    return previousState;\n};\n\nexport default themeReducer;\n","import * as React from \"react\";\nimport { forwardRef } from \"react\";\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from \"react-admin\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n  },\n  spacer: {\n    flex: 1,\n  },\n});\n\nconst ConfigurationMenu = forwardRef<any, any>((props, ref) => {\n  const translate = useTranslate();\n  return (\n    <MenuItemLink\n      ref={ref}\n      to=\"/configuration\"\n      primaryText={translate(\"pos.configuration\")}\n      leftIcon={<SettingsIcon />}\n      onClick={props.onClick}\n      sidebarIsOpen\n    />\n  );\n});\n\nconst CustomUserMenu = (props: any) => (\n  <UserMenu {...props}>\n    <ConfigurationMenu />\n  </UserMenu>\n);\n\nconst CustomAppBar = (props: any) => {\n  const classes = useStyles();\n  return (\n    <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        color=\"inherit\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      />\n      React Admin Demo\n      <span className={classes.spacer} />\n    </AppBar>\n  );\n};\n\nexport default CustomAppBar;\n","/* eslint-disable import/no-anonymous-default-export */\nexport default [\n    { id: 'compulsive', name: 'resources.segments.data.compulsive' },\n    { id: 'collector', name: 'resources.segments.data.collector' },\n    { id: 'ordered_once', name: 'resources.segments.data.ordered_once' },\n    { id: 'regular', name: 'resources.segments.data.regular' },\n    { id: 'returns', name: 'resources.segments.data.returns' },\n    { id: 'reviewer', name: 'resources.segments.data.reviewer' },\n];\n","import * as React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport segments from '../segments/data';\nimport { Customer } from '../types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    main: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginTop: -8,\n        marginBottom: -8,\n    },\n    chip: { margin: 4 },\n});\n\nconst SegmentsField = ({ record }: FieldProps<Customer>) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    return record ? (\n        <span className={classes.main}>\n            {record.groups &&\n                record.groups.map(segmentId => {\n                    const segment = segments.find(s => s.id === segmentId);\n\n                    return segment ? (\n                        <Chip\n                            size=\"small\"\n                            key={segment.id}\n                            className={classes.chip}\n                            label={translate(segment.name)}\n                        />\n                    ) : null;\n                })}\n        </span>\n    ) : null;\n};\n\nSegmentsField.defaultProps = {\n    addLabel: true,\n    source: 'groups',\n};\n\nexport default SegmentsField;\n","import * as React from 'react';\nimport { useTranslate, SelectInput, InputProps } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport segments from '../segments/data';\n\nconst useStyles = makeStyles({\n    input: { width: 150 },\n});\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentInput = (props: Props) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <SelectInput\n            {...props}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n            className={classes.input}\n        />\n    );\n};\n\nSegmentInput.defaultProps = {\n    source: 'groups',\n};\n\nexport default SegmentInput;\n","import * as React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\ninterface Props extends FieldProps<Customer> {\n    className?: string;\n    size?: string;\n}\n\nconst AvatarField = ({ record, size = '25', className }: Props) =>\n    record ? (\n        <Avatar\n            src={`${record.avatar}?size=${size}x${size}`}\n            style={{ width: parseInt(size, 10), height: parseInt(size, 10) }}\n            className={className}\n        />\n    ) : null;\n\nexport default AvatarField;\n","import * as React from 'react';\nimport { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\nimport AvatarField from './AvatarField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n    },\n    avatar: {\n        marginRight: theme.spacing(1),\n        marginTop: -theme.spacing(0.5),\n        marginBottom: -theme.spacing(0.5),\n    },\n}));\n\ninterface Props extends FieldProps<Customer> {\n    size?: string;\n}\n\nconst FullNameField = (props: Props) => {\n    const { record, size } = props;\n    const classes = useStyles();\n    return record ? (\n        <div className={classes.root}>\n            <AvatarField\n                className={classes.avatar}\n                record={record}\n                size={size}\n            />\n            {record.first_name} {record.last_name}\n        </div>\n    ) : null;\n};\n\nFullNameField.defaultProps = {\n    source: 'last_name',\n    label: 'resources.customers.fields.name',\n};\n\nexport default memo<Props>(FullNameField);\n","import * as React from 'react';\nimport { Link, FieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\nimport { Customer } from '../types';\n\nconst CustomerLinkField = (props: FieldProps<Customer>) =>\n    props.record ? (\n        <Link to={`/customers/${props.record.id}`}>\n            <FullNameField {...props} />\n        </Link>\n    ) : null;\n\nCustomerLinkField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerLinkField;\n","import * as React from 'react';\nimport { NumberField, NumberFieldProps } from 'react-admin';\n\nconst ColoredNumberField = (props: NumberFieldProps) =>\n    props.record && props.source ? (\n        props.record[props.source] > 500 ? (\n            <span style={{ color: 'red' }}>\n                <NumberField {...props} />\n            </span>\n        ) : (\n            <NumberField {...props} />\n        )\n    ) : null;\n\nColoredNumberField.defaultProps = NumberField.defaultProps;\n\nexport default ColoredNumberField;\n","// in src/comments.js\nimport * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    useTranslate,\n    NumberField,\n    Identifier,\n} from 'react-admin';\n\nimport AvatarField from './AvatarField';\nimport ColoredNumberField from './ColoredNumberField';\nimport SegmentsField from './SegmentsField';\nimport { Customer } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: { margin: '1em' },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: {\n        ...theme.typography.body1,\n        display: 'flex',\n        flexDirection: 'column',\n    },\n}));\n\ninterface Props {\n    ids?: Identifier[];\n    data?: { [key: string]: Customer };\n    basePath?: string;\n}\n\nconst MobileGrid = ({ ids, data, basePath }: Props) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    if (!ids || !data) {\n        return null;\n    }\n\n    return (\n        <div className={classes.root}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <h2>{`${data[id].first_name} ${data[id].last_name}`}</h2>\n                                <EditButton\n                                    resource=\"visitors\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                        avatar={<AvatarField record={data[id]} size=\"45\" />}\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.last_seen_gte'\n                            )}\n                            &nbsp;\n                            <DateField record={data[id]} source=\"last_seen\" />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.commands.name',\n                                data[id].nb_commands || 1\n                            )}\n                            &nbsp;:&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"nb_commands\"\n                                label=\"resources.customers.fields.commands\"\n                            />\n                        </div>\n                        <div>\n                            {translate(\n                                'resources.customers.fields.total_spent'\n                            )}\n                            &nbsp; :{' '}\n                            <ColoredNumberField\n                                record={data[id]}\n                                source=\"total_spent\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </div>\n                    </CardContent>\n                    {data[id].groups && data[id].groups.length > 0 && (\n                        <CardContent className={classes.cardContent}>\n                            <SegmentsField record={data[id]} />\n                        </CardContent>\n                    )}\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { Card as MuiCard, CardContent } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport MonetizationOnIcon from '@material-ui/icons/MonetizationOnOutlined';\nimport MailIcon from '@material-ui/icons/MailOutline';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport { FilterList, FilterListItem, FilterLiveSearch } from 'react-admin';\nimport {\n    endOfYesterday,\n    startOfWeek,\n    subWeeks,\n    startOfMonth,\n    subMonths,\n} from 'date-fns';\n\nimport segments from '../segments/data';\n\nconst Card = withStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            order: -1,\n            width: '15em',\n            marginRight: '1em',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}))(MuiCard);\n\nconst Aside = () => (\n    <Card>\n        <CardContent>\n            <FilterLiveSearch />\n\n            <FilterList\n                label=\"resources.customers.filters.last_visited\"\n                icon={<AccessTimeIcon />}\n            >\n                <FilterListItem\n                    label=\"resources.customers.filters.today\"\n                    value={{\n                        last_seen_gte: endOfYesterday().toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_week\"\n                    value={{\n                        last_seen_gte: startOfWeek(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_week\"\n                    value={{\n                        last_seen_gte: subWeeks(\n                            startOfWeek(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfWeek(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.this_month\"\n                    value={{\n                        last_seen_gte: startOfMonth(new Date()).toISOString(),\n                        last_seen_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.last_month\"\n                    value={{\n                        last_seen_gte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                        last_seen_lte: startOfMonth(new Date()).toISOString(),\n                    }}\n                />\n                <FilterListItem\n                    label=\"resources.customers.filters.earlier\"\n                    value={{\n                        last_seen_gte: undefined,\n                        last_seen_lte: subMonths(\n                            startOfMonth(new Date()),\n                            1\n                        ).toISOString(),\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_ordered\"\n                icon={<MonetizationOnIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{\n                        nb_commands_gte: 1,\n                        nb_commands_lte: undefined,\n                    }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{\n                        nb_commands_gte: undefined,\n                        nb_commands_lte: 0,\n                    }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.has_newsletter\"\n                icon={<MailIcon />}\n            >\n                <FilterListItem\n                    label=\"ra.boolean.true\"\n                    value={{ has_newsletter: true }}\n                />\n                <FilterListItem\n                    label=\"ra.boolean.false\"\n                    value={{ has_newsletter: false }}\n                />\n            </FilterList>\n\n            <FilterList\n                label=\"resources.customers.filters.group\"\n                icon={<LocalOfferIcon />}\n            >\n                {segments.map(segment => (\n                    <FilterListItem\n                        label={segment.name}\n                        key={segment.id}\n                        value={{ groups: segment.id }}\n                    />\n                ))}\n            </FilterList>\n        </CardContent>\n    </Card>\n);\n\nexport default Aside;\n","import * as React from 'react';\nimport {\n    BooleanField,\n    Datagrid,\n    DateField,\n    DateInput,\n    List,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    SearchInput,\n} from 'react-admin';\nimport { useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport SegmentsField from './SegmentsField';\nimport SegmentInput from './SegmentInput';\nimport CustomerLinkField from './CustomerLinkField';\nimport ColoredNumberField from './ColoredNumberField';\nimport MobileGrid from './MobileGrid';\nimport VisitorListAside from './VisitorListAside';\nimport { ReactElement } from 'react';\n\nconst visitorFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <DateInput source=\"last_seen_gte\" />,\n    <NullableBooleanInput source=\"has_ordered\" />,\n    <NullableBooleanInput source=\"has_newsletter\" defaultValue />,\n    <SegmentInput />,\n];\n\nconst useStyles = makeStyles(theme => ({\n    nb_commands: { color: 'purple' },\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst VisitorList = (props: ListProps): ReactElement => {\n    const classes = useStyles();\n    const isXsmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <List\n            {...props}\n            filters={isSmall ? visitorFilters : undefined}\n            sort={{ field: 'last_seen', order: 'DESC' }}\n            perPage={25}\n            aside={<VisitorListAside />}\n        >\n            {isXsmall ? (\n                <MobileGrid />\n            ) : (\n                <Datagrid optimized rowClick=\"edit\">\n                    <CustomerLinkField />\n                    <DateField source=\"last_seen\" />\n                    <NumberField\n                        source=\"nb_commands\"\n                        label=\"resources.customers.fields.commands\"\n                        className={classes.nb_commands}\n                    />\n                    <ColoredNumberField\n                        source=\"total_spent\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <DateField source=\"latest_purchase\" showTime />\n                    <BooleanField source=\"has_newsletter\" label=\"News.\" />\n                    <SegmentsField\n                        cellClassName={classes.hiddenOnSmallScreens}\n                        headerClassName={classes.hiddenOnSmallScreens}\n                    />\n                </Datagrid>\n            )}\n        </List>\n    );\n};\n\nexport default VisitorList;\n","import * as React from 'react';\nimport {\n    Create,\n    CreateProps,\n    DateInput,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n    PasswordInput,\n    required,\n    email,\n} from 'react-admin';\nimport { AnyObject } from 'react-final-form';\nimport { Typography, Box } from '@material-ui/core';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { Styles } from '@material-ui/styles/withStyles';\n\nexport const styles: Styles<Theme, any> = {\n    first_name: { display: 'inline-block' },\n    last_name: { display: 'inline-block', marginLeft: 32 },\n    email: { width: 544 },\n    address: { maxWidth: 544 },\n    zipcode: { display: 'inline-block' },\n    city: { display: 'inline-block', marginLeft: 32 },\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    password: { display: 'inline-block' },\n    confirm_password: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nexport const validatePasswords = ({\n    password,\n    confirm_password,\n}: AnyObject) => {\n    const errors = {} as any;\n\n    if (password && confirm_password && password !== confirm_password) {\n        errors.confirm_password = [\n            'resources.customers.errors.password_mismatch',\n        ];\n    }\n\n    return errors;\n};\n\nconst VisitorCreate = (props: CreateProps) => {\n    const classes = useStyles(props);\n\n    return (\n        <Create {...props}>\n            <SimpleForm validate={validatePasswords}>\n                <SectionTitle label=\"resources.customers.fieldGroups.identity\" />\n                <TextInput\n                    autoFocus\n                    source=\"first_name\"\n                    formClassName={classes.first_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    source=\"last_name\"\n                    formClassName={classes.last_name}\n                    validate={requiredValidate}\n                />\n                <TextInput\n                    type=\"email\"\n                    source=\"email\"\n                    validation={{ email: true }}\n                    fullWidth\n                    formClassName={classes.email}\n                    validate={[required(), email()]}\n                />\n                <DateInput source=\"birthday\" />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.address\" />\n                <TextInput\n                    source=\"address\"\n                    formClassName={classes.address}\n                    multiline\n                    fullWidth\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"zipcode\"\n                    formClassName={classes.zipcode}\n                    helperText={false}\n                />\n                <TextInput\n                    source=\"city\"\n                    formClassName={classes.city}\n                    helperText={false}\n                />\n                <Separator />\n                <SectionTitle label=\"resources.customers.fieldGroups.password\" />\n                <PasswordInput\n                    source=\"password\"\n                    formClassName={classes.password}\n                />\n                <PasswordInput\n                    source=\"confirm_password\"\n                    formClassName={classes.confirm_password}\n                />\n            </SimpleForm>\n        </Create>\n    );\n};\n\nconst requiredValidate = [required()];\n\nconst SectionTitle = ({ label }: { label: string }) => {\n    const translate = useTranslate();\n\n    return (\n        <Typography variant=\"h6\" gutterBottom>\n            {translate(label)}\n        </Typography>\n    );\n};\n\nconst Separator = () => <Box pt=\"1em\" />;\n\nexport default VisitorCreate;\n","import * as React from 'react';\nimport { FunctionField, FieldProps } from 'react-admin';\nimport { Order } from '../types';\n\nconst render = (record?: Order) => record && record.basket.length;\n\nconst NbItemsField = ({ record }: FieldProps<Order>) => (\n    <FunctionField<Order> record={record} render={render} />\n);\n\nNbItemsField.defaultProps = {\n    label: 'resources.commands.fields.nb_items',\n    textAlign: 'right',\n};\n\nexport default NbItemsField;\n","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps } from 'react-admin';\n\nimport FullNameField from './FullNameField';\n\nconst CustomerReferenceField = (\n    props: Omit<ReferenceFieldProps, 'reference' | 'children' | 'source'> & {\n        source?: string;\n    }\n) => (\n    <ReferenceField source=\"customer_id\" reference=\"customers\" {...props}>\n        <FullNameField />\n    </ReferenceField>\n);\n\nCustomerReferenceField.defaultProps = {\n    source: 'customer_id',\n    addLabel: true,\n};\n\nexport default CustomerReferenceField;\n","import * as React from 'react';\nimport { FieldProps } from 'react-admin';\nimport { Customer } from '../types';\n\nconst AddressField = ({ record }: FieldProps<Customer>) =>\n    record ? (\n        <span>\n            {record.address}, {record.city}, {record.stateAbbr} {record.zipcode}\n        </span>\n    ) : null;\n\nexport default AddressField;\n","// in src/comments.js\nimport * as React from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    DateField,\n    EditButton,\n    NumberField,\n    TextField,\n    BooleanField,\n    useTranslate,\n    RecordMap,\n    Identifier,\n    Record,\n} from 'react-admin';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\n\nconst useListStyles = makeStyles(theme => ({\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        margin: '0.5rem 0',\n    },\n    cardTitleContent: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n    },\n    cardContent: theme.typography.body1,\n    cardContentRow: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        margin: '0.5rem 0',\n    },\n}));\n\ninterface MobileGridProps {\n    ids?: Identifier[];\n    data?: RecordMap<Record>;\n    basePath?: string;\n}\n\nconst MobileGrid = (props: MobileGridProps) => {\n    const { ids, data, basePath } = props;\n    const translate = useTranslate();\n    const classes = useListStyles();\n\n    if (!ids || !data || !basePath) {\n        return null;\n    }\n\n    return (\n        <div style={{ margin: '1em' }}>\n            {ids.map(id => (\n                <Card key={id} className={classes.card}>\n                    <CardHeader\n                        title={\n                            <div className={classes.cardTitleContent}>\n                                <span>\n                                    {translate('resources.commands.name', 1)}\n                                    :&nbsp;\n                                    <TextField\n                                        record={data[id]}\n                                        source=\"reference\"\n                                    />\n                                </span>\n                                <EditButton\n                                    resource=\"commands\"\n                                    basePath={basePath}\n                                    record={data[id]}\n                                />\n                            </div>\n                        }\n                    />\n                    <CardContent className={classes.cardContent}>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.customers.name', 1)}:&nbsp;\n                            <CustomerReferenceField\n                                record={data[id]}\n                                basePath={basePath}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.reviews.fields.date')}:&nbsp;\n                            <DateField\n                                record={data[id]}\n                                source=\"date\"\n                                showTime\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate(\n                                'resources.commands.fields.basket.total'\n                            )}\n                            :&nbsp;\n                            <NumberField\n                                record={data[id]}\n                                source=\"total\"\n                                options={{ style: 'currency', currency: 'USD' }}\n                            />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.status')}\n                            :&nbsp;\n                            <TextField source=\"status\" record={data[id]} />\n                        </span>\n                        <span className={classes.cardContentRow}>\n                            {translate('resources.commands.fields.returned')}\n                            :&nbsp;\n                            <BooleanField record={data[id]} source=\"returned\" />\n                        </span>\n                    </CardContent>\n                </Card>\n            ))}\n        </div>\n    );\n};\n\nMobileGrid.defaultProps = {\n    data: {},\n    ids: [],\n};\n\nexport default MobileGrid;\n","import * as React from 'react';\nimport { Fragment, useCallback, useEffect, useState } from 'react';\nimport {\n    AutocompleteInput,\n    BooleanField,\n    Datagrid,\n    DatagridProps,\n    DateField,\n    DateInput,\n    Identifier,\n    List,\n    ListContextProvider,\n    ListProps,\n    NullableBooleanInput,\n    NumberField,\n    ReferenceInput,\n    ReferenceField,\n    SearchInput,\n    TextField,\n    TextInput,\n    useGetList,\n    useListContext,\n} from 'react-admin';\nimport { useMediaQuery, Divider, Tabs, Tab, Theme } from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport NbItemsField from './NbItemsField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport AddressField from '../visitors/AddressField';\nimport MobileGrid from './MobileGrid';\nimport { Customer } from '../types';\n\nconst orderFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <ReferenceInput source=\"customer_id\" reference=\"customers\">\n        <AutocompleteInput\n            optionText={(choice: Customer) =>\n                choice.id // the empty choice is { id: '' }\n                    ? `${choice.first_name} ${choice.last_name}`\n                    : ''\n            }\n        />\n    </ReferenceInput>,\n    <DateInput source=\"date_gte\" />,\n    <DateInput source=\"date_lte\" />,\n    <TextInput source=\"total_gte\" />,\n    <NullableBooleanInput source=\"returned\" />,\n];\n\nconst useDatagridStyles = makeStyles({\n    total: { fontWeight: 'bold' },\n});\n\nconst tabs = [\n    { id: 'ordered', name: 'ordered' },\n    { id: 'delivered', name: 'delivered' },\n    { id: 'cancelled', name: 'cancelled' },\n];\n\ninterface TabbedDatagridProps extends DatagridProps {}\n\nconst useGetTotals = (filterValues: any) => {\n    const { total: totalOrdered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'ordered' }\n    );\n    const { total: totalDelivered } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'delivered' }\n    );\n    const { total: totalCancelled } = useGetList(\n        'commands',\n        { perPage: 1, page: 1 },\n        { field: 'id', order: 'ASC' },\n        { ...filterValues, status: 'cancelled' }\n    );\n\n    return {\n        ordered: totalOrdered,\n        delivered: totalDelivered,\n        cancelled: totalCancelled,\n    };\n};\n\nconst TabbedDatagrid = (props: TabbedDatagridProps) => {\n    const listContext = useListContext();\n    const { ids, filterValues, setFilters, displayedFilters } = listContext;\n    const classes = useDatagridStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const [ordered, setOrdered] = useState<Identifier[]>([] as Identifier[]);\n    const [delivered, setDelivered] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const [cancelled, setCancelled] = useState<Identifier[]>(\n        [] as Identifier[]\n    );\n    const totals = useGetTotals(filterValues) as any;\n\n    useEffect(() => {\n        if (ids && ids !== filterValues.status) {\n            switch (filterValues.status) {\n                case 'ordered':\n                    setOrdered(ids);\n                    break;\n                case 'delivered':\n                    setDelivered(ids);\n                    break;\n                case 'cancelled':\n                    setCancelled(ids);\n                    break;\n            }\n        }\n    }, [ids, filterValues.status]);\n\n    const handleChange = useCallback(\n        (event: React.ChangeEvent<{}>, value: any) => {\n            setFilters &&\n                setFilters(\n                    { ...filterValues, status: value },\n                    displayedFilters\n                );\n        },\n        [displayedFilters, filterValues, setFilters]\n    );\n\n    const selectedIds =\n        filterValues.status === 'ordered'\n            ? ordered\n            : filterValues.status === 'delivered'\n            ? delivered\n            : cancelled;\n\n    return (\n        <Fragment>\n            <Tabs\n                variant=\"fullWidth\"\n                centered\n                value={filterValues.status}\n                indicatorColor=\"primary\"\n                onChange={handleChange}\n            >\n                {tabs.map(choice => (\n                    <Tab\n                        key={choice.id}\n                        label={\n                            totals[choice.name]\n                                ? `${choice.name} (${totals[choice.name]})`\n                                : choice.name\n                        }\n                        value={choice.id}\n                    />\n                ))}\n            </Tabs>\n            <Divider />\n            {isXSmall ? (\n                <ListContextProvider\n                    value={{ ...listContext, ids: selectedIds }}\n                >\n                    <MobileGrid {...props} ids={selectedIds} />\n                </ListContextProvider>\n            ) : (\n                <div>\n                    {filterValues.status === 'ordered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: ordered }}\n                        >\n                            <Datagrid {...props} optimized rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'delivered' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: delivered }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                    {filterValues.status === 'Cancelled' && (\n                        <ListContextProvider\n                            value={{ ...listContext, ids: cancelled }}\n                        >\n                            <Datagrid {...props} rowClick=\"edit\">\n                                <DateField source=\"date\" showTime />\n                                <TextField source=\"reference\" />\n                                <CustomerReferenceField />\n                                <ReferenceField\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    link={false}\n                                    label=\"resources.commands.fields.address\"\n                                >\n                                    <AddressField />\n                                </ReferenceField>\n                                <NbItemsField />\n                                <NumberField\n                                    source=\"total\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                    className={classes.total}\n                                />\n                                <BooleanField source=\"returned\" />\n                            </Datagrid>\n                        </ListContextProvider>\n                    )}\n                </div>\n            )}\n        </Fragment>\n    );\n};\n\nconst OrderList = (props: ListProps) => (\n    <List\n        {...props}\n        filterDefaultValues={{ status: 'ordered' }}\n        sort={{ field: 'date', order: 'DESC' }}\n        perPage={25}\n        filters={orderFilters}\n    >\n        <TabbedDatagrid />\n    </List>\n);\n\nexport default OrderList;\n","import * as React from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableRow,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, FieldProps, useTranslate, useQueryWithStore } from 'react-admin';\n\nimport { AppState, Order, Product } from '../types';\n\nconst useStyles = makeStyles({\n    rightAlignedCell: { textAlign: 'right' },\n});\n\nconst Basket = (props: FieldProps<Order>) => {\n    const { record } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    const { loaded, data: products } = useQueryWithStore<AppState>(\n        {\n            type: 'getMany',\n            resource: 'products',\n            payload: {\n                ids: record ? record.basket.map(item => item.product_id) : [],\n            },\n        },\n        {},\n        state => {\n            const productIds = record\n                ? record.basket.map(item => item.product_id)\n                : [];\n\n            return productIds\n                .map<Product>(\n                    productId =>\n                        state.admin.resources.products.data[\n                            productId\n                        ] as Product\n                )\n                .filter(r => typeof r !== 'undefined')\n                .reduce((prev, next) => {\n                    prev[next.id] = next;\n                    return prev;\n                }, {} as { [key: string]: Product });\n        }\n    );\n\n    if (!loaded || !record) return null;\n\n    return (\n        <Table>\n            <TableHead>\n                <TableRow>\n                    <TableCell>\n                        {translate(\n                            'resources.commands.fields.basket.reference'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate(\n                            'resources.commands.fields.basket.unit_price'\n                        )}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.quantity')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                </TableRow>\n            </TableHead>\n            <TableBody>\n                {record.basket.map(\n                    (item: any) =>\n                        products[item.product_id] && (\n                            <TableRow key={item.product_id}>\n                                <TableCell>\n                                    <Link to={`/products/${item.product_id}`}>\n                                        {products[item.product_id].reference}\n                                    </Link>\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {products[\n                                        item.product_id\n                                    ].price.toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {item.quantity}\n                                </TableCell>\n                                <TableCell className={classes.rightAlignedCell}>\n                                    {(\n                                        products[item.product_id].price *\n                                        item.quantity\n                                    ).toLocaleString(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    })}\n                                </TableCell>\n                            </TableRow>\n                        )\n                )}\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Basket;\n","import * as React from 'react';\nimport classnames from 'classnames';\nimport { Table, TableBody, TableCell, TableRow } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps, useTranslate } from 'react-admin';\n\nimport { Order } from '../types';\n\nconst useStyles = makeStyles({\n    container: { minWidth: '35em' },\n    rightAlignedCell: { textAlign: 'right' },\n    boldCell: { fontWeight: 'bold' },\n});\n\nconst Totals = (props: FieldProps<Order>) => {\n    const { record } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n\n    return (\n        <Table className={classes.container}>\n            <TableBody>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.sum')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.total_ex_taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.delivery')}\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.delivery_fees.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell>\n                        {translate('resources.commands.fields.basket.taxes')} (\n                        {record?.tax_rate.toLocaleString(undefined, {\n                            style: 'percent',\n                        })}\n                        )\n                    </TableCell>\n                    <TableCell className={classes.rightAlignedCell}>\n                        {record?.taxes.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n                <TableRow>\n                    <TableCell className={classes.boldCell}>\n                        {translate('resources.commands.fields.basket.total')}\n                    </TableCell>\n                    <TableCell\n                        className={classnames(\n                            classes.boldCell,\n                            classes.rightAlignedCell\n                        )}\n                    >\n                        {record?.total.toLocaleString(undefined, {\n                            style: 'currency',\n                            currency: 'USD',\n                        })}\n                    </TableCell>\n                </TableRow>\n            </TableBody>\n        </Table>\n    );\n};\n\nexport default Totals;\n","import * as React from 'react';\nimport {\n    BooleanInput,\n    DateField,\n    Edit,\n    EditProps,\n    FormWithRedirect,\n    Labeled,\n    ReferenceField,\n    SelectInput,\n    TextField,\n    Toolbar,\n    useTranslate,\n} from 'react-admin';\nimport { Link as RouterLink } from 'react-router-dom';\nimport {\n    Card,\n    CardContent,\n    Box,\n    Grid,\n    Typography,\n    Link,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Order, Customer } from '../types';\nimport Basket from './Basket';\nimport Totals from './Totals';\n\ninterface OrderTitleProps {\n    record?: Order;\n}\n\nconst OrderTitle = ({ record }: OrderTitleProps) => {\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.commands.title', {\n                reference: record.reference,\n            })}\n        </span>\n    ) : null;\n};\n\nconst CustomerDetails = ({ record }: { record?: Customer }) => (\n    <Box display=\"flex\" flexDirection=\"column\">\n        <Typography\n            component={RouterLink}\n            color=\"primary\"\n            to={`/customers/${record?.id}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography\n            component={Link}\n            color=\"primary\"\n            href={`mailto:${record?.email}`}\n            style={{ textDecoration: 'none' }}\n        >\n            {record?.email}\n        </Typography>\n    </Box>\n);\n\nconst CustomerAddress = ({ record }: { record?: Customer }) => (\n    <Box>\n        <Typography>\n            {record?.first_name} {record?.last_name}\n        </Typography>\n        <Typography>{record?.address}</Typography>\n        <Typography>\n            {record?.city}, {record?.stateAbbr} {record?.zipcode}\n        </Typography>\n    </Box>\n);\n\nconst useEditStyles = makeStyles({\n    root: { alignItems: 'flex-start' },\n});\n\nconst Spacer = () => <Box m={1}>&nbsp;</Box>;\n\nconst OrderForm = (props: any) => {\n    const translate = useTranslate();\n    return (\n        <FormWithRedirect\n            {...props}\n            render={(formProps: any) => (\n                <Box maxWidth=\"50em\">\n                    <Card>\n                        <CardContent>\n                            <Grid container spacing={1}>\n                                <Grid item xs={12} sm={12} md={8}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.order'\n                                        )}\n                                    </Typography>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"date\"\n                                                resource=\"commands\"\n                                            >\n                                                <DateField\n                                                    source=\"date\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Labeled\n                                                source=\"reference\"\n                                                resource=\"commands\"\n                                            >\n                                                <TextField\n                                                    source=\"reference\"\n                                                    resource=\"commands\"\n                                                    record={formProps.record}\n                                                />\n                                            </Labeled>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid container>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <SelectInput\n                                                resource=\"commands\"\n                                                source=\"status\"\n                                                choices={[\n                                                    {\n                                                        id: 'delivered',\n                                                        name: 'delivered',\n                                                    },\n                                                    {\n                                                        id: 'ordered',\n                                                        name: 'ordered',\n                                                    },\n                                                    {\n                                                        id: 'cancelled',\n                                                        name: 'cancelled',\n                                                    },\n                                                    {\n                                                        id: 'unknown',\n                                                        name: 'unknown',\n                                                        disabled: true,\n                                                    },\n                                                ]}\n                                            />\n                                        </Grid>\n                                        <Grid item xs={12} sm={12} md={6}>\n                                            <Box mt={2}>\n                                                <BooleanInput\n                                                    row={true}\n                                                    resource=\"commands\"\n                                                    source=\"returned\"\n                                                />\n                                            </Box>\n                                        </Grid>\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={12} sm={12} md={4}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.customer'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerDetails />\n                                    </ReferenceField>\n                                    <Spacer />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.commands.section.shipping_address'\n                                        )}\n                                    </Typography>\n                                    <ReferenceField\n                                        source=\"customer_id\"\n                                        resource=\"commands\"\n                                        reference=\"customers\"\n                                        basePath=\"/customers\"\n                                        record={formProps.record}\n                                        link={false}\n                                    >\n                                        <CustomerAddress />\n                                    </ReferenceField>\n                                </Grid>\n                            </Grid>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.items')}\n                            </Typography>\n                            <Box>\n                                <Basket record={formProps.record} />\n                            </Box>\n                            <Spacer />\n\n                            <Typography variant=\"h6\" gutterBottom>\n                                {translate('resources.commands.section.total')}\n                            </Typography>\n                            <Box>\n                                <Totals record={formProps.record} />\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"commands\"\n                        />\n                    </Card>\n                </Box>\n            )}\n        />\n    );\n};\nconst OrderEdit = (props: EditProps) => {\n    const classes = useEditStyles();\n    return (\n        <Edit\n            title={<OrderTitle />}\n            classes={classes}\n            {...props}\n            component=\"div\"\n        >\n            <OrderForm />\n        </Edit>\n    );\n};\n\nexport default OrderEdit;\n","/* eslint-disable import/no-anonymous-default-export */\nimport OrderIcon from '@material-ui/icons/AttachMoney';\n\nimport OrderList from './OrderList';\nimport OrderEdit from './OrderEdit';\n\nexport default {\n    list: OrderList,\n    edit: OrderEdit,\n    icon: OrderIcon,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkAcceptButton = (props: BulkActionProps) => {\n    const { selectedIds = noSelection } = props;\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [approve, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'accepted' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.accept\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp />\n        </Button>\n    );\n};\n\nBulkAcceptButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkAcceptButton;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport ThumbDown from '@material-ui/icons/ThumbDown';\n\nimport {\n    Button,\n    useUpdateMany,\n    useNotify,\n    useRefresh,\n    useUnselectAll,\n    CRUD_UPDATE_MANY,\n    BulkActionProps,\n    Identifier,\n} from 'react-admin';\n\nconst noSelection: Identifier[] = [];\n\nconst BulkRejectButton = (props: BulkActionProps) => {\n    const { selectedIds = noSelection } = props;\n    const notify = useNotify();\n    const refresh = useRefresh();\n    const unselectAll = useUnselectAll('reviews');\n\n    const [reject, { loading }] = useUpdateMany(\n        'reviews',\n        selectedIds,\n        { status: 'rejected' },\n        {\n            action: CRUD_UPDATE_MANY,\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                refresh();\n                unselectAll();\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n\n    return (\n        <Button\n            label=\"resources.reviews.action.reject\"\n            onClick={reject}\n            disabled={loading}\n        >\n            <ThumbDown />\n        </Button>\n    );\n};\n\nBulkRejectButton.propTypes = {\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nexport default BulkRejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport {\n    linkToRecord,\n    ReferenceField,\n    FunctionField,\n    TextField,\n    useListContext,\n    Record,\n} from 'react-admin';\n\nimport AvatarField from '../visitors/AvatarField';\nimport { Review, Customer } from './../types';\n\nconst useStyles = makeStyles({\n    root: {\n        width: '100vw',\n    },\n    link: {\n        textDecoration: 'none',\n        color: 'inherit',\n    },\n    inline: {\n        display: 'inline',\n    },\n});\n\nconst ReviewListMobile = () => {\n    const classes = useStyles();\n    const { basePath, data, ids, loaded, total } = useListContext<Review>();\n\n    return loaded || Number(total) > 0 ? (\n        <List className={classes.root}>\n            {(ids as Exclude<typeof ids, undefined>).map(id => {\n                const item = (data as Exclude<typeof data, undefined>)[id];\n                if (!item) return null;\n\n                return (\n                    <Link\n                        to={linkToRecord(basePath, id)}\n                        className={classes.link}\n                        key={id}\n                    >\n                        <ListItem button>\n                            <ListItemAvatar>\n                                <ReferenceField\n                                    record={item}\n                                    source=\"customer_id\"\n                                    reference=\"customers\"\n                                    basePath={basePath}\n                                    link={false}\n                                >\n                                    <AvatarField size=\"40\" />\n                                </ReferenceField>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Fragment>\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"customer_id\"\n                                            reference=\"customers\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <FunctionField\n                                                render={(record?: Record) =>\n                                                    record\n                                                        ? `${\n                                                              (record as Customer)\n                                                                  .first_name\n                                                          } ${\n                                                              (record as Customer)\n                                                                  .last_name\n                                                          }`\n                                                        : ''\n                                                }\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>{' '}\n                                        on{' '}\n                                        <ReferenceField\n                                            record={item}\n                                            source=\"product_id\"\n                                            reference=\"products\"\n                                            basePath={basePath}\n                                            link={false}\n                                        >\n                                            <TextField\n                                                source=\"reference\"\n                                                variant=\"subtitle1\"\n                                                className={classes.inline}\n                                            />\n                                        </ReferenceField>\n                                    </Fragment>\n                                }\n                                secondary={item.comment}\n                                secondaryTypographyProps={{ noWrap: true }}\n                            />\n                        </ListItem>\n                    </Link>\n                );\n            })}\n        </List>\n    ) : null;\n};\n\nReviewListMobile.propTypes = {\n    basePath: PropTypes.string,\n    data: PropTypes.any,\n    hasBulkActions: PropTypes.bool.isRequired,\n    ids: PropTypes.array,\n    onToggleItem: PropTypes.func,\n    selectedIds: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n\nReviewListMobile.defaultProps = {\n    hasBulkActions: false,\n    selectedIds: [],\n};\n\nexport default ReviewListMobile;\n","import * as React from 'react';\nimport { ReferenceField, ReferenceFieldProps, TextField } from 'react-admin';\n\ninterface Props {\n    source?: string;\n}\n\nconst ProductReferenceField = (\n    props: Props &\n        Omit<Omit<ReferenceFieldProps, 'source'>, 'reference' | 'children'>\n) => (\n    <ReferenceField\n        label=\"Product\"\n        source=\"product_id\"\n        reference=\"products\"\n        {...props}\n    >\n        <TextField source=\"reference\" />\n    </ReferenceField>\n);\n\nProductReferenceField.defaultProps = {\n    source: 'product_id',\n    addLabel: true,\n};\n\nexport default ProductReferenceField;\n","import * as React from 'react';\nimport Icon from '@material-ui/icons/Stars';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FieldProps } from 'react-admin';\n\nconst useStyles = makeStyles({\n    root: {\n        opacity: 0.87,\n        whiteSpace: 'nowrap',\n        display: 'flex',\n    },\n    large: {\n        width: 20,\n        height: 20,\n    },\n    small: {\n        width: 15,\n        height: 15,\n    },\n});\n\ninterface OwnProps {\n    size?: 'large' | 'small';\n}\n\nconst StarRatingField = ({ record, size = 'large' }: FieldProps & OwnProps) => {\n    const classes = useStyles();\n    return record ? (\n        <span className={classes.root}>\n            {Array(record.rating)\n                .fill(true)\n                .map((_, i) => (\n                    <Icon\n                        key={i}\n                        className={\n                            size === 'large' ? classes.large : classes.small\n                        }\n                    />\n                ))}\n        </span>\n    ) : null;\n};\n\nStarRatingField.defaultProps = {\n    label: 'resources.reviews.fields.rating',\n    source: 'rating',\n    addLabel: true,\n};\n\nexport default StarRatingField;\n","import green from \"@material-ui/core/colors/green\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport red from \"@material-ui/core/colors/red\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { Identifier } from \"react-admin\";\n\nimport { Review } from \"./../types\";\n\nconst rowStyle = (selectedRow?: Identifier) => (record: Review) => {\n  const theme = useTheme();\n  let style = {};\n  if (!record) {\n    return style;\n  }\n  if (selectedRow && selectedRow === record.id) {\n    style = {\n      ...style,\n      backgroundColor: theme.palette.action.selected,\n    };\n  }\n  if (record.status === \"Accepted\")\n    return {\n      ...style,\n      borderLeftColor: green[500],\n      borderLeftWidth: 5,\n      borderLeftStyle: \"solid\",\n    };\n  if (record.status === \"Pending\")\n    return {\n      ...style,\n      borderLeftColor: orange[500],\n      borderLeftWidth: 5,\n      borderLeftStyle: \"solid\",\n    };\n  if (record.status === \"Rejected\")\n    return {\n      ...style,\n      borderLeftColor: red[500],\n      borderLeftWidth: 5,\n      borderLeftStyle: \"solid\",\n    };\n  return style;\n};\n\nexport default rowStyle;\n","import * as React from 'react';\nimport {\n    Identifier,\n    Datagrid,\n    DateField,\n    TextField,\n    DatagridProps,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport rowStyle from './rowStyle';\n\nconst useListStyles = makeStyles({\n    headerRow: {\n        borderLeftColor: 'transparent',\n        borderLeftWidth: 5,\n        borderLeftStyle: 'solid',\n    },\n    headerCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    rowCell: {\n        padding: '6px 8px 6px 8px',\n    },\n    comment: {\n        maxWidth: '18em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n});\n\nexport interface ReviewListDesktopProps extends DatagridProps {\n    selectedRow?: Identifier;\n}\n\nconst ReviewListDesktop = ({\n    selectedRow,\n    ...props\n}: ReviewListDesktopProps) => {\n    const classes = useListStyles();\n    return (\n        <Datagrid\n            rowClick=\"edit\"\n            // @ts-ignore\n            rowStyle={rowStyle(selectedRow)}\n            classes={{\n                headerRow: classes.headerRow,\n                headerCell: classes.headerCell,\n                rowCell: classes.rowCell,\n            }}\n            optimized\n            {...props}\n        >\n            <DateField source=\"date\" />\n            <CustomerReferenceField link={false} />\n            <ProductReferenceField link={false} />\n            <StarRatingField size=\"small\" />\n            <TextField source=\"comment\" cellClassName={classes.comment} />\n            <TextField source=\"status\" />\n        </Datagrid>\n    );\n};\n\nexport default ReviewListDesktop;\n","import * as React from \"react\";\nimport {\n  AutocompleteInput,\n  DateInput,\n  ReferenceInput,\n  SearchInput,\n  SelectInput,\n} from \"react-admin\";\nimport { Customer } from \"../types\";\n\nconst reviewFilters = [\n  <SearchInput source=\"q\" alwaysOn />,\n  <SelectInput\n    source=\"status\"\n    choices={[\n      { id: \"accepted\", name: \"Accepted\" },\n      { id: \"pending\", name: \"Pending\" },\n      { id: \"rejected\", name: \"Rejected\" },\n    ]}\n  />,\n  <ReferenceInput source=\"customer_id\" reference=\"customers\">\n    <AutocompleteInput\n      optionText={(choice?: Customer) =>\n        choice?.id // the empty choice is { id: '' }\n          ? `${choice.first_name} ${choice.last_name}`\n          : \"\"\n      }\n    />\n  </ReferenceInput>,\n  <ReferenceInput source=\"product_id\" reference=\"products\">\n    <AutocompleteInput optionText=\"reference\" />\n  </ReferenceInput>,\n  <DateInput source=\"date_gte\" />,\n  <DateInput source=\"date_lte\" />,\n];\n\nexport default reviewFilters;\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ThumbUp from '@material-ui/icons/ThumbUp';\nimport { useTranslate, useUpdate, useNotify, useRedirect } from 'react-admin';\nimport { Review } from './../types';\n\n/**\n * This custom button demonstrate using useUpdate to update data\n */\nconst AcceptButton = ({ record }: { record: Review }) => {\n    const translate = useTranslate();\n    const notify = useNotify();\n    const redirectTo = useRedirect();\n\n    const [approve, { loading }] = useUpdate(\n        'reviews',\n        record.id,\n        { status: 'accepted' },\n        record,\n        {\n            undoable: true,\n            onSuccess: () => {\n                notify(\n                    'resources.reviews.notification.approved_success',\n                    'info',\n                    {},\n                    true\n                );\n                redirectTo('/reviews');\n            },\n            onFailure: () => {\n                notify(\n                    'resources.reviews.notification.approved_error',\n                    'warning'\n                );\n            },\n        }\n    );\n    return record && record.status === 'Pending' ? (\n        <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={approve}\n            disabled={loading}\n        >\n            <ThumbUp\n                color=\"primary\"\n                style={{ paddingRight: '0.5em', color: 'green' }}\n            />\n            {translate('resources.reviews.action.accept')}\n        </Button>\n    ) : (\n        <span />\n    );\n};\n\nAcceptButton.propTypes = {\n    record: PropTypes.any,\n};\n\nexport default AcceptButton;\n","import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport ThumbDown from \"@material-ui/icons/ThumbDown\";\nimport { useTranslate, useUpdate, useNotify, useRedirect } from \"react-admin\";\nimport { Review } from \"../types\";\n\n/**\n * This custom button demonstrate using a custom action to update data\n */\nconst RejectButton = ({ record }: { record: Review }) => {\n  const translate = useTranslate();\n  const notify = useNotify();\n  const redirectTo = useRedirect();\n\n  const [reject, { loading }] = useUpdate(\n    \"reviews\",\n    record.id,\n    { status: \"Rejected\" },\n    record,\n    {\n      undoable: true,\n      onSuccess: () => {\n        notify(\n          \"resources.reviews.notification.rejected_success\",\n          \"info\",\n          {},\n          true\n        );\n        redirectTo(\"/reviews\");\n      },\n      onFailure: () => {\n        notify(\"resources.reviews.notification.rejected_error\", \"warning\");\n      },\n    }\n  );\n\n  return record && record.status === \"Pending\" ? (\n    <Button\n      variant=\"outlined\"\n      color=\"primary\"\n      size=\"small\"\n      onClick={reject}\n      disabled={loading}\n    >\n      <ThumbDown\n        color=\"primary\"\n        style={{ paddingRight: \"0.5em\", color: \"red\" }}\n      />\n      {translate(\"resources.reviews.action.reject\")}\n    </Button>\n  ) : (\n    <span />\n  );\n};\n\nRejectButton.propTypes = {\n  record: PropTypes.any,\n};\n\nexport default RejectButton;\n","import * as React from 'react';\nimport { Fragment } from 'react';\nimport MuiToolbar from '@material-ui/core/Toolbar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { SaveButton, DeleteButton, ToolbarProps } from 'react-admin';\nimport AcceptButton from './AcceptButton';\nimport RejectButton from './RejectButton';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        backgroundColor: theme.palette.background.paper,\n        display: 'flex',\n        justifyContent: 'space-between',\n    },\n}));\n\nconst ReviewEditToolbar = (props: ToolbarProps<Review>) => {\n    const {\n        basePath,\n        handleSubmitWithRedirect,\n        invalid,\n        record,\n        resource,\n        saving,\n    } = props;\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <MuiToolbar className={classes.root}>\n            {record.status === 'Pending' ? (\n                <Fragment>\n                    <AcceptButton record={record} />\n                    <RejectButton record={record} />\n                </Fragment>\n            ) : (\n                <Fragment>\n                    <SaveButton\n                        handleSubmitWithRedirect={handleSubmitWithRedirect}\n                        invalid={invalid}\n                        saving={saving}\n                        redirect=\"list\"\n                        submitOnEnter={true}\n                    />\n                    <DeleteButton\n                        basePath={basePath}\n                        record={record}\n                        resource={resource}\n                    />\n                </Fragment>\n            )}\n        </MuiToolbar>\n    );\n};\n\nexport default ReviewEditToolbar;\n","import * as React from 'react';\nimport {\n    useEditController,\n    EditContextProvider,\n    useTranslate,\n    TextInput,\n    SimpleForm,\n    DateField,\n    EditProps,\n} from 'react-admin';\nimport { IconButton, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport ProductReferenceField from '../products/ProductReferenceField';\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from './StarRatingField';\nimport ReviewEditToolbar from './ReviewEditToolbar';\nimport { Review } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        paddingTop: 40,\n    },\n    title: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '1em',\n    },\n    form: {\n        [theme.breakpoints.up('xs')]: {\n            width: 400,\n        },\n        [theme.breakpoints.down('xs')]: {\n            width: '100vw',\n            marginTop: -30,\n        },\n    },\n    inlineField: {\n        display: 'inline-block',\n        width: '50%',\n    },\n}));\n\ninterface Props extends EditProps {\n    onCancel: () => void;\n}\n\nconst ReviewEdit = ({ onCancel, ...props }: Props) => {\n    const classes = useStyles();\n    const controllerProps = useEditController<Review>(props);\n    const translate = useTranslate();\n    if (!controllerProps.record) {\n        return null;\n    }\n    return (\n        <div className={classes.root}>\n            <div className={classes.title}>\n                <Typography variant=\"h6\">\n                    {translate('resources.reviews.detail')}\n                </Typography>\n                <IconButton onClick={onCancel}>\n                    <CloseIcon />\n                </IconButton>\n            </div>\n            <EditContextProvider value={controllerProps}>\n                <SimpleForm\n                    className={classes.form}\n                    basePath={controllerProps.basePath}\n                    record={controllerProps.record}\n                    save={controllerProps.save}\n                    version={controllerProps.version}\n                    redirect=\"list\"\n                    resource=\"reviews\"\n                    toolbar={<ReviewEditToolbar />}\n                >\n                    <CustomerReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <ProductReferenceField\n                        formClassName={classes.inlineField}\n                    />\n                    <DateField\n                        source=\"date\"\n                        formClassName={classes.inlineField}\n                    />\n                    <StarRatingField formClassName={classes.inlineField} />\n                    <TextInput\n                        source=\"comment\"\n                        rowsMax={15}\n                        multiline\n                        fullWidth\n                    />\n                </SimpleForm>\n            </EditContextProvider>\n        </div>\n    );\n};\n\nexport default ReviewEdit;\n","import * as React from 'react';\nimport { Fragment, useCallback } from 'react';\nimport classnames from 'classnames';\nimport {\n    BulkDeleteButton,\n    List,\n    ListProps,\n    BulkActionProps,\n} from 'react-admin';\nimport { Route, RouteChildrenProps, useHistory } from 'react-router-dom';\nimport { Drawer, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BulkAcceptButton from './BulkAcceptButton';\nimport BulkRejectButton from './BulkRejectButton';\nimport ReviewListMobile from './ReviewListMobile';\nimport ReviewListDesktop from './ReviewListDesktop';\nimport reviewFilters from './reviewFilters';\nimport ReviewEdit from './ReviewEdit';\n\nconst ReviewsBulkActionButtons = (props: BulkActionProps) => (\n    <Fragment>\n        <BulkAcceptButton {...props} />\n        <BulkRejectButton {...props} />\n        <BulkDeleteButton {...props} />\n    </Fragment>\n);\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: 'flex',\n    },\n    list: {\n        flexGrow: 1,\n        transition: theme.transitions.create(['all'], {\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n        marginRight: 0,\n    },\n    listWithDrawer: {\n        marginRight: 400,\n    },\n    drawerPaper: {\n        zIndex: 100,\n    },\n}));\n\nconst ReviewList = (props: ListProps) => {\n    const classes = useStyles();\n    const isXSmall = useMediaQuery<Theme>(theme =>\n        theme.breakpoints.down('xs')\n    );\n    const history = useHistory();\n\n    const handleClose = useCallback(() => {\n        history.push('/reviews');\n    }, [history]);\n\n    return (\n        <div className={classes.root}>\n            <Route path=\"/reviews/:id\">\n                {({ match }: RouteChildrenProps<{ id: string }>) => {\n                    const isMatch = !!(\n                        match &&\n                        match.params &&\n                        match.params.id !== 'create'\n                    );\n\n                    return (\n                        <Fragment>\n                            <List\n                                {...props}\n                                className={classnames(classes.list, {\n                                    [classes.listWithDrawer]: isMatch,\n                                })}\n                                bulkActionButtons={<ReviewsBulkActionButtons />}\n                                filters={reviewFilters}\n                                perPage={25}\n                                sort={{ field: 'date', order: 'DESC' }}\n                            >\n                                {isXSmall ? (\n                                    <ReviewListMobile />\n                                ) : (\n                                    <ReviewListDesktop\n                                        selectedRow={\n                                            isMatch\n                                                ? parseInt(\n                                                      (match as any).params.id,\n                                                      10\n                                                  )\n                                                : undefined\n                                        }\n                                    />\n                                )}\n                            </List>\n                            <Drawer\n                                variant=\"persistent\"\n                                open={isMatch}\n                                anchor=\"right\"\n                                onClose={handleClose}\n                                classes={{\n                                    paper: classes.drawerPaper,\n                                }}\n                            >\n                                {/* To avoid any errors if the route does not match, we don't render at all the component in this case */}\n                                {isMatch ? (\n                                    <ReviewEdit\n                                        id={(match as any).params.id}\n                                        onCancel={handleClose}\n                                        resource={props.resource}\n                                        basePath={props.basePath}\n                                    />\n                                ) : null}\n                            </Drawer>\n                        </Fragment>\n                    );\n                }}\n            </Route>\n        </div>\n    );\n};\n\nexport default ReviewList;\n","/* eslint-disable import/no-anonymous-default-export */\nimport ReviewIcon from '@material-ui/icons/Comment';\nimport ReviewList from './ReviewList';\n\nexport default {\n    icon: ReviewIcon,\n    list: ReviewList,\n};\n","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    NumberField,\n    TextField,\n    DateField,\n    useTranslate,\n    useGetList,\n    Record,\n    RecordMap,\n    Identifier,\n    ReferenceField,\n    useLocale,\n} from 'react-admin';\nimport {\n    Typography,\n    Card,\n    CardContent,\n    Box,\n    Link,\n    Stepper,\n    Step,\n    StepLabel,\n    StepContent,\n} from '@material-ui/core';\nimport { Link as RouterLink } from 'react-router-dom';\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport order from '../orders';\nimport review from '../reviews';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Order as OrderRecord, Review as ReviewRecord } from '../types';\n\nconst useAsideStyles = makeStyles(theme => ({\n    root: {\n        width: 400,\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\ninterface AsideProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst Aside = ({ record, basePath }: AsideProps) => {\n    const classes = useAsideStyles();\n    return (\n        <div className={classes.root}>\n            {record && <EventList record={record} basePath={basePath} />}\n        </div>\n    );\n};\n\nAside.propTypes = {\n    record: PropTypes.any,\n    basePath: PropTypes.string,\n};\n\ninterface EventListProps {\n    record?: Record;\n    basePath?: string;\n}\n\nconst useEventStyles = makeStyles({\n    stepper: {\n        background: 'none',\n        border: 'none',\n        marginLeft: '0.3em',\n    },\n});\n\nconst EventList = ({ record, basePath }: EventListProps) => {\n    const translate = useTranslate();\n    const classes = useEventStyles();\n    const locale = useLocale();\n    const { data: orders, ids: orderIds } = useGetList<OrderRecord>(\n        'commands',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const { data: reviews, ids: reviewIds } = useGetList<ReviewRecord>(\n        'reviews',\n        { page: 1, perPage: 100 },\n        { field: 'date', order: 'DESC' },\n        { customer_id: record && record.id }\n    );\n    const events = mixOrdersAndReviews(orders, orderIds, reviews, reviewIds);\n\n    return (\n        <>\n            <Box m=\"0 0 1em 1em\">\n                <Card>\n                    <CardContent>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {translate(\n                                'resources.customers.fieldGroups.history'\n                            )}\n                        </Typography>\n                        <Box display=\"flex\">\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.first_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"first_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {orderIds && orderIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <order.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.commands.amount',\n                                                    {\n                                                        smart_count:\n                                                            orderIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                            <Box flexGrow={1}>\n                                <Box display=\"flex\" mb=\"1em\">\n                                    <Box mr=\"1em\">\n                                        <AccessTimeIcon\n                                            fontSize=\"small\"\n                                            color=\"disabled\"\n                                        />\n                                    </Box>\n                                    <Box flexGrow={1}>\n                                        <Typography>\n                                            {translate(\n                                                'resources.customers.fields.last_seen'\n                                            )}\n                                        </Typography>\n                                        <DateField\n                                            record={record}\n                                            source=\"last_seen\"\n                                        />\n                                    </Box>\n                                </Box>\n                                {reviewIds && reviewIds.length > 0 && (\n                                    <Box display=\"flex\">\n                                        <Box mr=\"1em\">\n                                            <review.icon\n                                                fontSize=\"small\"\n                                                color=\"disabled\"\n                                            />\n                                        </Box>\n                                        <Box flexGrow={1}>\n                                            <Typography>\n                                                {translate(\n                                                    'resources.reviews.amount',\n                                                    {\n                                                        smart_count:\n                                                            reviewIds.length,\n                                                    }\n                                                )}\n                                            </Typography>\n                                        </Box>\n                                    </Box>\n                                )}\n                            </Box>\n                        </Box>\n                    </CardContent>\n                </Card>\n            </Box>\n            <Stepper orientation=\"vertical\" classes={{ root: classes.stepper }}>\n                {events.map(event => (\n                    <Step\n                        key={`${event.type}-${event.data.id}`}\n                        expanded\n                        active\n                        completed\n                    >\n                        <StepLabel\n                            StepIconComponent={() => {\n                                const Component =\n                                    event.type === 'order'\n                                        ? order.icon\n                                        : review.icon;\n                                return (\n                                    <Component\n                                        fontSize=\"small\"\n                                        color=\"disabled\"\n                                        style={{ paddingLeft: 3 }}\n                                    />\n                                );\n                            }}\n                        >\n                            {new Date(event.date).toLocaleString(locale, {\n                                weekday: 'long',\n                                year: 'numeric',\n                                month: 'short',\n                                day: 'numeric',\n                                hour: 'numeric',\n                                minute: 'numeric',\n                            })}\n                        </StepLabel>\n                        <StepContent>\n                            {event.type === 'order' ? (\n                                <Order\n                                    record={event.data as OrderRecord}\n                                    key={`event_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            ) : (\n                                <Review\n                                    record={event.data as ReviewRecord}\n                                    key={`review_${event.data.id}`}\n                                    basePath={basePath}\n                                />\n                            )}\n                        </StepContent>\n                    </Step>\n                ))}\n            </Stepper>\n        </>\n    );\n};\n\ninterface AsideEvent {\n    type: string;\n    date: Date;\n    data: OrderRecord | ReviewRecord;\n}\n\nconst mixOrdersAndReviews = (\n    orders?: RecordMap<OrderRecord>,\n    orderIds?: Identifier[],\n    reviews?: RecordMap<ReviewRecord>,\n    reviewIds?: Identifier[]\n): AsideEvent[] => {\n    const eventsFromOrders =\n        orderIds && orders\n            ? orderIds.map<AsideEvent>(id => ({\n                  type: 'order',\n                  date: orders[id].date,\n                  data: orders[id],\n              }))\n            : [];\n    const eventsFromReviews =\n        reviewIds && reviews\n            ? reviewIds.map<AsideEvent>(id => ({\n                  type: 'review',\n                  date: reviews[id].date,\n                  data: reviews[id],\n              }))\n            : [];\n    const events = eventsFromOrders.concat(eventsFromReviews);\n    events.sort(\n        (e1, e2) => new Date(e2.date).getTime() - new Date(e1.date).getTime()\n    );\n    return events;\n};\n\ninterface OrderProps {\n    record?: OrderRecord;\n    basePath?: string;\n}\n\nconst Order = ({ record, basePath }: OrderProps) => {\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/commands/${record.id}`} component={RouterLink}>\n                    {translate('resources.commands.name', {\n                        smart_count: 1,\n                    })}{' '}\n                    #{record.reference}\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n                {translate('resources.commands.nb_items', {\n                    smart_count: record.basket.length,\n                    _: '1 item |||| %{smart_count} items',\n                })}\n                &nbsp;-&nbsp;\n                <NumberField\n                    source=\"total\"\n                    options={{\n                        style: 'currency',\n                        currency: 'USD',\n                    }}\n                    record={record}\n                    basePath={basePath}\n                />\n                &nbsp;-&nbsp;\n                <TextField\n                    source=\"status\"\n                    record={record}\n                    basePath={basePath}\n                />\n            </Typography>\n        </>\n    ) : null;\n};\n\ninterface ReviewProps {\n    record?: ReviewRecord;\n    basePath?: string;\n}\n\nconst useReviewStyles = makeStyles({\n    clamp: {\n        display: '-webkit-box',\n        '-webkit-line-clamp': 3,\n        '-webkit-box-orient': 'vertical',\n        overflow: 'hidden',\n    },\n});\n\nconst Review = ({ record, basePath }: ReviewProps) => {\n    const classes = useReviewStyles();\n    const translate = useTranslate();\n    return record ? (\n        <>\n            <Typography variant=\"body2\" gutterBottom>\n                <Link to={`/reviews/${record.id}`} component={RouterLink}>\n                    {translate('resources.reviews.relative_to_poster')} \"\n                    <ReferenceField\n                        source=\"product_id\"\n                        reference=\"products\"\n                        resource=\"reviews\"\n                        record={record}\n                        basePath={basePath}\n                        link={false}\n                    >\n                        <TextField source=\"reference\" component=\"span\" />\n                    </ReferenceField>\n                    \"\n                </Link>\n            </Typography>\n            <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                <StarRatingField record={record} />\n            </Typography>\n            <Typography\n                variant=\"body2\"\n                color=\"textSecondary\"\n                className={classes.clamp}\n            >\n                {record.comment}\n            </Typography>\n        </>\n    ) : null;\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { useTranslate, SelectArrayInput, InputProps } from 'react-admin';\n\nimport segments from '../segments/data';\n\ninterface Props extends Omit<InputProps, 'source'> {\n    source?: string;\n}\n\nconst SegmentsInput = ({ addField, ...rest }: Props) => {\n    const translate = useTranslate();\n    return (\n        <SelectArrayInput\n            source=\"groups\"\n            {...rest}\n            choices={segments.map(segment => ({\n                id: segment.id,\n                name: translate(segment.name),\n            }))}\n        />\n    );\n};\n\nSegmentsInput.defaultProps = {\n    addField: true,\n    source: 'groups',\n    resource: 'customers',\n};\n\nexport default SegmentsInput;\n","import * as React from 'react';\nimport {\n    DateInput,\n    Edit,\n    EditProps,\n    NullableBooleanInput,\n    TextInput,\n    PasswordInput,\n    Toolbar,\n    useTranslate,\n    FormWithRedirect,\n    required,\n    email,\n    FieldProps,\n} from 'react-admin';\nimport { Box, Card, CardContent, Typography } from '@material-ui/core';\n\nimport Aside from './Aside';\nimport FullNameField from './FullNameField';\nimport SegmentsInput from './SegmentsInput';\nimport { validatePasswords } from './VisitorCreate';\nimport { Customer } from '../types';\n\nconst VisitorEdit = (props: EditProps) => {\n    return (\n        <Edit\n            title={<VisitorTitle />}\n            aside={<Aside />}\n            component=\"div\"\n            {...props}\n        >\n            <VisitorForm />\n        </Edit>\n    );\n};\n\nconst VisitorTitle = ({ record }: FieldProps<Customer>) =>\n    record ? <FullNameField record={record} size=\"32\" /> : null;\n\nconst VisitorForm = (props: any) => {\n    const translate = useTranslate();\n\n    return (\n        <FormWithRedirect\n            {...props}\n            validate={validatePasswords}\n            render={(formProps: any) => (\n                <Card>\n                    <form>\n                        <CardContent>\n                            <Box display={{ md: 'block', lg: 'flex' }}>\n                                <Box flex={2} mr={{ md: 0, lg: '1em' }}>\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.identity'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"first_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"last_name\"\n                                                resource=\"customers\"\n                                                validate={requiredValidate}\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                    <TextInput\n                                        type=\"email\"\n                                        source=\"email\"\n                                        resource=\"customers\"\n                                        validate={[email(), required()]}\n                                        fullWidth\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <DateInput\n                                                source=\"birthday\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={2}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        />\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.address'\n                                        )}\n                                    </Typography>\n                                    <TextInput\n                                        source=\"address\"\n                                        resource=\"customers\"\n                                        multiline\n                                        fullWidth\n                                        helperText={false}\n                                    />\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={2}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"city\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <TextInput\n                                                source=\"stateAbbr\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                        <Box flex={2}>\n                                            <TextInput\n                                                source=\"zipcode\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                                helperText={false}\n                                            />\n                                        </Box>\n                                    </Box>\n\n                                    <Box mt=\"1em\" />\n\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.change_password'\n                                        )}\n                                    </Typography>\n                                    <Box display={{ xs: 'block', sm: 'flex' }}>\n                                        <Box\n                                            flex={1}\n                                            mr={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                        <Box\n                                            flex={1}\n                                            ml={{ xs: 0, sm: '0.5em' }}\n                                        >\n                                            <PasswordInput\n                                                source=\"confirm_password\"\n                                                resource=\"customers\"\n                                                fullWidth\n                                            />\n                                        </Box>\n                                    </Box>\n                                </Box>\n                                <Box\n                                    flex={1}\n                                    ml={{ xs: 0, lg: '1em' }}\n                                    mt={{ xs: '1em', lg: 0 }}\n                                >\n                                    <Typography variant=\"h6\" gutterBottom>\n                                        {translate(\n                                            'resources.customers.fieldGroups.stats'\n                                        )}\n                                    </Typography>\n                                    <div>\n                                        <SegmentsInput fullWidth />\n                                    </div>\n                                    <div>\n                                        <NullableBooleanInput\n                                            source=\"has_newsletter\"\n                                            resource=\"customers\"\n                                        />\n                                    </div>\n                                </Box>\n                            </Box>\n                        </CardContent>\n                        <Toolbar\n                            record={formProps.record}\n                            basePath={formProps.basePath}\n                            undoable={true}\n                            invalid={formProps.invalid}\n                            handleSubmit={formProps.handleSubmit}\n                            saving={formProps.saving}\n                            resource=\"customers\"\n                        />\n                    </form>\n                </Card>\n            )}\n        />\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default VisitorEdit;\n","import VisitorIcon from '@material-ui/icons/People';\n\nimport VisitorList from './VisitorList';\nimport VisitorCreate from './VisitorCreate';\nimport VisitorEdit from './VisitorEdit';\n\nconst resource = {\n    list: VisitorList,\n    create: VisitorCreate,\n    edit: VisitorEdit,\n    icon: VisitorIcon,\n};\n\nexport default resource;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    useShowController,\n    ReferenceField,\n    TextField,\n    FieldProps,\n} from 'react-admin';\n\nimport Basket from '../orders/Basket';\nimport { Customer, Invoice } from '../types';\n\nconst CustomerField = ({ record }: FieldProps<Customer>) =>\n    record ? (\n        <Typography>\n            {record.first_name} {record.last_name}\n            <br />\n            {record.address}\n            <br />\n            {record.city}, {record.zipcode}\n        </Typography>\n    ) : null;\n\nconst InvoiceShow = (props: any) => {\n    const { record } = useShowController<Invoice>(props);\n    const classes = useStyles();\n\n    if (!record) return null;\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            Posters Galore\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"right\">\n                            Invoice {record.id}\n                        </Typography>\n                    </Grid>\n                </Grid>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} container alignContent=\"flex-end\">\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"customers\"\n                            source=\"customer_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <CustomerField />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.spacer}>&nbsp;</div>\n                <Grid container spacing={2}>\n                    <Grid item xs={6}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Date{' '}\n                        </Typography>\n                        <Typography gutterBottom align=\"center\">\n                            {new Date(record.date).toLocaleDateString()}\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={5}>\n                        <Typography variant=\"h6\" gutterBottom align=\"center\">\n                            Order\n                        </Typography>\n                        <ReferenceField\n                            resource=\"invoices\"\n                            reference=\"commands\"\n                            source=\"command_id\"\n                            basePath=\"/invoices\"\n                            record={record}\n                            link={false}\n                        >\n                            <TextField\n                                source=\"reference\"\n                                align=\"center\"\n                                component=\"p\"\n                                gutterBottom\n                            />\n                        </ReferenceField>\n                    </Grid>\n                </Grid>\n                <div className={classes.invoices}>\n                    <ReferenceField\n                        resource=\"invoices\"\n                        reference=\"commands\"\n                        source=\"command_id\"\n                        basePath=\"/invoices\"\n                        record={record}\n                        link={false}\n                    >\n                        <Basket />\n                    </ReferenceField>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default InvoiceShow;\n\nconst useStyles = makeStyles({\n    root: { width: 600, margin: 'auto' },\n    spacer: { height: 20 },\n    invoices: { margin: '10px 0' },\n});\n","import * as React from 'react';\nimport {\n    List,\n    ListProps,\n    Datagrid,\n    TextField,\n    DateField,\n    ReferenceField,\n    NumberField,\n    DateInput,\n} from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport FullNameField from '../visitors/FullNameField';\nimport AddressField from '../visitors/AddressField';\nimport InvoiceShow from './InvoiceShow';\n\nconst listFilters = [\n    <DateInput source=\"date_gte\" alwaysOn />,\n    <DateInput source=\"date_lte\" alwaysOn />,\n];\n\nconst useStyles = makeStyles(theme => ({\n    hiddenOnSmallScreens: {\n        display: 'table-cell',\n        [theme.breakpoints.down('md')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst InvoiceList = (props: ListProps) => {\n    const classes = useStyles();\n    return (\n        <List\n            {...props}\n            filters={listFilters}\n            perPage={25}\n            sort={{ field: 'date', order: 'desc' }}\n        >\n            <Datagrid rowClick=\"expand\" expand={<InvoiceShow />}>\n                <TextField source=\"id\" />\n                <DateField source=\"date\" />\n                <ReferenceField source=\"customer_id\" reference=\"customers\">\n                    <FullNameField />\n                </ReferenceField>\n                <ReferenceField\n                    source=\"customer_id\"\n                    reference=\"customers\"\n                    link={false}\n                    label=\"resources.invoices.fields.address\"\n                    cellClassName={classes.hiddenOnSmallScreens}\n                    headerClassName={classes.hiddenOnSmallScreens}\n                >\n                    <AddressField />\n                </ReferenceField>\n                <ReferenceField source=\"command_id\" reference=\"commands\">\n                    <TextField source=\"reference\" />\n                </ReferenceField>\n                <NumberField source=\"total_ex_taxes\" />\n                <NumberField source=\"delivery_fees\" />\n                <NumberField source=\"taxes\" />\n                <NumberField source=\"total\" />\n            </Datagrid>\n        </List>\n    );\n};\n\nexport default InvoiceList;\n","/* eslint-disable import/no-anonymous-default-export */\nimport InvoiceIcon from '@material-ui/icons/LibraryBooks';\n\nimport InvoiceList from './InvoiceList';\n\nexport default {\n    list: InvoiceList,\n    icon: InvoiceIcon,\n};\n","import * as React from 'react';\nimport MuiGridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport withWidth, { WithWidth } from '@material-ui/core/withWidth';\nimport {\n    linkToRecord,\n    NumberField,\n    useListContext,\n    DatagridProps,\n    Identifier,\n} from 'react-admin';\nimport { Link } from 'react-router-dom';\nimport { Breakpoint } from '@material-ui/core/styles/createBreakpoints';\n\nconst useStyles = makeStyles(theme => ({\n    gridList: {\n        margin: 0,\n    },\n    tileBar: {\n        background:\n            'linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)',\n    },\n    placeholder: {\n        backgroundColor: theme.palette.grey[300],\n        height: '100%',\n    },\n    price: {\n        display: 'inline',\n        fontSize: '1em',\n    },\n    link: {\n        color: '#fff',\n    },\n}));\n\nconst getColsForWidth = (width: Breakpoint) => {\n    if (width === 'xs') return 2;\n    if (width === 'sm') return 3;\n    if (width === 'md') return 3;\n    if (width === 'lg') return 5;\n    return 6;\n};\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n    Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = (props: GridProps & { nbItems?: number }) => {\n    const { width, nbItems = 20 } = props;\n    const classes = useStyles();\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {' '}\n            {times(nbItems, key => (\n                <GridListTile key={key}>\n                    <div className={classes.placeholder} />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\nconst LoadedGridList = (props: GridProps) => {\n    const { width } = props;\n    const { ids, data, basePath } = useListContext();\n    const classes = useStyles();\n\n    if (!ids || !data) return null;\n\n    return (\n        <MuiGridList\n            cellHeight={180}\n            cols={getColsForWidth(width)}\n            className={classes.gridList}\n        >\n            {ids.map((id: Identifier) => (\n                <GridListTile\n                    // @ts-ignore\n                    component={Link}\n                    key={id}\n                    to={linkToRecord(basePath, data[id].id)}\n                >\n                    <img src={data[id].thumbnail} alt=\"\" />\n                    <GridListTileBar\n                        className={classes.tileBar}\n                        title={data[id].reference}\n                        subtitle={\n                            <span>\n                                {data[id].width}x{data[id].height},{' '}\n                                <NumberField\n                                    className={classes.price}\n                                    source=\"price\"\n                                    record={data[id]}\n                                    color=\"inherit\"\n                                    options={{\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }}\n                                />\n                            </span>\n                        }\n                    />\n                </GridListTile>\n            ))}\n        </MuiGridList>\n    );\n};\n\ninterface GridProps extends Omit<DatagridProps, 'width'>, WithWidth {}\n\nconst GridList = (props: WithWidth) => {\n    const { width } = props;\n    const { loaded } = useListContext();\n    return loaded ? (\n        <LoadedGridList width={width} />\n    ) : (\n        <LoadingGridList width={width} />\n    );\n};\n\nexport default withWidth()(GridList);\n","import * as React from 'react';\nimport inflection from 'inflection';\nimport { Card, CardContent } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LocalOfferIcon from '@material-ui/icons/LocalOfferOutlined';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney';\nimport {\n    FilterList,\n    FilterListItem,\n    FilterLiveSearch,\n    useGetList,\n} from 'react-admin';\n\nimport { Category } from '../types';\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        [theme.breakpoints.up('sm')]: {\n            width: '15em',\n            marginRight: '1em',\n            overflow: 'initial',\n        },\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n}));\n\nconst Aside = () => {\n    const { data, ids } = useGetList<Category>(\n        'categories',\n        { page: 1, perPage: 100 },\n        { field: 'name', order: 'ASC' },\n        {}\n    );\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <FilterLiveSearch />\n\n                <FilterList\n                    label=\"resources.products.filters.sales\"\n                    icon={<AttachMoneyIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.best_sellers\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: 25,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_sellers\"\n                        value={{\n                            sales_lte: 25,\n                            sales_gt: 10,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_sellers\"\n                        value={{\n                            sales_lte: 10,\n                            sales_gt: 0,\n                            sales: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.never_sold\"\n                        value={{\n                            sales_lte: undefined,\n                            sales_gt: undefined,\n                            sales: 0,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.stock\"\n                    icon={<BarChartIcon />}\n                >\n                    <FilterListItem\n                        label=\"resources.products.filters.no_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: undefined,\n                            stock: 0,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.low_stock\"\n                        value={{\n                            stock_lt: 10,\n                            stock_gt: 0,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.average_stock\"\n                        value={{\n                            stock_lt: 50,\n                            stock_gt: 9,\n                            stock: undefined,\n                        }}\n                    />\n                    <FilterListItem\n                        label=\"resources.products.filters.enough_stock\"\n                        value={{\n                            stock_lt: undefined,\n                            stock_gt: 49,\n                            stock: undefined,\n                        }}\n                    />\n                </FilterList>\n\n                <FilterList\n                    label=\"resources.products.filters.categories\"\n                    icon={<LocalOfferIcon />}\n                >\n                    {ids &&\n                        data &&\n                        ids.map((id: any) => (\n                            <FilterListItem\n                                label={inflection.humanize(data[id].name)}\n                                key={data[id].id}\n                                value={{ category_id: data[id].id }}\n                            />\n                        ))}\n                </FilterList>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Aside;\n","import * as React from 'react';\nimport { Box, Chip, useMediaQuery, Theme } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    CreateButton,\n    ExportButton,\n    FilterButton,\n    FilterForm,\n    FilterContext,\n    InputProps,\n    ListBase,\n    ListProps,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    SearchInput,\n    SelectInput,\n    SortButton,\n    Title,\n    TopToolbar,\n    useListContext,\n    useTranslate,\n} from 'react-admin';\n\nimport GridList from './GridList';\nimport Aside from './Aside';\n\nconst useQuickFilterStyles = makeStyles(theme => ({\n    root: {\n        marginBottom: theme.spacing(1),\n    },\n}));\n\nconst QuickFilter = ({ label }: InputProps) => {\n    const translate = useTranslate();\n    const classes = useQuickFilterStyles();\n    return <Chip className={classes.root} label={translate(label)} />;\n};\n\nexport const productFilters = [\n    <SearchInput source=\"q\" alwaysOn />,\n    <ReferenceInput\n        source=\"category_id\"\n        reference=\"categories\"\n        sort={{ field: 'id', order: 'ASC' }}\n    >\n        <SelectInput source=\"name\" />\n    </ReferenceInput>,\n    <NumberInput source=\"width_gte\" />,\n    <NumberInput source=\"width_lte\" />,\n    <NumberInput source=\"height_gte\" />,\n    <NumberInput source=\"height_lte\" />,\n    <QuickFilter\n        label=\"resources.products.fields.stock_lte\"\n        source=\"stock_lte\"\n        defaultValue={10}\n    />,\n];\n\nconst ListActions = ({ isSmall }: any) => (\n    <TopToolbar>\n        {isSmall && <FilterButton />}\n        <SortButton fields={['reference', 'sales', 'stock']} />\n        <CreateButton basePath=\"/products\" />\n        <ExportButton />\n    </TopToolbar>\n);\n\nconst ProductList = (props: ListProps) => {\n    const isSmall = useMediaQuery<Theme>(theme => theme.breakpoints.down('sm'));\n    return (\n        <ListBase\n            perPage={20}\n            sort={{ field: 'reference', order: 'ASC' }}\n            {...props}\n        >\n            <ProductListView isSmall={isSmall} />\n        </ListBase>\n    );\n};\n\nconst ProductListView = ({ isSmall }: { isSmall: boolean }) => {\n    const { defaultTitle } = useListContext();\n    return (\n        <>\n            <Title defaultTitle={defaultTitle} />\n            <FilterContext.Provider value={productFilters}>\n                <ListActions isSmall={isSmall} />\n                {isSmall && (\n                    <Box m={1}>\n                        <FilterForm />\n                    </Box>\n                )}\n            </FilterContext.Provider>\n            <Box display=\"flex\">\n                <Aside />\n                <Box width={isSmall ? 'auto' : 'calc(100% - 16em)'}>\n                    <GridList />\n                    <Pagination rowsPerPageOptions={[10, 20, 40]} />\n                </Box>\n            </Box>\n        </>\n    );\n};\nexport default ProductList;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { display: 'inline-block', marginTop: '1em', zIndex: 2 },\n    content: { padding: 0, '&:last-child': { padding: 0 } },\n    img: {\n        width: 'initial',\n        minWidth: 'initial',\n        maxWidth: '42em',\n        maxHeight: '15em',\n    },\n});\n\nconst Poster = (props: FieldProps<Product>) => {\n    const { record } = props;\n    const classes = useStyles();\n\n    if (!record) return null;\n\n    return (\n        <Card className={classes.root}>\n            <CardContent className={classes.content}>\n                <img src={record.image} alt=\"\" className={classes.img} />\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Poster;\n","import * as React from 'react';\nimport {\n    Create,\n    FormTab,\n    NumberInput,\n    ReferenceInput,\n    SelectInput,\n    TabbedForm,\n    TextInput,\n    required,\n    CreateProps,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nexport const styles = {\n    price: { width: '7em' },\n    width: { width: '7em' },\n    height: { width: '7em' },\n    stock: { width: '7em' },\n    widthFormGroup: { display: 'inline-block' },\n    heightFormGroup: { display: 'inline-block', marginLeft: 32 },\n};\n\nconst useStyles = makeStyles(styles);\n\nconst ProductCreate = (props: CreateProps) => {\n    const classes = useStyles();\n    return (\n        <Create {...props}>\n            <TabbedForm>\n                <FormTab label=\"resources.products.tabs.image\">\n                    <TextInput\n                        autoFocus\n                        source=\"image\"\n                        fullWidth\n                        validate={required()}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={required()}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.details\" path=\"details\">\n                    <TextInput source=\"reference\" validate={required()} />\n                    <NumberInput\n                        source=\"price\"\n                        validate={required()}\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        validate={required()}\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        validate={required()}\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        allowEmpty\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        validate={required()}\n                        className={classes.stock}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                >\n                    <RichTextInput source=\"description\" label=\"\" />\n                </FormTab>\n            </TabbedForm>\n        </Create>\n    );\n};\n\nexport default ProductCreate;\n","import * as React from 'react';\nimport {\n    Datagrid,\n    DateField,\n    Edit,\n    EditButton,\n    EditProps,\n    FormTab,\n    NumberInput,\n    Pagination,\n    ReferenceInput,\n    ReferenceManyField,\n    required,\n    SelectInput,\n    TabbedForm,\n    TextField,\n    TextInput,\n} from 'react-admin';\nimport { InputAdornment } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport RichTextInput from 'ra-input-rich-text';\n\nimport CustomerReferenceField from '../visitors/CustomerReferenceField';\nimport StarRatingField from '../reviews/StarRatingField';\nimport Poster from './Poster';\nimport { styles as createStyles } from './ProductCreate';\nimport { Product } from '../types';\n\ninterface ProductTitleProps {\n    record?: Product;\n}\n\nconst ProductTitle = ({ record }: ProductTitleProps) =>\n    record ? <span>Poster #{record.reference}</span> : null;\n\nconst useStyles = makeStyles({\n    ...createStyles,\n    comment: {\n        maxWidth: '20em',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'nowrap',\n    },\n    tab: {\n        maxWidth: '40em',\n        display: 'block',\n    },\n});\n\nconst ProductEdit = (props: EditProps) => {\n    const classes = useStyles();\n    return (\n        <Edit {...props} title={<ProductTitle />}>\n            <TabbedForm>\n                <FormTab\n                    label=\"resources.products.tabs.image\"\n                    contentClassName={classes.tab}\n                >\n                    <Poster />\n                    <TextInput\n                        source=\"image\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                    <TextInput\n                        source=\"thumbnail\"\n                        fullWidth\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.details\"\n                    path=\"details\"\n                    contentClassName={classes.tab}\n                >\n                    <TextInput source=\"reference\" validate={requiredValidate} />\n                    <NumberInput\n                        source=\"price\"\n                        className={classes.price}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    €\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"width\"\n                        className={classes.width}\n                        formClassName={classes.widthFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"height\"\n                        className={classes.height}\n                        formClassName={classes.heightFormGroup}\n                        InputProps={{\n                            endAdornment: (\n                                <InputAdornment position=\"start\">\n                                    cm\n                                </InputAdornment>\n                            ),\n                        }}\n                        validate={requiredValidate}\n                    />\n                    <ReferenceInput\n                        source=\"category_id\"\n                        reference=\"categories\"\n                        validate={requiredValidate}\n                    >\n                        <SelectInput source=\"name\" />\n                    </ReferenceInput>\n                    <NumberInput\n                        source=\"stock\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                    <NumberInput\n                        source=\"sales\"\n                        className={classes.stock}\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab\n                    label=\"resources.products.tabs.description\"\n                    path=\"description\"\n                    contentClassName={classes.tab}\n                >\n                    <RichTextInput\n                        source=\"description\"\n                        label=\"\"\n                        validate={requiredValidate}\n                    />\n                </FormTab>\n                <FormTab label=\"resources.products.tabs.reviews\" path=\"reviews\">\n                    <ReferenceManyField\n                        reference=\"reviews\"\n                        target=\"product_id\"\n                        addLabel={false}\n                        pagination={<Pagination />}\n                        fullWidth\n                    >\n                        <Datagrid>\n                            <DateField source=\"date\" />\n                            <CustomerReferenceField />\n                            <StarRatingField />\n                            <TextField\n                                source=\"comment\"\n                                cellClassName={classes.comment}\n                            />\n                            <TextField source=\"status\" />\n                            <EditButton />\n                        </Datagrid>\n                    </ReferenceManyField>\n                </FormTab>\n            </TabbedForm>\n        </Edit>\n    );\n};\n\nconst requiredValidate = [required()];\n\nexport default ProductEdit;\n","/* eslint-disable import/no-anonymous-default-export */\nimport ProductIcon from '@material-ui/icons/Collections';\nimport ProductList from './ProductList';\nimport ProductEdit from './ProductEdit';\nimport ProductCreate from './ProductCreate';\n\nexport default {\n    list: ProductList,\n    create: ProductCreate,\n    edit: ProductEdit,\n    icon: ProductIcon,\n};\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, FieldProps } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport products from '../products';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedProducts = (props: FieldProps<Category>) => {\n    const { record } = props;\n    const translate = useTranslate();\n    const classes = useStyles();\n    return record ? (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/products',\n                search: stringify({\n                    filter: JSON.stringify({ category_id: record.id }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <products.icon className={classes.icon} />\n            {translate('resources.categories.fields.products')}\n        </Button>\n    ) : null;\n};\n\nexport default LinkToRelatedProducts;\n","import * as React from 'react';\nimport { EditButton, List, ListProps, useListContext } from 'react-admin';\nimport inflection from 'inflection';\nimport {\n    Grid,\n    Card,\n    CardMedia,\n    CardContent,\n    CardActions,\n    Typography,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LinkToRelatedProducts from './LinkToRelatedProducts';\nimport { Category } from '../types';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: '1em',\n    },\n    media: {\n        height: 140,\n    },\n    title: {\n        paddingBottom: '0.5em',\n    },\n    actionSpacer: {\n        display: 'flex',\n        justifyContent: 'space-around',\n    },\n});\n\nconst CategoryGrid = (props: any) => {\n    const classes = useStyles(props);\n    const { data, ids } = useListContext<Category>();\n    return ids ? (\n        <Grid container spacing={2} className={classes.root}>\n            {ids.map(id => (\n                <Grid key={id} xs={12} sm={6} md={4} lg={3} xl={2} item>\n                    <Card>\n                        <CardMedia\n                            image={`https://marmelab.com/posters/${data[id].name}-1.jpeg`}\n                            className={classes.media}\n                        />\n                        <CardContent className={classes.title}>\n                            <Typography\n                                variant=\"h5\"\n                                component=\"h2\"\n                                align=\"center\"\n                            >\n                                {inflection.humanize(data[id].name)}\n                            </Typography>\n                        </CardContent>\n                        <CardActions\n                            classes={{ spacing: classes.actionSpacer }}\n                        >\n                            <LinkToRelatedProducts record={data[id]} />\n                            <EditButton\n                                basePath=\"/categories\"\n                                record={data[id]}\n                            />\n                        </CardActions>\n                    </Card>\n                </Grid>\n            ))}\n        </Grid>\n    ) : null;\n};\n\nconst CategoryList = (props: ListProps) => (\n    <List\n        {...props}\n        sort={{ field: 'name', order: 'ASC' }}\n        perPage={20}\n        pagination={false}\n        component=\"div\"\n        actions={false}\n    >\n        <CategoryGrid />\n    </List>\n);\n\nexport default CategoryList;\n","import * as React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst useStyles = makeStyles({\n    root: { width: 25, maxWidth: 25, maxHeight: 25 },\n});\n\nconst ThumbnailField = (props: FieldProps<Product>) => {\n    const { record } = props;\n    const classes = useStyles();\n    return record ? (\n        <img src={record.thumbnail} className={classes.root} alt=\"\" />\n    ) : null;\n};\n\nexport default ThumbnailField;\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FieldProps } from 'react-admin';\nimport { Product } from '../types';\n\nconst ProductRefField = ({ record }: FieldProps<Product>) =>\n    record ? (\n        <Link to={`products/${record.id}`}>{record.reference}</Link>\n    ) : null;\n\nProductRefField.defaultProps = {\n    source: 'id',\n    label: 'Reference',\n};\n\nexport default ProductRefField;\n","import * as React from 'react';\nimport {\n    Datagrid,\n    Edit,\n    EditProps,\n    EditButton,\n    FieldProps,\n    NumberField,\n    ReferenceManyField,\n    SimpleForm,\n    TextInput,\n    useTranslate,\n} from 'react-admin';\n\nimport ThumbnailField from '../products/ThumbnailField';\nimport ProductRefField from '../products/ProductRefField';\nimport { Category } from '../types';\n\nconst CategoryTitle = (props: FieldProps<Category>) => {\n    const { record } = props;\n    const translate = useTranslate();\n    return record ? (\n        <span>\n            {translate('resources.categories.name', { smart_count: 1 })} &quot;\n            {record.name}&quot;\n        </span>\n    ) : null;\n};\n\nconst CategoryEdit = (props: EditProps) => (\n    <Edit title={<CategoryTitle />} {...props}>\n        <SimpleForm>\n            <TextInput source=\"name\" />\n            <ReferenceManyField\n                reference=\"products\"\n                target=\"category_id\"\n                label=\"resources.categories.fields.products\"\n                perPage={20}\n                fullWidth\n            >\n                <Datagrid>\n                    <ThumbnailField />\n                    <ProductRefField source=\"reference\" />\n                    <NumberField\n                        source=\"price\"\n                        options={{ style: 'currency', currency: 'USD' }}\n                    />\n                    <NumberField\n                        source=\"width\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField\n                        source=\"height\"\n                        options={{ minimumFractionDigits: 2 }}\n                    />\n                    <NumberField source=\"stock\" />\n                    <NumberField source=\"sales\" />\n                    <EditButton />\n                </Datagrid>\n            </ReferenceManyField>\n        </SimpleForm>\n    </Edit>\n);\n\nexport default CategoryEdit;\n","/* eslint-disable import/no-anonymous-default-export */\nimport CategoryIcon from '@material-ui/icons/Bookmark';\n\nimport CategoryList from './CategoryList';\nimport CategoryEdit from './CategoryEdit';\n\nexport default {\n    list: CategoryList,\n    edit: CategoryEdit,\n    icon: CategoryIcon,\n};\n","import * as React from 'react';\nimport { Fragment, ReactElement, ReactNode } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n    List,\n    MenuItem,\n    ListItemIcon,\n    Typography,\n    Collapse,\n    Tooltip,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport { useTranslate, ReduxState } from 'react-admin';\n\nconst useStyles = makeStyles(theme => ({\n    icon: { minWidth: theme.spacing(5) },\n    sidebarIsOpen: {\n        '& a': {\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n            paddingLeft: theme.spacing(4),\n        },\n    },\n    sidebarIsClosed: {\n        '& a': {\n            transition: 'padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms',\n            paddingLeft: theme.spacing(2),\n        },\n    },\n}));\n\ninterface Props {\n    dense: boolean;\n    handleToggle: () => void;\n    icon: ReactElement;\n    isOpen: boolean;\n    name: string;\n    children: ReactNode;\n}\n\nconst SubMenu = (props: Props) => {\n    const { handleToggle, isOpen, name, icon, children, dense } = props;\n    const translate = useTranslate();\n    const classes = useStyles();\n    const sidebarIsOpen = useSelector<ReduxState, boolean>(\n        state => state.admin.ui.sidebarOpen\n    );\n\n    const header = (\n        <MenuItem dense={dense} button onClick={handleToggle}>\n            <ListItemIcon className={classes.icon}>\n                {isOpen ? <ExpandMore /> : icon}\n            </ListItemIcon>\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n                {translate(name)}\n            </Typography>\n        </MenuItem>\n    );\n\n    return (\n        <Fragment>\n            {sidebarIsOpen || isOpen ? (\n                header\n            ) : (\n                <Tooltip title={translate(name)} placement=\"right\">\n                    {header}\n                </Tooltip>\n            )}\n            <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n                <List\n                    dense={dense}\n                    component=\"div\"\n                    disablePadding\n                    className={\n                        sidebarIsOpen\n                            ? classes.sidebarIsOpen\n                            : classes.sidebarIsClosed\n                    }\n                >\n                    {children}\n                </List>\n            </Collapse>\n        </Fragment>\n    );\n};\n\nexport default SubMenu;\n","import * as React from 'react';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport LabelIcon from '@material-ui/icons/Label';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classnames from 'classnames';\nimport {\n    useTranslate,\n    DashboardMenuItem,\n    MenuItemLink,\n    MenuProps,\n    ReduxState,\n} from 'react-admin';\n\nimport visitors from '../visitors';\nimport orders from '../orders';\nimport invoices from '../invoices';\nimport products from '../products';\nimport categories from '../categories';\nimport reviews from '../reviews';\nimport SubMenu from './SubMenu';\nimport { AppState } from '../types';\n\ntype MenuName = 'menuCatalog' | 'menuSales' | 'menuCustomers';\n\nconst Menu = ({ dense = false }: MenuProps) => {\n    const [state, setState] = useState({\n        menuCatalog: true,\n        menuSales: true,\n        menuCustomers: true,\n    });\n    const translate = useTranslate();\n    const open = useSelector((state: ReduxState) => state.admin.ui.sidebarOpen);\n    useSelector((state: AppState) => state.theme); // force rerender on theme change\n    const classes = useStyles();\n\n    const handleToggle = (menu: MenuName) => {\n        setState(state => ({ ...state, [menu]: !state[menu] }));\n    };\n\n    return (\n        <div\n            className={classnames(classes.root, {\n                [classes.open]: open,\n                [classes.closed]: !open,\n            })}\n        >\n            {' '}\n            <DashboardMenuItem />\n            <SubMenu\n                handleToggle={() => handleToggle('menuSales')}\n                isOpen={state.menuSales}\n                name=\"pos.menu.sales\"\n                icon={<orders.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/commands',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.commands.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<orders.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/invoices',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.invoices.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<invoices.icon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCatalog')}\n                isOpen={state.menuCatalog}\n                name=\"pos.menu.catalog\"\n                icon={<products.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/products',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.products.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<products.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/categories',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.categories.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<categories.icon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <SubMenu\n                handleToggle={() => handleToggle('menuCustomers')}\n                isOpen={state.menuCustomers}\n                name=\"pos.menu.customers\"\n                icon={<visitors.icon />}\n                dense={dense}\n            >\n                <MenuItemLink\n                    to={{\n                        pathname: '/customers',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.customers.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<visitors.icon />}\n                    dense={dense}\n                />\n                <MenuItemLink\n                    to={{\n                        pathname: '/segments',\n                        state: { _scrollToTop: true },\n                    }}\n                    primaryText={translate(`resources.segments.name`, {\n                        smart_count: 2,\n                    })}\n                    leftIcon={<LabelIcon />}\n                    dense={dense}\n                />\n            </SubMenu>\n            <MenuItemLink\n                to={{\n                    pathname: '/reviews',\n                    state: { _scrollToTop: true },\n                }}\n                primaryText={translate(`resources.reviews.name`, {\n                    smart_count: 2,\n                })}\n                leftIcon={<reviews.icon />}\n                dense={dense}\n            />\n        </div>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(1),\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    open: {\n        width: 200,\n    },\n    closed: {\n        width: 55,\n    },\n}));\n\nexport default Menu;\n","export const darkTheme = {\n    palette: {\n        primary: {\n            main: '#90caf9',\n        },\n        secondary: {\n            main: '#FBBA72',\n        },\n        type: 'dark' as 'dark', // Switching the dark mode on is a single property value change.\n    },\n    sidebar: {\n        width: 200,\n    },\n    overrides: {\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#ffffffb3',\n                backgroundColor: '#616161e6',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n\nexport const lightTheme = {\n    palette: {\n        primary: {\n            main: '#4f3cc9',\n        },\n        secondary: {\n            light: '#5f5fc4',\n            main: '#283593',\n            dark: '#001064',\n            contrastText: '#fff',\n        },\n        background: {\n            default: '#fcfcfe',\n        },\n        type: 'light' as 'light',\n    },\n    shape: {\n        borderRadius: 10,\n    },\n    sidebar: {\n        width: 200,\n    },\n    overrides: {\n        RaMenuItemLink: {\n            root: {\n                borderLeft: '3px solid #fff',\n            },\n            active: {\n                borderLeft: '3px solid #4f3cc9',\n            },\n        },\n        MuiPaper: {\n            elevation1: {\n                boxShadow: 'none',\n            },\n            root: {\n                border: '1px solid #e0e0e3',\n                backgroundClip: 'padding-box',\n            },\n        },\n        MuiButton: {\n            contained: {\n                backgroundColor: '#fff',\n                color: '#4f3cc9',\n                boxShadow: 'none',\n            },\n        },\n        MuiButtonBase: {\n            root: {\n                '&:hover:active::after': {\n                    // recreate a static ripple color\n                    // use the currentColor to make it work both for outlined and contained buttons\n                    // but to dim the background without dimming the text,\n                    // put another element on top with a limited opacity\n                    content: '\"\"',\n                    display: 'block',\n                    width: '100%',\n                    height: '100%',\n                    position: 'absolute',\n                    top: 0,\n                    right: 0,\n                    backgroundColor: 'currentColor',\n                    opacity: 0.3,\n                    borderRadius: 'inherit',\n                },\n            },\n        },\n        MuiAppBar: {\n            colorSecondary: {\n                color: '#808080',\n                backgroundColor: '#fff',\n            },\n        },\n        MuiLinearProgress: {\n            colorPrimary: {\n                backgroundColor: '#f5f5f5',\n            },\n            barColorPrimary: {\n                backgroundColor: '#d7d7d7',\n            },\n        },\n        MuiFilledInput: {\n            root: {\n                backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                '&$disabled': {\n                    backgroundColor: 'rgba(0, 0, 0, 0.04)',\n                },\n            },\n        },\n        MuiSnackbarContent: {\n            root: {\n                border: 'none',\n            },\n        },\n    },\n    props: {\n        MuiButtonBase: {\n            // disable ripple for perf reasons\n            disableRipple: true,\n        },\n    },\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Layout, LayoutProps } from 'react-admin';\nimport AppBar from './AppBar';\nimport Menu from './Menu';\nimport { darkTheme, lightTheme } from './themes';\nimport { AppState } from '../types';\n\nexport default (props: LayoutProps) => {\n    const theme = useSelector((state: AppState) =>\n        state.theme === 'dark' ? darkTheme : lightTheme\n    );\n    return <Layout {...props} appBar={AppBar} menu={Menu} theme={theme} />;\n};\n","import * as React from 'react';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Field, withTypes } from 'react-final-form';\nimport { useLocation } from 'react-router-dom';\n\nimport {\n    Avatar,\n    Button,\n    Card,\n    CardActions,\n    CircularProgress,\n    TextField,\n} from '@material-ui/core';\nimport { createMuiTheme, makeStyles } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Notification, useTranslate, useLogin, useNotify } from 'react-admin';\n\nimport { lightTheme } from './themes';\n\nconst useStyles = makeStyles(theme => ({\n    main: {\n        display: 'flex',\n        flexDirection: 'column',\n        minHeight: '100vh',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        background: 'url(https://source.unsplash.com/random/1600x900)',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n    },\n    card: {\n        minWidth: 300,\n        marginTop: '6em',\n    },\n    avatar: {\n        margin: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        backgroundColor: theme.palette.secondary.main,\n    },\n    hint: {\n        marginTop: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        color: theme.palette.grey[500],\n    },\n    form: {\n        padding: '0 1em 1em 1em',\n    },\n    input: {\n        marginTop: '1em',\n    },\n    actions: {\n        padding: '0 1em 1em 1em',\n    },\n}));\n\nconst renderInput = ({\n    meta: { touched, error } = { touched: false, error: undefined },\n    input: { ...inputProps },\n    ...props\n}) => (\n    <TextField\n        error={!!(touched && error)}\n        helperText={touched && error}\n        {...inputProps}\n        {...props}\n        fullWidth\n    />\n);\n\ninterface FormValues {\n    username?: string;\n    password?: string;\n}\n\nconst { Form } = withTypes<FormValues>();\n\nconst Login = () => {\n    const [loading, setLoading] = useState(false);\n    const translate = useTranslate();\n    const classes = useStyles();\n    const notify = useNotify();\n    const login = useLogin();\n    const location = useLocation<{ nextPathname: string } | null>();\n\n    const handleSubmit = (auth: FormValues) => {\n        setLoading(true);\n        login(auth, location.state ? location.state.nextPathname : '/').catch(\n            (error: Error) => {\n                setLoading(false);\n                notify(\n                    typeof error === 'string'\n                        ? error\n                        : typeof error === 'undefined' || !error.message\n                        ? 'ra.auth.sign_in_error'\n                        : error.message,\n                    'warning',\n                    {\n                        _:\n                            typeof error === 'string'\n                                ? error\n                                : error && error.message\n                                ? error.message\n                                : undefined,\n                    }\n                );\n            }\n        );\n    };\n\n    const validate = (values: FormValues) => {\n        const errors: FormValues = {};\n        if (!values.username) {\n            errors.username = translate('ra.validation.required');\n        }\n        if (!values.password) {\n            errors.password = translate('ra.validation.required');\n        }\n        return errors;\n    };\n\n    return (\n        <Form\n            onSubmit={handleSubmit}\n            validate={validate}\n            render={({ handleSubmit }) => (\n                <form onSubmit={handleSubmit} noValidate>\n                    <div className={classes.main}>\n                        <Card className={classes.card}>\n                            <div className={classes.avatar}>\n                                <Avatar className={classes.icon}>\n                                    <LockIcon />\n                                </Avatar>\n                            </div>\n                            <div className={classes.hint}>\n                                Hint: demo / demo\n                            </div>\n                            <div className={classes.form}>\n                                <div className={classes.input}>\n                                    <Field\n                                        autoFocus\n                                        name=\"username\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.username')}\n                                        disabled={loading}\n                                    />\n                                </div>\n                                <div className={classes.input}>\n                                    <Field\n                                        name=\"password\"\n                                        // @ts-ignore\n                                        component={renderInput}\n                                        label={translate('ra.auth.password')}\n                                        type=\"password\"\n                                        disabled={loading}\n                                    />\n                                </div>\n                            </div>\n                            <CardActions className={classes.actions}>\n                                <Button\n                                    variant=\"contained\"\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={loading}\n                                    fullWidth\n                                >\n                                    {loading && (\n                                        <CircularProgress\n                                            size={25}\n                                            thickness={2}\n                                        />\n                                    )}\n                                    {translate('ra.auth.sign_in')}\n                                </Button>\n                            </CardActions>\n                        </Card>\n                        <Notification />\n                    </div>\n                </form>\n            )}\n        />\n    );\n};\n\nLogin.propTypes = {\n    authProvider: PropTypes.func,\n    previousRoute: PropTypes.string,\n};\n\n// We need to put the ThemeProvider decoration in another component\n// Because otherwise the useStyles() hook used in Login won't get\n// the right theme\nconst LoginWithTheme = (props: any) => (\n    <ThemeProvider theme={createMuiTheme(lightTheme)}>\n        <Login {...props} />\n    </ThemeProvider>\n);\n\nexport default LoginWithTheme;\n","import * as React from 'react';\nimport { FC, createElement } from 'react';\nimport { Card, Box, Typography, Divider } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { ReactNode } from 'react';\n\nimport cartouche from './cartouche.png';\nimport cartoucheDark from './cartoucheDark.png';\n\ninterface Props {\n    icon: FC<any>;\n    to: string;\n    title?: string;\n    subtitle?: string | number;\n    children?: ReactNode;\n}\n\nconst useStyles = makeStyles(theme => ({\n    card: {\n        minHeight: 52,\n        display: 'flex',\n        flexDirection: 'column',\n        flex: '1',\n        '& a': {\n            textDecoration: 'none',\n            color: 'inherit',\n        },\n    },\n    main: (props: Props) => ({\n        overflow: 'inherit',\n        padding: 16,\n        background: `url(${\n            theme.palette.type === 'dark' ? cartoucheDark : cartouche\n        }) no-repeat`,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        '& .icon': {\n            color: theme.palette.type === 'dark' ? 'inherit' : '#dc2440',\n        },\n    }),\n    title: {},\n}));\n\nconst CardWithIcon = (props: Props) => {\n    const { icon, title, subtitle, to, children } = props;\n    const classes = useStyles(props);\n    return (\n        <Card className={classes.card}>\n            <Link to={to}>\n                <div className={classes.main}>\n                    <Box width=\"3em\" className=\"icon\">\n                        {createElement(icon, { fontSize: 'large' })}\n                    </Box>\n                    <Box textAlign=\"right\">\n                        <Typography\n                            className={classes.title}\n                            color=\"textSecondary\"\n                        >\n                            {title}\n                        </Typography>\n                        <Typography variant=\"h5\" component=\"h2\">\n                            {subtitle || ' '}\n                        </Typography>\n                    </Box>\n                </div>\n            </Link>\n            {children && <Divider />}\n            {children}\n        </Card>\n    );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==\"","import * as React from 'react';\nimport DollarIcon from '@material-ui/icons/AttachMoney';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: string;\n}\n\nconst MonthlyRevenue = (props: Props) => {\n    const { value } = props;\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={DollarIcon}\n            title={translate('pos.dashboard.monthly_revenue')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default MonthlyRevenue;\n","import * as React from 'react';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\n\ninterface Props {\n    value?: number;\n}\n\nconst NbNewOrders = (props: Props) => {\n    const { value } = props;\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/commands\"\n            icon={ShoppingCartIcon}\n            title={translate('pos.dashboard.new_orders')}\n            subtitle={value}\n        />\n    );\n};\n\nexport default NbNewOrders;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { Customer, Order } from '../types';\n\ninterface Props {\n    orders?: Order[];\n    customers?: { [key: string]: Customer };\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flex: 1,\n    },\n    cost: {\n        marginRight: '1em',\n        color: theme.palette.text.primary,\n    },\n}));\n\nconst PendingOrders = (props: Props) => {\n    const { orders = [], customers = {} } = props;\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <Card className={classes.root}>\n            <CardHeader title={translate('pos.dashboard.pending_orders')} />\n            <List dense={true}>\n                {orders.map(record => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/commands/${record.id}`}\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n                        <ListItemText\n                            primary={new Date(record.date).toLocaleString(\n                                'en-GB'\n                            )}\n                            secondary={translate('pos.dashboard.order.items', {\n                                smart_count: record.basket.length,\n                                nb_items: record.basket.length,\n                                customer_name: customers[record.customer_id]\n                                    ? `${\n                                          customers[record.customer_id]\n                                              .first_name\n                                      } ${\n                                          customers[record.customer_id]\n                                              .last_name\n                                      }`\n                                    : '',\n                            })}\n                        />\n                        <ListItemSecondaryAction>\n                            <span className={classes.cost}>\n                                {record.total}$\n                            </span>\n                        </ListItemSecondaryAction>\n                    </ListItem>\n                ))}\n            </List>\n        </Card>\n    );\n};\n\nexport default PendingOrders;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CommentIcon from '@material-ui/icons/Comment';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\n\nimport CardWithIcon from './CardWithIcon';\nimport StarRatingField from '../reviews/StarRatingField';\nimport { Customer, Review } from '../types';\n\ninterface Props {\n    reviews?: Review[];\n    customers?: { [key: string]: Customer };\n    nb?: number;\n}\n\nconst PendingReviews = ({ reviews = [], customers = {}, nb }: Props) => {\n    const classes = useStyles();\n    const translate = useTranslate();\n    return (\n        <CardWithIcon\n            to=\"/reviews\"\n            icon={CommentIcon}\n            title={translate('pos.dashboard.pending_reviews')}\n            subtitle={nb}\n        >\n            <List>\n                {reviews.map((record: Review) => (\n                    <ListItem\n                        key={record.id}\n                        button\n                        component={Link}\n                        to={`/reviews/${record.id}`}\n                        alignItems=\"flex-start\"\n                    >\n                        <ListItemAvatar>\n                            {customers[record.customer_id] ? (\n                                <Avatar\n                                    src={`${\n                                        customers[record.customer_id].avatar\n                                    }?size=32x32`}\n                                    className={classes.avatar}\n                                />\n                            ) : (\n                                <Avatar />\n                            )}\n                        </ListItemAvatar>\n\n                        <ListItemText\n                            primary={<StarRatingField record={record} />}\n                            secondary={record.comment}\n                            className={classes.listItemText}\n                            style={{ paddingRight: 0 }}\n                        />\n                    </ListItem>\n                ))}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/reviews\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_reviews')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    avatar: {\n        background: theme.palette.background.paper,\n    },\n    listItemText: {\n        overflowY: 'hidden',\n        height: '4em',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n    },\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default PendingReviews;\n","import * as React from 'react';\nimport {\n    Avatar,\n    Box,\n    Button,\n    List,\n    ListItem,\n    ListItemAvatar,\n    ListItemText,\n} from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CustomerIcon from '@material-ui/icons/PersonAdd';\nimport { Link } from 'react-router-dom';\nimport { useTranslate, useQueryWithStore } from 'react-admin';\nimport { subDays } from 'date-fns';\n\nimport CardWithIcon from './CardWithIcon';\nimport { Customer } from '../types';\n\nconst NewCustomers = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n\n    const aMonthAgo = subDays(new Date(), 30);\n    aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n    aMonthAgo.setHours(0);\n    aMonthAgo.setMinutes(0);\n    aMonthAgo.setSeconds(0);\n    aMonthAgo.setMilliseconds(0);\n\n    const { loaded, data: visitors } = useQueryWithStore({\n        type: 'getList',\n        resource: 'customers',\n        payload: {\n            filter: {\n                has_ordered: true,\n                first_seen_gte: aMonthAgo.toISOString(),\n            },\n            sort: { field: 'first_seen', order: 'DESC' },\n            pagination: { page: 1, perPage: 100 },\n        },\n    });\n\n    if (!loaded) return null;\n\n    const nb = visitors ? visitors.reduce((nb: number) => ++nb, 0) : 0;\n    return (\n        <CardWithIcon\n            to=\"/customers\"\n            icon={CustomerIcon}\n            title={translate('pos.dashboard.new_customers')}\n            subtitle={nb}\n        >\n            <List>\n                {visitors\n                    ? visitors.map((record: Customer) => (\n                          <ListItem\n                              button\n                              to={`/customers/${record.id}`}\n                              component={Link}\n                              key={record.id}\n                          >\n                              <ListItemAvatar>\n                                  <Avatar src={`${record.avatar}?size=32x32`} />\n                              </ListItemAvatar>\n                              <ListItemText\n                                  primary={`${record.first_name} ${record.last_name}`}\n                              />\n                          </ListItem>\n                      ))\n                    : null}\n            </List>\n            <Box flexGrow=\"1\">&nbsp;</Box>\n            <Button\n                className={classes.link}\n                component={Link}\n                to=\"/customers\"\n                size=\"small\"\n                color=\"primary\"\n            >\n                <Box p={1} className={classes.linkContent}>\n                    {translate('pos.dashboard.all_customers')}\n                </Box>\n            </Button>\n        </CardWithIcon>\n    );\n};\n\nconst useStyles = makeStyles(theme => ({\n    link: {\n        borderRadius: 0,\n    },\n    linkContent: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nexport default NewCustomers;\n","import * as React from 'react';\nimport { Card, CardHeader, CardContent } from '@material-ui/core';\nimport {\n    ResponsiveContainer,\n    AreaChart,\n    Area,\n    XAxis,\n    YAxis,\n    CartesianGrid,\n    Tooltip,\n} from 'recharts';\nimport { useTranslate } from 'react-admin';\nimport { format, subDays, addDays } from 'date-fns';\n\nimport { Order } from '../types';\n\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date: number): string =>\n    new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders: Order[]): { [key: string]: number } =>\n    orders\n        .filter((order: Order) => order.status !== 'Cancelled')\n        .reduce((acc, curr) => {\n            const day = format(curr.date, 'YYYY-MM-DD');\n            if (!acc[day]) {\n                acc[day] = 0;\n            }\n            acc[day] += curr.total;\n            return acc;\n        }, {} as { [key: string]: number });\n\nconst getRevenuePerDay = (orders: Order[]): TotalByDay[] => {\n    const daysWithRevenue = aggregateOrdersByDay(orders);\n    return lastMonthDays.map(date => ({\n        date: date.getTime(),\n        total: daysWithRevenue[format(date, 'YYYY-MM-DD')] || 0,\n    }));\n};\n\nconst OrderChart = (props: { orders?: Order[] }) => {\n    const { orders } = props;\n    const translate = useTranslate();\n    if (!orders) return null;\n\n    return (\n        <Card>\n            <CardHeader title={translate('pos.dashboard.month_history')} />\n            <CardContent>\n                <div style={{ width: '100%', height: 300 }}>\n                    <ResponsiveContainer>\n                        <AreaChart data={getRevenuePerDay(orders)}>\n                            <defs>\n                                <linearGradient\n                                    id=\"colorUv\"\n                                    x1=\"0\"\n                                    y1=\"0\"\n                                    x2=\"0\"\n                                    y2=\"1\"\n                                >\n                                    <stop\n                                        offset=\"5%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0.8}\n                                    />\n                                    <stop\n                                        offset=\"95%\"\n                                        stopColor=\"#8884d8\"\n                                        stopOpacity={0}\n                                    />\n                                </linearGradient>\n                            </defs>\n                            <XAxis\n                                dataKey=\"date\"\n                                name=\"Date\"\n                                type=\"number\"\n                                scale=\"time\"\n                                domain={[\n                                    addDays(aMonthAgo, 1).getTime(),\n                                    new Date().getTime(),\n                                ]}\n                                tickFormatter={dateFormatter}\n                            />\n                            <YAxis dataKey=\"total\" name=\"Revenue\" unit=\"€\" />\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <Tooltip\n                                cursor={{ strokeDasharray: '3 3' }}\n                                formatter={value =>\n                                    new Intl.NumberFormat(undefined, {\n                                        style: 'currency',\n                                        currency: 'USD',\n                                    }).format(value as any)\n                                }\n                                labelFormatter={(label: any) =>\n                                    dateFormatter(label)\n                                }\n                            />\n                            <Area\n                                type=\"monotone\"\n                                dataKey=\"total\"\n                                stroke=\"#8884d8\"\n                                strokeWidth={2}\n                                fill=\"url(#colorUv)\"\n                            />\n                        </AreaChart>\n                    </ResponsiveContainer>\n                </div>\n            </CardContent>\n        </Card>\n    );\n};\n\ninterface TotalByDay {\n    date: number;\n    total: number;\n}\n\nexport default OrderChart;\n","import React, { useState, useEffect, useCallback, CSSProperties } from \"react\";\nimport { useVersion, useDataProvider } from \"react-admin\";\nimport { useMediaQuery, Theme } from \"@material-ui/core\";\nimport { subDays } from \"date-fns\";\n\nimport MonthlyRevenue from \"./MonthlyRevenue\";\nimport NbNewOrders from \"./NbNewOrders\";\nimport PendingOrders from \"./PendingOrders\";\nimport PendingReviews from \"./PendingReviews\";\nimport NewCustomers from \"./NewCustomers\";\nimport OrderChart from \"./OrderChart\";\n\nimport { Customer, Order, Review } from \"../types\";\n\ninterface OrderStats {\n  revenue: number;\n  nbNewOrders: number;\n  pendingOrders: Order[];\n}\n\ninterface CustomerData {\n  [key: string]: Customer;\n}\n\ninterface State {\n  nbNewOrders?: number;\n  nbPendingReviews?: number;\n  pendingOrders?: Order[];\n  pendingOrdersCustomers?: CustomerData;\n  pendingReviews?: Review[];\n  pendingReviewsCustomers?: CustomerData;\n  recentOrders?: Order[];\n  revenue?: string;\n}\n\nconst styles = {\n  flex: { display: \"flex\" },\n  flexColumn: { display: \"flex\", flexDirection: \"column\" },\n  leftCol: { flex: 1, marginRight: \"0.5em\" },\n  rightCol: { flex: 1, marginLeft: \"0.5em\" },\n  singleCol: { marginTop: \"1em\", marginBottom: \"1em\" },\n};\n\nconst Spacer = () => <span style={{ width: \"1em\" }} />;\nconst VerticalSpacer = () => <span style={{ height: \"1em\" }} />;\n\nconst Dashboard = () => {\n  const [state, setState] = useState<State>({});\n  const version = useVersion();\n  const dataProvider = useDataProvider();\n  const isXSmall = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down(\"xs\")\n  );\n  const isSmall = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"md\"));\n\n  const fetchOrders = useCallback(async () => {\n    const aMonthAgo = subDays(new Date(), 30);\n    const { data: recentOrders } = await dataProvider.getList<Order>(\n      \"commands\",\n      {\n        filter: { date_gte: aMonthAgo.toISOString() },\n        sort: { field: \"date\", order: \"DESC\" },\n        pagination: { page: 1, perPage: 50 },\n      }\n    );\n    const aggregations = recentOrders\n      .filter((order) => order.status !== \"Cancelled\")\n      .reduce(\n        (stats: OrderStats, order) => {\n          if (order.status !== \"Cancelled\") {\n            stats.revenue += order.total;\n            stats.nbNewOrders++;\n          }\n          if (order.status === \"Ordered\") {\n            stats.pendingOrders.push(order);\n          }\n          return stats;\n        },\n        {\n          revenue: 0,\n          nbNewOrders: 0,\n          pendingOrders: [],\n        }\n      );\n    setState((state) => ({\n      ...state,\n      recentOrders,\n      revenue: aggregations.revenue.toLocaleString(undefined, {\n        style: \"currency\",\n        currency: \"USD\",\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n      }),\n      nbNewOrders: aggregations.nbNewOrders,\n      pendingOrders: aggregations.pendingOrders,\n    }));\n    const { data: customers } = await dataProvider.getMany<Customer>(\n      \"customers\",\n      {\n        ids: aggregations.pendingOrders.map(\n          (order: Order) => order.customer_id\n        ),\n      }\n    );\n    setState((state) => ({\n      ...state,\n      pendingOrdersCustomers: customers.reduce(\n        (prev: CustomerData, customer) => {\n          prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n          return prev;\n        },\n        {}\n      ),\n    }));\n  }, [dataProvider]);\n\n  const fetchReviews = useCallback(async () => {\n    const { data: reviews } = await dataProvider.getList<Review>(\"reviews\", {\n      filter: { status: \"Pending\" },\n      sort: { field: \"date\", order: \"DESC\" },\n      pagination: { page: 1, perPage: 100 },\n    });\n    const nbPendingReviews = reviews.reduce((nb: number) => ++nb, 0);\n    const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n    setState((state) => ({ ...state, pendingReviews, nbPendingReviews }));\n    const { data: customers } = await dataProvider.getMany<Customer>(\n      \"customers\",\n      {\n        ids: pendingReviews.map((review) => review.customer_id),\n      }\n    );\n    setState((state) => ({\n      ...state,\n      pendingReviewsCustomers: customers.reduce(\n        (prev: CustomerData, customer) => {\n          prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n          return prev;\n        },\n        {}\n      ),\n    }));\n  }, [dataProvider]);\n\n  useEffect(() => {\n    fetchOrders();\n    fetchReviews();\n  }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const {\n    nbNewOrders,\n    nbPendingReviews,\n    pendingOrders,\n    pendingOrdersCustomers,\n    pendingReviews,\n    pendingReviewsCustomers,\n    revenue,\n    recentOrders,\n  } = state;\n  return isXSmall ? (\n    <div>\n      <div style={styles.flexColumn as CSSProperties}>\n        <MonthlyRevenue value={revenue} />\n        <VerticalSpacer />\n        <NbNewOrders value={nbNewOrders} />\n        <VerticalSpacer />\n        <PendingOrders\n          orders={pendingOrders}\n          customers={pendingOrdersCustomers}\n        />\n      </div>\n    </div>\n  ) : isSmall ? (\n    <div style={styles.flexColumn as CSSProperties}>\n      <div style={styles.flex}>\n        <MonthlyRevenue value={revenue} />\n        <Spacer />\n        <NbNewOrders value={nbNewOrders} />\n      </div>\n      <div style={styles.singleCol}>\n        <OrderChart orders={recentOrders} />\n      </div>\n      <div style={styles.singleCol}>\n        <PendingOrders\n          orders={pendingOrders}\n          customers={pendingOrdersCustomers}\n        />\n      </div>\n    </div>\n  ) : (\n    <>\n      <div style={styles.flex}>\n        <div style={styles.leftCol}>\n          <div style={styles.flex}>\n            <MonthlyRevenue value={revenue} />\n            <Spacer />\n            <NbNewOrders value={nbNewOrders} />\n          </div>\n          <div style={styles.singleCol}>\n            <OrderChart orders={recentOrders} />\n          </div>\n          <div style={styles.singleCol}>\n            <PendingOrders\n              orders={pendingOrders}\n              customers={pendingOrdersCustomers}\n            />\n          </div>\n        </div>\n        <div style={styles.rightCol}>\n          <div style={styles.flex}>\n            <PendingReviews\n              nb={nbPendingReviews}\n              reviews={pendingReviews}\n              customers={pendingReviewsCustomers}\n            />\n            <Spacer />\n            <NewCustomers />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import DashboardComponent from './Dashboard';\n\nexport const Dashboard = DashboardComponent;\n","import * as React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport { useTranslate, useLocale, useSetLocale, Title } from 'react-admin';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { changeTheme } from './actions';\nimport { AppState } from '../types';\n\nconst useStyles = makeStyles({\n    label: { width: '10em', display: 'inline-block' },\n    button: { margin: '1em' },\n});\n\nconst Configuration = () => {\n    const translate = useTranslate();\n    const locale = useLocale();\n    const setLocale = useSetLocale();\n    const classes = useStyles();\n    const theme = useSelector((state: AppState) => state.theme);\n    const dispatch = useDispatch();\n    return (\n        <Card>\n            <Title title={translate('pos.configuration')} />\n            <CardContent>\n                <div className={classes.label}>\n                    {translate('pos.theme.name')}\n                </div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'light' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('light'))}\n                >\n                    {translate('pos.theme.light')}\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={theme === 'dark' ? 'primary' : 'default'}\n                    onClick={() => dispatch(changeTheme('dark'))}\n                >\n                    {translate('pos.theme.dark')}\n                </Button>\n            </CardContent>\n            <CardContent>\n                <div className={classes.label}>{translate('pos.language')}</div>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'en' ? 'primary' : 'default'}\n                    onClick={() => setLocale('en')}\n                >\n                    en\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    className={classes.button}\n                    color={locale === 'fr' ? 'primary' : 'default'}\n                    onClick={() => setLocale('fr')}\n                >\n                    fr\n                </Button>\n            </CardContent>\n        </Card>\n    );\n};\n\nexport default Configuration;\n","import * as React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from 'react-router-dom';\nimport { useTranslate } from 'react-admin';\nimport { stringify } from 'query-string';\n\nimport visitors from '../visitors';\n\nconst useStyles = makeStyles({\n    icon: { paddingRight: '0.5em' },\n    link: {\n        display: 'inline-flex',\n        alignItems: 'center',\n    },\n});\n\nconst LinkToRelatedCustomers = ({ segment }: { segment: string }) => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Button\n            size=\"small\"\n            color=\"primary\"\n            component={Link}\n            to={{\n                pathname: '/customers',\n                search: stringify({\n                    filter: JSON.stringify({ groups: segment }),\n                }),\n            }}\n            className={classes.link}\n        >\n            <visitors.icon className={classes.icon} />\n            {translate('resources.segments.fields.customers')}\n        </Button>\n    );\n};\n\nexport default LinkToRelatedCustomers;\n","import * as React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTranslate, Title } from 'react-admin';\n\nimport LinkToRelatedCustomers from './LinkToRelatedCustomers';\nimport segments from './data';\n\nconst useStyles = makeStyles({\n    root: {\n        marginTop: 16,\n    },\n});\n\nconst Segments = () => {\n    const translate = useTranslate();\n    const classes = useStyles();\n    return (\n        <Card className={classes.root}>\n            <Title\n                title={translate('resources.segments.name', { smart_count: 2 })}\n            />\n            <Table size=\"small\">\n                <TableHead>\n                    <TableRow>\n                        <TableCell>\n                            {translate('resources.segments.fields.name')}\n                        </TableCell>\n                        <TableCell />\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {segments.map(segment => (\n                        <TableRow key={segment.id}>\n                            <TableCell>{translate(segment.name)}</TableCell>\n                            <TableCell>\n                                <LinkToRelatedCustomers segment={segment.id} />\n                            </TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Card>\n    );\n};\n\nexport default Segments;\n","/* eslint-disable import/no-anonymous-default-export */\nimport * as React from 'react';\nimport { Route } from 'react-router-dom';\nimport Configuration from './configuration/Configuration';\nimport Segments from './segments/Segments';\n\nexport default [\n    <Route exact path=\"/configuration\" render={() => <Configuration />} />,\n    <Route exact path=\"/segments\" render={() => <Segments />} />,\n];\n","import { TranslationMessages } from 'react-admin';\nimport englishMessages from 'ra-language-english';\n\nconst customEnglishMessages: TranslationMessages = {\n    ...englishMessages,\n    pos: {\n        search: 'Search',\n        configuration: 'Configuration',\n        language: 'Language',\n        theme: {\n            name: 'Theme',\n            light: 'Light',\n            dark: 'Dark',\n        },\n        dashboard: {\n            monthly_revenue: 'Monthly Revenue',\n            month_history: '30 Day Revenue History',\n            new_orders: 'New Orders',\n            pending_reviews: 'Pending Reviews',\n            all_reviews: 'See all reviews',\n            new_customers: 'New Customers',\n            all_customers: 'See all customers',\n            pending_orders: 'Pending Orders',\n            order: {\n                items:\n                    'by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items',\n            },\n            welcome: {\n                title: 'Welcome to the react-admin e-commerce demo',\n                subtitle:\n                    \"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.\",\n                ra_button: 'react-admin site',\n                demo_button: 'Source for this demo',\n            },\n        },\n        menu: {\n            sales: 'Sales',\n            catalog: 'Catalog',\n            customers: 'Customers',\n        },\n    },\n    resources: {\n        customers: {\n            name: 'Customer |||| Customers',\n            fields: {\n                commands: 'Orders',\n                first_seen: 'First seen',\n                groups: 'Segments',\n                last_seen: 'Last seen',\n                last_seen_gte: 'Visited Since',\n                name: 'Name',\n                total_spent: 'Total spent',\n                password: 'Password',\n                confirm_password: 'Confirm password',\n                stateAbbr: 'State',\n            },\n            filters: {\n                last_visited: 'Last visited',\n                today: 'Today',\n                this_week: 'This week',\n                last_week: 'Last week',\n                this_month: 'This month',\n                last_month: 'Last month',\n                earlier: 'Earlier',\n                has_ordered: 'Has ordered',\n                has_newsletter: 'Has newsletter',\n                group: 'Segment',\n            },\n            fieldGroups: {\n                identity: 'Identity',\n                address: 'Address',\n                stats: 'Stats',\n                history: 'History',\n                password: 'Password',\n                change_password: 'Change Password',\n            },\n            page: {\n                delete: 'Delete Customer',\n            },\n            errors: {\n                password_mismatch:\n                    'The password confirmation is not the same as the password.',\n            },\n        },\n        commands: {\n            name: 'Order |||| Orders',\n            amount: '1 order |||| %{smart_count} orders',\n            title: 'Order %{reference}',\n            fields: {\n                basket: {\n                    delivery: 'Delivery',\n                    reference: 'Reference',\n                    quantity: 'Quantity',\n                    sum: 'Sum',\n                    tax_rate: 'Tax Rate',\n                    taxes: 'Tax',\n                    total: 'Total',\n                    unit_price: 'Unit Price',\n                },\n                address: 'Address',\n                customer_id: 'Customer',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                nb_items: 'Nb Items',\n                total_gte: 'Min amount',\n                status: 'Status',\n                returned: 'Returned',\n            },\n            section: {\n                order: 'Order',\n                customer: 'Customer',\n                shipping_address: 'Shipping Address',\n                items: 'Items',\n                total: 'Totals',\n            },\n        },\n        invoices: {\n            name: 'Invoice |||| Invoices',\n            fields: {\n                date: 'Invoice date',\n                customer_id: 'Customer',\n                command_id: 'Order',\n                date_gte: 'Passed Since',\n                date_lte: 'Passed Before',\n                total_gte: 'Min amount',\n                address: 'Address',\n            },\n        },\n        products: {\n            name: 'Poster |||| Posters',\n            fields: {\n                category_id: 'Category',\n                height_gte: 'Min height',\n                height_lte: 'Max height',\n                height: 'Height',\n                image: 'Image',\n                price: 'Price',\n                reference: 'Reference',\n                sales: 'Sales',\n                stock_lte: 'Low Stock',\n                stock: 'Stock',\n                thumbnail: 'Thumbnail',\n                width_gte: 'Min width',\n                width_lte: 'Max width',\n                width: 'Width',\n            },\n            tabs: {\n                image: 'Image',\n                details: 'Details',\n                description: 'Description',\n                reviews: 'Reviews',\n            },\n            filters: {\n                categories: 'Categories',\n                stock: 'Stock',\n                no_stock: 'Out of stock',\n                low_stock: '1 - 9 items',\n                average_stock: '10 - 49 items',\n                enough_stock: '50 items & more',\n                sales: 'Sales',\n                best_sellers: 'Best sellers',\n                average_sellers: 'Average',\n                low_sellers: 'Low',\n                never_sold: 'Never sold',\n            },\n        },\n        categories: {\n            name: 'Category |||| Categories',\n            fields: {\n                products: 'Products',\n            },\n        },\n        reviews: {\n            name: 'Review |||| Reviews',\n            amount: '1 review |||| %{smart_count} reviews',\n            relative_to_poster: 'Review on poster',\n            detail: 'Review detail',\n            fields: {\n                customer_id: 'Customer',\n                command_id: 'Order',\n                product_id: 'Product',\n                date_gte: 'Posted since',\n                date_lte: 'Posted before',\n                date: 'Date',\n                comment: 'Comment',\n                rating: 'Rating',\n            },\n            action: {\n                accept: 'Accept',\n                reject: 'Reject',\n            },\n            notification: {\n                approved_success: 'Review approved',\n                approved_error: 'Error: Review not approved',\n                rejected_success: 'Review rejected',\n                rejected_error: 'Error: Review not rejected',\n            },\n        },\n        segments: {\n            name: 'Segment |||| Segments',\n            fields: {\n                customers: 'Customers',\n                name: 'Name',\n            },\n            data: {\n                compulsive: 'Compulsive',\n                collector: 'Collector',\n                ordered_once: 'Ordered once',\n                regular: 'Regular',\n                returns: 'Returns',\n                reviewer: 'Reviewer',\n            },\n        },\n    },\n};\n\nexport default customEnglishMessages;\n","/* eslint-disable import/no-anonymous-default-export */\nexport default (type: string) => {\n    switch (type) {\n        case 'graphql':\n            return import('./graphql').then(factory => factory.default());\n        default:\n            return import('./rest').then(factory => factory.default());\n    }\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport { DataProvider } from 'react-admin';\nimport fakeServerFactory from '../fakeServer';\n\nexport default (type: string) => {\n    // The fake servers require to generate data, which can take some time.\n    // Here we start the server initialization but we don't wait for it to finish\n    let dataProviderPromise = getDataProvider(type);\n\n    // Instead we return this proxy which may be called immediately by react-admin if the\n    // user is already signed-in. In this case, we simply wait for the dataProvider promise\n    // to complete before requesting it the data.\n    // If the user isn't signed in, we already started the server initialization while they see\n    // the login page. By the time they come back to the admin as a signed-in user,\n    // the fake server will be initialized.\n    const dataProviderWithGeneratedData = new Proxy(defaultDataProvider, {\n        get(_, name) {\n            return (resource: string, params: any) => {\n                return dataProviderPromise.then(dataProvider => {\n                    return dataProvider[name.toString()](resource, params);\n                });\n            };\n        },\n    });\n\n    return dataProviderWithGeneratedData;\n};\n\nconst getDataProvider = async (type: string): Promise<DataProvider> => {\n    await fakeServerFactory(process.env.REACT_APP_DATA_PROVIDER || '');\n    /**\n     * This demo can work with either a fake REST server, or a fake GraphQL server.\n     *\n     * To avoid bundling both libraries, the dataProvider and fake server factories\n     * use the import() function, so they are asynchronous.\n     */\n    if (type === 'graphql') {\n        return import('./graphql').then(factory => factory.default());\n    }\n    return import('./rest').then(provider => provider.default);\n};\n\nconst defaultDataProvider: DataProvider = {\n    // @ts-ignore\n    create: () => Promise.resolve({ data: { id: 0 } }),\n    // @ts-ignore\n    delete: () => Promise.resolve({ data: {} }),\n    deleteMany: () => Promise.resolve({}),\n    getList: () => Promise.resolve({ data: [], total: 0 }),\n    getMany: () => Promise.resolve({ data: [] }),\n    getManyReference: () => Promise.resolve({ data: [], total: 0 }),\n    // @ts-ignore\n    getOne: () => Promise.resolve({ data: {} }),\n    // @ts-ignore\n    update: () => Promise.resolve({ data: {} }),\n    updateMany: () => Promise.resolve({}),\n};\n","import * as React from 'react';\nimport { Admin, Resource } from 'react-admin';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nimport authProvider from './authProvider';\nimport themeReducer from './themeReducer';\nimport { Login, Layout } from './layout';\nimport { Dashboard } from './dashboard';\nimport customRoutes from './routes';\nimport englishMessages from './i18n/en';\n\nimport visitors from './visitors';\nimport orders from './orders';\nimport products from './products';\nimport invoices from './invoices';\nimport categories from './categories';\nimport reviews from './reviews';\nimport dataProviderFactory from './dataProvider';\n\nconst i18nProvider = polyglotI18nProvider(locale => {\n    if (locale === 'fr') {\n        return import('./i18n/fr').then(messages => messages.default);\n    }\n\n    // Always fallback on english\n    return englishMessages;\n}, 'en');\n\nconst App = () => {\n    return (\n        <Admin\n            title=\"\"\n            dataProvider={dataProviderFactory(\n                process.env.REACT_APP_DATA_PROVIDER || ''\n            )}\n            customReducers={{ theme: themeReducer }}\n            customRoutes={customRoutes}\n            authProvider={authProvider}\n            dashboard={Dashboard}\n            loginPage={Login}\n            layout={Layout}\n            i18nProvider={i18nProvider}\n            disableTelemetry\n        >\n            <Resource name=\"customers\" {...visitors} />\n            <Resource\n                name=\"commands\"\n                {...orders}\n                options={{ label: 'Orders' }}\n            />\n            <Resource name=\"invoices\" {...invoices} />\n            <Resource name=\"products\" {...products} />\n            <Resource name=\"categories\" {...categories} />\n            <Resource name=\"reviews\" {...reviews} />\n        </Admin>\n    );\n};\n\nexport default App;\n","/** @jsxRuntime classic */\nimport 'react-app-polyfill/ie11';\nimport 'react-app-polyfill/stable';\nimport 'proxy-polyfill';\n// IE11 needs \"jsxRuntime classic\" for this initial file which means that \"React\" needs to be in scope\n// https://github.com/facebook/create-react-app/issues/9906\n\nimport * as React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}