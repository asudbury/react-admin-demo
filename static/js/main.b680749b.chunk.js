(this["webpackJsonpreact-admin-demo"]=this["webpackJsonpreact-admin-demo"]||[]).push([[1],{1317:function(e,t){},1361:function(e,t,r){"use strict";r.r(t);r(833),r(845),r(1028);var s=r(0),c=r(34),a=r.n(c),n=r(9),o=r(1502),i=r(1501),l=r(393),d={login:function(e){var t=e.username;return localStorage.setItem("username",t),Promise.resolve()},logout:function(){return localStorage.removeItem("username"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("username")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.reject("Unknown method")},getIdentity:function(){return Promise.resolve({id:"user",fullName:"Adrian Sudbury",avatar:"https://avatars.githubusercontent.com/u/3384470?v=4"})}},j="CHANGE_THEME",u=function(e){return{type:j,payload:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;return t.type===j?t.payload:e},m=r(64),O=r(360),x=r(493),h=r(780),f=r(60),p=r(700),g=r.n(p),v=r(98),w=r(2),y=Object(v.a)({title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},spacer:{flex:1}}),_=Object(s.forwardRef)((function(e,t){var r=Object(m.a)();return Object(w.jsx)(O.a,{ref:t,to:"/configuration",primaryText:r("pos.configuration"),leftIcon:Object(w.jsx)(g.a,{}),onClick:e.onClick,sidebarIsOpen:!0})})),k=function(e){return Object(w.jsx)(x.a,Object(n.a)(Object(n.a)({},e),{},{children:Object(w.jsx)(_,{})}))},S=function(e){var t=y();return Object(w.jsxs)(h.a,Object(n.a)(Object(n.a)({},e),{},{elevation:1,userMenu:Object(w.jsx)(k,{}),children:[Object(w.jsx)(f.a,{variant:"h6",color:"inherit",className:t.title,id:"react-admin-title"}),"React Admin Demo",Object(w.jsx)("span",{className:t.spacer})]}))},C=r(12),T=r(1507),N=r(53),P=r(38),A=r(753),R=r.n(A),D=r(7),U=r.n(D),z=r(751),I=r(743),L=r.n(I),F=r(1455),E=r(1456),B=r(1457),W=r(1508),V=r(1503),M=r(1451),G=r(1446),H=r(1469),J=r(494),q=r(1384),K=[{id:"compulsive",name:"resources.segments.data.compulsive"},{id:"collector",name:"resources.segments.data.collector"},{id:"ordered_once",name:"resources.segments.data.ordered_once"},{id:"regular",name:"resources.segments.data.regular"},{id:"returns",name:"resources.segments.data.returns"},{id:"reviewer",name:"resources.segments.data.reviewer"}],Q=Object(v.a)({main:{display:"flex",flexWrap:"wrap",marginTop:-8,marginBottom:-8},chip:{margin:4}}),X=function(e){var t=e.record,r=Object(m.a)(),s=Q();return t?Object(w.jsx)("span",{className:s.main,children:t.groups&&t.groups.map((function(e){var t=K.find((function(t){return t.id===e}));return t?Object(w.jsx)(q.a,{size:"small",className:s.chip,label:r(t.name)},t.id):null}))}):null};X.defaultProps={addLabel:!0,source:"groups"};var Y=X,Z=r(1445),$=Object(v.a)({input:{width:150}}),ee=function(e){var t=Object(m.a)(),r=$();return Object(w.jsx)(Z.a,Object(n.a)(Object(n.a)({},e),{},{choices:K.map((function(e){return{id:e.id,name:t(e.name)}})),className:r.input}))};ee.defaultProps={source:"groups"};var te=ee,re=r(707),se=r(1524),ce=function(e){var t=e.record,r=e.size,s=void 0===r?"25":r,c=e.className;return t?Object(w.jsx)(se.a,{src:"".concat(t.avatar,"?size=").concat(s,"x").concat(s),style:{width:parseInt(s,10),height:parseInt(s,10)},className:c}):null},ae=Object(v.a)((function(e){return{root:{display:"flex",flexWrap:"nowrap",alignItems:"center"},avatar:{marginRight:e.spacing(1),marginTop:-e.spacing(.5),marginBottom:-e.spacing(.5)}}})),ne=function(e){var t=e.record,r=e.size,s=ae();return t?Object(w.jsxs)("div",{className:s.root,children:[Object(w.jsx)(ce,{className:s.avatar,record:t,size:r}),t.first_name," ",t.last_name]}):null};ne.defaultProps={source:"last_name",label:"resources.customers.fields.name"};var oe=Object(s.memo)(ne),ie=function(e){return e.record?Object(w.jsx)(re.a,{to:"/customers/".concat(e.record.id),children:Object(w.jsx)(oe,Object(n.a)({},e))}):null};ie.defaultProps={source:"customer_id",addLabel:!0};var le=ie,de=function(e){return e.record&&e.source?e.record[e.source]>500?Object(w.jsx)("span",{style:{color:"red"},children:Object(w.jsx)(G.a,Object(n.a)({},e))}):Object(w.jsx)(G.a,Object(n.a)({},e)):null};de.defaultProps=G.a.defaultProps;var je=de,ue=r(1447),be=r(1450),me=r(1448),Oe=r(1449),xe=Object(v.a)((function(e){return{root:{margin:"1em"},card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:Object(n.a)(Object(n.a)({},e.typography.body1),{},{display:"flex",flexDirection:"column"})}})),he=function(e){var t=e.ids,r=e.data,s=e.basePath,c=Object(m.a)(),a=xe();return t&&r?Object(w.jsx)("div",{className:a.root,children:t.map((function(e){return Object(w.jsxs)(ue.a,{className:a.card,children:[Object(w.jsx)(me.a,{title:Object(w.jsxs)("div",{className:a.cardTitleContent,children:[Object(w.jsx)("h2",{children:"".concat(r[e].first_name," ").concat(r[e].last_name)}),Object(w.jsx)(Oe.a,{resource:"visitors",basePath:s,record:r[e]})]}),avatar:Object(w.jsx)(ce,{record:r[e],size:"45"})}),Object(w.jsxs)(be.a,{className:a.cardContent,children:[Object(w.jsxs)("div",{children:[c("resources.customers.fields.last_seen_gte"),"\xa0",Object(w.jsx)(M.a,{record:r[e],source:"last_seen"})]}),Object(w.jsxs)("div",{children:[c("resources.commands.name",r[e].nb_commands||1),"\xa0:\xa0",Object(w.jsx)(G.a,{record:r[e],source:"nb_commands",label:"resources.customers.fields.commands"})]}),Object(w.jsxs)("div",{children:[c("resources.customers.fields.total_spent"),"\xa0 :"," ",Object(w.jsx)(je,{record:r[e],source:"total_spent",options:{style:"currency",currency:"USD"}})]})]}),r[e].groups&&r[e].groups.length>0&&Object(w.jsx)(be.a,{className:a.cardContent,children:Object(w.jsx)(Y,{record:r[e]})})]},e)}))}):null};he.defaultProps={data:{},ids:[]};var fe=he,pe=r(8),ge=r(293),ve=r.n(ge),we=r(711),ye=r.n(we),_e=r(712),ke=r.n(_e),Se=r(367),Ce=r.n(Se),Te=r(1452),Ne=r(1453),Pe=r(1454),Ae=r(69),Re=Object(pe.a)((function(e){var t;return{root:(t={},Object(N.a)(t,e.breakpoints.up("sm"),{order:-1,width:"15em",marginRight:"1em"}),Object(N.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}}))(ue.a),De=function(){return Object(w.jsx)(Re,{children:Object(w.jsxs)(be.a,{children:[Object(w.jsx)(Te.a,{}),Object(w.jsxs)(Ne.a,{label:"resources.customers.filters.last_visited",icon:Object(w.jsx)(ve.a,{}),children:[Object(w.jsx)(Pe.a,{label:"resources.customers.filters.today",value:{last_seen_gte:Object(Ae.endOfYesterday)().toISOString(),last_seen_lte:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.customers.filters.this_week",value:{last_seen_gte:Object(Ae.startOfWeek)(new Date).toISOString(),last_seen_lte:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.customers.filters.last_week",value:{last_seen_gte:Object(Ae.subWeeks)(Object(Ae.startOfWeek)(new Date),1).toISOString(),last_seen_lte:Object(Ae.startOfWeek)(new Date).toISOString()}}),Object(w.jsx)(Pe.a,{label:"resources.customers.filters.this_month",value:{last_seen_gte:Object(Ae.startOfMonth)(new Date).toISOString(),last_seen_lte:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.customers.filters.last_month",value:{last_seen_gte:Object(Ae.subMonths)(Object(Ae.startOfMonth)(new Date),1).toISOString(),last_seen_lte:Object(Ae.startOfMonth)(new Date).toISOString()}}),Object(w.jsx)(Pe.a,{label:"resources.customers.filters.earlier",value:{last_seen_gte:void 0,last_seen_lte:Object(Ae.subMonths)(Object(Ae.startOfMonth)(new Date),1).toISOString()}})]}),Object(w.jsxs)(Ne.a,{label:"resources.customers.filters.has_ordered",icon:Object(w.jsx)(ye.a,{}),children:[Object(w.jsx)(Pe.a,{label:"ra.boolean.true",value:{nb_commands_gte:1,nb_commands_lte:void 0}}),Object(w.jsx)(Pe.a,{label:"ra.boolean.false",value:{nb_commands_gte:void 0,nb_commands_lte:0}})]}),Object(w.jsxs)(Ne.a,{label:"resources.customers.filters.has_newsletter",icon:Object(w.jsx)(ke.a,{}),children:[Object(w.jsx)(Pe.a,{label:"ra.boolean.true",value:{has_newsletter:!0}}),Object(w.jsx)(Pe.a,{label:"ra.boolean.false",value:{has_newsletter:!1}})]}),Object(w.jsx)(Ne.a,{label:"resources.customers.filters.group",icon:Object(w.jsx)(Ce.a,{}),children:K.map((function(e){return Object(w.jsx)(Pe.a,{label:e.name,value:{groups:e.id}},e.id)}))})]})})},Ue=[Object(w.jsx)(F.a,{source:"q",alwaysOn:!0}),Object(w.jsx)(E.a,{source:"last_seen_gte"}),Object(w.jsx)(B.a,{source:"has_ordered"}),Object(w.jsx)(B.a,{source:"has_newsletter",defaultValue:!0}),Object(w.jsx)(te,{})],ze=Object(v.a)((function(e){return{nb_commands:{color:"purple"},hiddenOnSmallScreens:Object(N.a)({display:"table-cell"},e.breakpoints.down("md"),{display:"none"})}})),Ie=function(e){var t=ze(),r=Object(J.a)((function(e){return e.breakpoints.down("xs")})),s=Object(J.a)((function(e){return e.breakpoints.down("sm")}));return Object(w.jsx)(W.a,Object(n.a)(Object(n.a)({},e),{},{filters:s?Ue:void 0,sort:{field:"last_seen",order:"DESC"},perPage:25,aside:Object(w.jsx)(De,{}),children:r?Object(w.jsx)(fe,{}):Object(w.jsxs)(V.a,{optimized:!0,rowClick:"edit",children:[Object(w.jsx)(le,{}),Object(w.jsx)(M.a,{source:"last_seen"}),Object(w.jsx)(G.a,{source:"nb_commands",label:"resources.customers.fields.commands",className:t.nb_commands}),Object(w.jsx)(je,{source:"total_spent",options:{style:"currency",currency:"USD"}}),Object(w.jsx)(M.a,{source:"latest_purchase",showTime:!0}),Object(w.jsx)(H.a,{source:"has_newsletter",label:"News."}),Object(w.jsx)(Y,{cellClassName:t.hiddenOnSmallScreens,headerClassName:t.hiddenOnSmallScreens})]})}))},Le=r(1509),Fe=r(1517),Ee=r(241),Be=r(705),We=r(1470),Ve=r(799),Me=Object(v.a)({first_name:{display:"inline-block"},last_name:{display:"inline-block",marginLeft:32},email:{width:544},address:{maxWidth:544},zipcode:{display:"inline-block"},city:{display:"inline-block",marginLeft:32},comment:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},password:{display:"inline-block"},confirm_password:{display:"inline-block",marginLeft:32}}),Ge=function(e){var t=e.password,r=e.confirm_password,s={};return t&&r&&t!==r&&(s.confirm_password=["resources.customers.errors.password_mismatch"]),s},He=[Object(Be.c)()],Je=function(e){var t=e.label,r=Object(m.a)();return Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:r(t)})},qe=function(){return Object(w.jsx)(Ve.a,{pt:"1em"})},Ke=function(e){var t=Me(e);return Object(w.jsx)(Le.a,Object(n.a)(Object(n.a)({},e),{},{children:Object(w.jsxs)(Fe.a,{validate:Ge,children:[Object(w.jsx)(Je,{label:"resources.customers.fieldGroups.identity"}),Object(w.jsx)(Ee.a,{autoFocus:!0,source:"first_name",formClassName:t.first_name,validate:He}),Object(w.jsx)(Ee.a,{source:"last_name",formClassName:t.last_name,validate:He}),Object(w.jsx)(Ee.a,{type:"email",source:"email",validation:{email:!0},fullWidth:!0,formClassName:t.email,validate:[Object(Be.c)(),Object(Be.b)()]}),Object(w.jsx)(E.a,{source:"birthday"}),Object(w.jsx)(qe,{}),Object(w.jsx)(Je,{label:"resources.customers.fieldGroups.address"}),Object(w.jsx)(Ee.a,{source:"address",formClassName:t.address,multiline:!0,fullWidth:!0,helperText:!1}),Object(w.jsx)(Ee.a,{source:"zipcode",formClassName:t.zipcode,helperText:!1}),Object(w.jsx)(Ee.a,{source:"city",formClassName:t.city,helperText:!1}),Object(w.jsx)(qe,{}),Object(w.jsx)(Je,{label:"resources.customers.fieldGroups.password"}),Object(w.jsx)(We.a,{source:"password",formClassName:t.password}),Object(w.jsx)(We.a,{source:"confirm_password",formClassName:t.confirm_password})]})}))},Qe=r(1513),Xe=r(1505),Ye=r(379),Ze=r(1481),$e=r(503),et=r(1472),tt=r(1520),rt=r(1527),st=r(1482),ct=r(1516),at=r(1483),nt=r(1475),ot=r(22),it=r(244),lt=r.n(it),dt=r(1511),jt=r(1506),ut=r(1461),bt=r(717),mt=r(1510),Ot=r(1473),xt=r(1474),ht=r(1471),ft=function(e){return e&&e.basket.length},pt=function(e){var t=e.record;return Object(w.jsx)(ht.a,{record:t,render:ft})};pt.defaultProps={label:"resources.commands.fields.nb_items",textAlign:"right"};var gt=pt,vt=function(e){return Object(w.jsx)(tt.a,Object(n.a)(Object(n.a)({source:"customer_id",reference:"customers"},e),{},{children:Object(w.jsx)(oe,{})}))};vt.defaultProps={source:"customer_id",addLabel:!0};var wt=vt,yt=function(e){var t=e.record;return t?Object(w.jsxs)("span",{children:[t.address,", ",t.city,", ",t.stateAbbr," ",t.zipcode]}):null},_t=Object(v.a)((function(e){return{card:{height:"100%",display:"flex",flexDirection:"column",margin:"0.5rem 0"},cardTitleContent:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},cardContent:e.typography.body1,cardContentRow:{display:"flex",flexDirection:"row",alignItems:"center",margin:"0.5rem 0"}}})),kt=function(e){var t=e.ids,r=e.data,s=e.basePath,c=Object(m.a)(),a=_t();return t&&r&&s?Object(w.jsx)("div",{style:{margin:"1em"},children:t.map((function(e){return Object(w.jsxs)(ue.a,{className:a.card,children:[Object(w.jsx)(me.a,{title:Object(w.jsxs)("div",{className:a.cardTitleContent,children:[Object(w.jsxs)("span",{children:[c("resources.commands.name",1),":\xa0",Object(w.jsx)(et.a,{record:r[e],source:"reference"})]}),Object(w.jsx)(Oe.a,{resource:"commands",basePath:s,record:r[e]})]})}),Object(w.jsxs)(be.a,{className:a.cardContent,children:[Object(w.jsxs)("span",{className:a.cardContentRow,children:[c("resources.customers.name",1),":\xa0",Object(w.jsx)(wt,{record:r[e],basePath:s})]}),Object(w.jsxs)("span",{className:a.cardContentRow,children:[c("resources.reviews.fields.date"),":\xa0",Object(w.jsx)(M.a,{record:r[e],source:"date",showTime:!0})]}),Object(w.jsxs)("span",{className:a.cardContentRow,children:[c("resources.commands.fields.basket.total"),":\xa0",Object(w.jsx)(G.a,{record:r[e],source:"total",options:{style:"currency",currency:"USD"}})]}),Object(w.jsxs)("span",{className:a.cardContentRow,children:[c("resources.commands.fields.status"),":\xa0",Object(w.jsx)(et.a,{source:"status",record:r[e]})]}),Object(w.jsxs)("span",{className:a.cardContentRow,children:[c("resources.commands.fields.returned"),":\xa0",Object(w.jsx)(H.a,{record:r[e],source:"returned"})]})]})]},e)}))}):null};kt.defaultProps={data:{},ids:[]};var St=kt,Ct=[Object(w.jsx)(F.a,{source:"q",alwaysOn:!0}),Object(w.jsx)(dt.a,{source:"customer_id",reference:"customers",children:Object(w.jsx)(jt.a,{optionText:function(e){return e.id?"".concat(e.first_name," ").concat(e.last_name):""}})}),Object(w.jsx)(E.a,{source:"date_gte"}),Object(w.jsx)(E.a,{source:"date_lte"}),Object(w.jsx)(Ee.a,{source:"total_gte"}),Object(w.jsx)(B.a,{source:"returned"})],Tt=Object(v.a)({total:{fontWeight:"bold"}}),Nt=[{id:"ordered",name:"ordered"},{id:"delivered",name:"delivered"},{id:"cancelled",name:"cancelled"}],Pt=function(e){var t=Object(ut.a)(),r=t.ids,c=t.filterValues,a=t.setFilters,o=t.displayedFilters,i=Tt(),l=Object(J.a)((function(e){return e.breakpoints.down("xs")})),d=Object(s.useState)([]),j=Object(P.a)(d,2),u=j[0],b=j[1],m=Object(s.useState)([]),O=Object(P.a)(m,2),x=O[0],h=O[1],f=Object(s.useState)([]),p=Object(P.a)(f,2),g=p[0],v=p[1],y=function(e){return{ordered:Object($e.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(n.a)(Object(n.a)({},e),{},{status:"ordered"})).total,delivered:Object($e.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(n.a)(Object(n.a)({},e),{},{status:"delivered"})).total,cancelled:Object($e.a)("commands",{perPage:1,page:1},{field:"id",order:"ASC"},Object(n.a)(Object(n.a)({},e),{},{status:"cancelled"})).total}}(c);Object(s.useEffect)((function(){if(r&&r!==c.status)switch(c.status){case"ordered":b(r);break;case"delivered":h(r);break;case"cancelled":v(r)}}),[r,c.status]);var _=Object(s.useCallback)((function(e,t){a&&a(Object(n.a)(Object(n.a)({},c),{},{status:t}),o)}),[o,c,a]),k="ordered"===c.status?u:"delivered"===c.status?x:g;return Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(mt.a,{variant:"fullWidth",centered:!0,value:c.status,indicatorColor:"primary",onChange:_,children:Nt.map((function(e){return Object(w.jsx)(Ot.a,{label:y[e.name]?"".concat(e.name," (").concat(y[e.name],")"):e.name,value:e.id},e.id)}))}),Object(w.jsx)(xt.a,{}),l?Object(w.jsx)(bt.a,{value:Object(n.a)(Object(n.a)({},t),{},{ids:k}),children:Object(w.jsx)(St,Object(n.a)(Object(n.a)({},e),{},{ids:k}))}):Object(w.jsxs)("div",{children:["ordered"===c.status&&Object(w.jsx)(bt.a,{value:Object(n.a)(Object(n.a)({},t),{},{ids:u}),children:Object(w.jsxs)(V.a,Object(n.a)(Object(n.a)({},e),{},{optimized:!0,rowClick:"edit",children:[Object(w.jsx)(M.a,{source:"date",showTime:!0}),Object(w.jsx)(et.a,{source:"reference"}),Object(w.jsx)(wt,{}),Object(w.jsx)(tt.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(w.jsx)(yt,{})}),Object(w.jsx)(gt,{}),Object(w.jsx)(G.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total})]}))}),"delivered"===c.status&&Object(w.jsx)(bt.a,{value:Object(n.a)(Object(n.a)({},t),{},{ids:x}),children:Object(w.jsxs)(V.a,Object(n.a)(Object(n.a)({},e),{},{rowClick:"edit",children:[Object(w.jsx)(M.a,{source:"date",showTime:!0}),Object(w.jsx)(et.a,{source:"reference"}),Object(w.jsx)(wt,{}),Object(w.jsx)(tt.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(w.jsx)(yt,{})}),Object(w.jsx)(gt,{}),Object(w.jsx)(G.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total}),Object(w.jsx)(H.a,{source:"returned"})]}))}),"Cancelled"===c.status&&Object(w.jsx)(bt.a,{value:Object(n.a)(Object(n.a)({},t),{},{ids:g}),children:Object(w.jsxs)(V.a,Object(n.a)(Object(n.a)({},e),{},{rowClick:"edit",children:[Object(w.jsx)(M.a,{source:"date",showTime:!0}),Object(w.jsx)(et.a,{source:"reference"}),Object(w.jsx)(wt,{}),Object(w.jsx)(tt.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.commands.fields.address",children:Object(w.jsx)(yt,{})}),Object(w.jsx)(gt,{}),Object(w.jsx)(G.a,{source:"total",options:{style:"currency",currency:"USD"},className:i.total}),Object(w.jsx)(H.a,{source:"returned"})]}))})]})]})},At=function(e){return Object(w.jsx)(W.a,Object(n.a)(Object(n.a)({},e),{},{filterDefaultValues:{status:"ordered"},sort:{field:"date",order:"DESC"},perPage:25,filters:Ct,children:Object(w.jsx)(Pt,{})}))},Rt=r(240),Dt=r(1512),Ut=r(1476),zt=r(1468),It=r(1467),Lt=r(1466),Ft=r(1464),Et=r(1465),Bt=r(169),Wt=Object(v.a)({rightAlignedCell:{textAlign:"right"}}),Vt=function(e){var t=e.record,r=Wt(),s=Object(m.a)(),c=Object(Bt.a)({type:"getMany",resource:"products",payload:{ids:t?t.basket.map((function(e){return e.product_id})):[]}},{},(function(e){return(t?t.basket.map((function(e){return e.product_id})):[]).map((function(t){return e.admin.resources.products.data[t]})).filter((function(e){return"undefined"!==typeof e})).reduce((function(e,t){return e[t.id]=t,e}),{})})),a=c.loaded,n=c.data;return a&&t?Object(w.jsxs)(zt.a,{children:[Object(w.jsx)(It.a,{children:Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:s("resources.commands.fields.basket.reference")}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:s("resources.commands.fields.basket.unit_price")}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:s("resources.commands.fields.basket.quantity")}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:s("resources.commands.fields.basket.total")})]})}),Object(w.jsx)(Et.a,{children:t.basket.map((function(e){return n[e.product_id]&&Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:Object(w.jsx)(re.a,{to:"/products/".concat(e.product_id),children:n[e.product_id].reference})}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:n[e.product_id].price.toLocaleString(void 0,{style:"currency",currency:"USD"})}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:e.quantity}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:(n[e.product_id].price*e.quantity).toLocaleString(void 0,{style:"currency",currency:"USD"})})]},e.product_id)}))})]}):null},Mt=Object(v.a)({container:{minWidth:"35em"},rightAlignedCell:{textAlign:"right"},boldCell:{fontWeight:"bold"}}),Gt=function(e){var t=e.record,r=Mt(),s=Object(m.a)();return Object(w.jsx)(zt.a,{className:r.container,children:Object(w.jsxs)(Et.a,{children:[Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:s("resources.commands.fields.basket.sum")}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.total_ex_taxes.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:s("resources.commands.fields.basket.delivery")}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.delivery_fees.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(w.jsxs)(Lt.a,{children:[Object(w.jsxs)(Ft.a,{children:[s("resources.commands.fields.basket.taxes")," (",null===t||void 0===t?void 0:t.tax_rate.toLocaleString(void 0,{style:"percent"}),")"]}),Object(w.jsx)(Ft.a,{className:r.rightAlignedCell,children:null===t||void 0===t?void 0:t.taxes.toLocaleString(void 0,{style:"currency",currency:"USD"})})]}),Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{className:r.boldCell,children:s("resources.commands.fields.basket.total")}),Object(w.jsx)(Ft.a,{className:U()(r.boldCell,r.rightAlignedCell),children:null===t||void 0===t?void 0:t.total.toLocaleString(void 0,{style:"currency",currency:"USD"})})]})]})})},Ht=function(e){var t=e.record,r=Object(m.a)();return t?Object(w.jsx)("span",{children:r("resources.commands.title",{reference:t.reference})}):null},Jt=function(e){var t=e.record;return Object(w.jsxs)(Ve.a,{display:"flex",flexDirection:"column",children:[Object(w.jsxs)(f.a,{component:ot.a,color:"primary",to:"/customers/".concat(null===t||void 0===t?void 0:t.id),style:{textDecoration:"none"},children:[null===t||void 0===t?void 0:t.first_name," ",null===t||void 0===t?void 0:t.last_name]}),Object(w.jsx)(f.a,{component:nt.a,color:"primary",href:"mailto:".concat(null===t||void 0===t?void 0:t.email),style:{textDecoration:"none"},children:null===t||void 0===t?void 0:t.email})]})},qt=function(e){var t=e.record;return Object(w.jsxs)(Ve.a,{children:[Object(w.jsxs)(f.a,{children:[null===t||void 0===t?void 0:t.first_name," ",null===t||void 0===t?void 0:t.last_name]}),Object(w.jsx)(f.a,{children:null===t||void 0===t?void 0:t.address}),Object(w.jsxs)(f.a,{children:[null===t||void 0===t?void 0:t.city,", ",null===t||void 0===t?void 0:t.stateAbbr," ",null===t||void 0===t?void 0:t.zipcode]})]})},Kt=Object(v.a)({root:{alignItems:"flex-start"}}),Qt=function(){return Object(w.jsx)(Ve.a,{m:1,children:"\xa0"})},Xt=function(e){var t=Object(m.a)();return Object(w.jsx)(Xe.a,Object(n.a)(Object(n.a)({},e),{},{render:function(e){return Object(w.jsx)(Ve.a,{maxWidth:"50em",children:Object(w.jsxs)(ue.a,{children:[Object(w.jsxs)(be.a,{children:[Object(w.jsxs)(Ut.a,{container:!0,spacing:1,children:[Object(w.jsxs)(Ut.a,{item:!0,xs:12,sm:12,md:8,children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.order")}),Object(w.jsxs)(Ut.a,{container:!0,children:[Object(w.jsx)(Ut.a,{item:!0,xs:12,sm:12,md:6,children:Object(w.jsx)(Rt.a,{source:"date",resource:"commands",children:Object(w.jsx)(M.a,{source:"date",resource:"commands",record:e.record})})}),Object(w.jsx)(Ut.a,{item:!0,xs:12,sm:12,md:6,children:Object(w.jsx)(Rt.a,{source:"reference",resource:"commands",children:Object(w.jsx)(et.a,{source:"reference",resource:"commands",record:e.record})})})]}),Object(w.jsxs)(Ut.a,{container:!0,children:[Object(w.jsx)(Ut.a,{item:!0,xs:12,sm:12,md:6,children:Object(w.jsx)(Z.a,{resource:"commands",source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"},{id:"unknown",name:"unknown",disabled:!0}]})}),Object(w.jsx)(Ut.a,{item:!0,xs:12,sm:12,md:6,children:Object(w.jsx)(Ve.a,{mt:2,children:Object(w.jsx)(Dt.a,{row:!0,resource:"commands",source:"returned"})})})]})]}),Object(w.jsxs)(Ut.a,{item:!0,xs:12,sm:12,md:4,children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.customer")}),Object(w.jsx)(tt.a,{source:"customer_id",resource:"commands",reference:"customers",basePath:"/customers",record:e.record,link:!1,children:Object(w.jsx)(Jt,{})}),Object(w.jsx)(Qt,{}),Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.shipping_address")}),Object(w.jsx)(tt.a,{source:"customer_id",resource:"commands",reference:"customers",basePath:"/customers",record:e.record,link:!1,children:Object(w.jsx)(qt,{})})]})]}),Object(w.jsx)(Qt,{}),Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.items")}),Object(w.jsx)(Ve.a,{children:Object(w.jsx)(Vt,{record:e.record})}),Object(w.jsx)(Qt,{}),Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.commands.section.total")}),Object(w.jsx)(Ve.a,{children:Object(w.jsx)(Gt,{record:e.record})})]}),Object(w.jsx)(Ye.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"commands"})]})})}}))},Yt={list:At,edit:function(e){var t=Kt();return Object(w.jsx)(Qe.a,Object(n.a)(Object(n.a)({title:Object(w.jsx)(Ht,{}),classes:t},e),{},{component:"div",children:Object(w.jsx)(Xt,{})}))},icon:lt.a},Zt=r(385),$t=r.n(Zt),er=r(782),tr=r(35),rr=r(1480),sr=r(383),cr=r.n(sr),ar=r(252),nr=r(794),or=r(1462),ir=r(1391),lr=r(1478),dr=r(62),jr=[],ur=function(e){var t=e.selectedIds,r=void 0===t?jr:t,s=Object(ar.a)(),c=Object(nr.a)(),a=Object(or.a)("reviews"),n=Object(ir.a)("reviews",r,{status:"accepted"},{action:lr.a,undoable:!0,onSuccess:function(){s("resources.reviews.notification.approved_success","info",{},!0),c(),a()},onFailure:function(){s("resources.reviews.notification.approved_error","warning")}}),o=Object(P.a)(n,2),i=o[0],l=o[1].loading;return Object(w.jsx)(dr.a,{label:"resources.reviews.action.accept",onClick:i,disabled:l,children:Object(w.jsx)(cr.a,{})})},br=r(384),mr=r.n(br),Or=[],xr=function(e){var t=e.selectedIds,r=void 0===t?Or:t,s=Object(ar.a)(),c=Object(nr.a)(),a=Object(or.a)("reviews"),n=Object(ir.a)("reviews",r,{status:"rejected"},{action:lr.a,undoable:!0,onSuccess:function(){s("resources.reviews.notification.approved_success","info",{},!0),c(),a()},onFailure:function(){s("resources.reviews.notification.approved_error","warning")}}),o=Object(P.a)(n,2),i=o[0],l=o[1].loading;return Object(w.jsx)(dr.a,{label:"resources.reviews.action.reject",onClick:i,disabled:l,children:Object(w.jsx)(mr.a,{})})},hr=r(1366),fr=r(789),pr=r(1479),gr=r(1371),vr=r(401),wr=Object(v.a)({root:{width:"100vw"},link:{textDecoration:"none",color:"inherit"},inline:{display:"inline"}}),yr=function(){var e=wr(),t=Object(ut.a)(),r=t.basePath,c=t.data,a=t.ids,n=t.loaded,o=t.total;return n||Number(o)>0?Object(w.jsx)(hr.a,{className:e.root,children:a.map((function(t){var a=c[t];return a?Object(w.jsx)(ot.a,{to:Object(vr.a)(r,t),className:e.link,children:Object(w.jsxs)(fr.a,{button:!0,children:[Object(w.jsx)(pr.a,{children:Object(w.jsx)(tt.a,{record:a,source:"customer_id",reference:"customers",basePath:r,link:!1,children:Object(w.jsx)(ce,{size:"40"})})}),Object(w.jsx)(gr.a,{primary:Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(tt.a,{record:a,source:"customer_id",reference:"customers",basePath:r,link:!1,children:Object(w.jsx)(ht.a,{render:function(e){return e?"".concat(e.first_name," ").concat(e.last_name):""},variant:"subtitle1",className:e.inline})})," ","on"," ",Object(w.jsx)(tt.a,{record:a,source:"product_id",reference:"products",basePath:r,link:!1,children:Object(w.jsx)(et.a,{source:"reference",variant:"subtitle1",className:e.inline})})]}),secondary:a.comment,secondaryTypographyProps:{noWrap:!0}})]})},t):null}))}):null};yr.defaultProps={hasBulkActions:!1,selectedIds:[]};var _r=yr,kr=r(182),Sr=function(e){return Object(w.jsx)(tt.a,Object(n.a)(Object(n.a)({label:"Product",source:"product_id",reference:"products"},e),{},{children:Object(w.jsx)(et.a,{source:"reference"})}))};Sr.defaultProps={source:"product_id",addLabel:!0};var Cr=Sr,Tr=r(739),Nr=r.n(Tr),Pr=Object(v.a)({root:{opacity:.87,whiteSpace:"nowrap",display:"flex"},large:{width:20,height:20},small:{width:15,height:15}}),Ar=function(e){var t=e.record,r=e.size,s=void 0===r?"large":r,c=Pr();return t?Object(w.jsx)("span",{className:c.root,children:Array(t.rating).fill(!0).map((function(e,t){return Object(w.jsx)(Nr.a,{className:"large"===s?c.large:c.small},t)}))}):null};Ar.defaultProps={label:"resources.reviews.fields.rating",source:"rating",addLabel:!0};var Rr=Ar,Dr=r(740),Ur=r.n(Dr),zr=r(741),Ir=r.n(zr),Lr=r(742),Fr=r.n(Lr),Er=r(58),Br=function(e){return function(t){var r=Object(Er.a)(),s={};return t?(e&&e===t.id&&(s=Object(n.a)(Object(n.a)({},s),{},{backgroundColor:r.palette.action.selected})),"Accepted"===t.status?Object(n.a)(Object(n.a)({},s),{},{borderLeftColor:Ur.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"Pending"===t.status?Object(n.a)(Object(n.a)({},s),{},{borderLeftColor:Ir.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):"Rejected"===t.status?Object(n.a)(Object(n.a)({},s),{},{borderLeftColor:Fr.a[500],borderLeftWidth:5,borderLeftStyle:"solid"}):s):s}},Wr=["selectedRow"],Vr=Object(v.a)({headerRow:{borderLeftColor:"transparent",borderLeftWidth:5,borderLeftStyle:"solid"},headerCell:{padding:"6px 8px 6px 8px"},rowCell:{padding:"6px 8px 6px 8px"},comment:{maxWidth:"18em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),Mr=function(e){var t=e.selectedRow,r=Object(kr.a)(e,Wr),s=Vr();return Object(w.jsxs)(V.a,Object(n.a)(Object(n.a)({rowClick:"edit",rowStyle:Br(t),classes:{headerRow:s.headerRow,headerCell:s.headerCell,rowCell:s.rowCell},optimized:!0},r),{},{children:[Object(w.jsx)(M.a,{source:"date"}),Object(w.jsx)(wt,{link:!1}),Object(w.jsx)(Cr,{link:!1}),Object(w.jsx)(Rr,{size:"small"}),Object(w.jsx)(et.a,{source:"comment",cellClassName:s.comment}),Object(w.jsx)(et.a,{source:"status"})]}))},Gr=[Object(w.jsx)(F.a,{source:"q",alwaysOn:!0}),Object(w.jsx)(Z.a,{source:"status",choices:[{id:"accepted",name:"Accepted"},{id:"pending",name:"Pending"},{id:"rejected",name:"Rejected"}]}),Object(w.jsx)(dt.a,{source:"customer_id",reference:"customers",children:Object(w.jsx)(jt.a,{optionText:function(e){return(null===e||void 0===e?void 0:e.id)?"".concat(e.first_name," ").concat(e.last_name):""}})}),Object(w.jsx)(dt.a,{source:"product_id",reference:"products",children:Object(w.jsx)(jt.a,{optionText:"reference"})}),Object(w.jsx)(E.a,{source:"date_gte"}),Object(w.jsx)(E.a,{source:"date_lte"})],Hr=r(1526),Jr=r(1477),qr=r(221),Kr=r(372),Qr=r.n(Kr),Xr=r(793),Yr=r(1377),Zr=r(1382),$r=r(791),es=r(1374),ts=r(1390),rs=function(e){var t=e.record,r=Object(m.a)(),s=Object(ar.a)(),c=Object(es.a)(),a=Object(ts.a)("reviews",t.id,{status:"accepted"},t,{undoable:!0,onSuccess:function(){s("resources.reviews.notification.approved_success","info",{},!0),c("/reviews")},onFailure:function(){s("resources.reviews.notification.approved_error","warning")}}),n=Object(P.a)(a,2),o=n[0],i=n[1].loading;return t&&"Pending"===t.status?Object(w.jsxs)($r.a,{variant:"outlined",color:"primary",size:"small",onClick:o,disabled:i,children:[Object(w.jsx)(cr.a,{color:"primary",style:{paddingRight:"0.5em",color:"green"}}),r("resources.reviews.action.accept")]}):Object(w.jsx)("span",{})},ss=function(e){var t=e.record,r=Object(m.a)(),s=Object(ar.a)(),c=Object(es.a)(),a=Object(ts.a)("reviews",t.id,{status:"Rejected"},t,{undoable:!0,onSuccess:function(){s("resources.reviews.notification.rejected_success","info",{},!0),c("/reviews")},onFailure:function(){s("resources.reviews.notification.rejected_error","warning")}}),n=Object(P.a)(a,2),o=n[0],i=n[1].loading;return t&&"Pending"===t.status?Object(w.jsxs)($r.a,{variant:"outlined",color:"primary",size:"small",onClick:o,disabled:i,children:[Object(w.jsx)(mr.a,{color:"primary",style:{paddingRight:"0.5em",color:"red"}}),r("resources.reviews.action.reject")]}):Object(w.jsx)("span",{})},cs=Object(v.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,display:"flex",justifyContent:"space-between"}}})),as=function(e){var t=e.basePath,r=e.handleSubmitWithRedirect,c=e.invalid,a=e.record,n=e.resource,o=e.saving,i=cs();return a?Object(w.jsx)(Xr.a,{className:i.root,children:"Pending"===a.status?Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(rs,{record:a}),Object(w.jsx)(ss,{record:a})]}):Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(Yr.a,{handleSubmitWithRedirect:r,invalid:c,saving:o,redirect:"list",submitOnEnter:!0}),Object(w.jsx)(Zr.a,{basePath:t,record:a,resource:n})]})}):null},ns=["onCancel"],os=Object(v.a)((function(e){var t;return{root:{paddingTop:40},title:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"1em"},form:(t={},Object(N.a)(t,e.breakpoints.up("xs"),{width:400}),Object(N.a)(t,e.breakpoints.down("xs"),{width:"100vw",marginTop:-30}),t),inlineField:{display:"inline-block",width:"50%"}}})),is=function(e){var t=e.onCancel,r=Object(kr.a)(e,ns),s=os(),c=Object(Hr.a)(r),a=Object(m.a)();return c.record?Object(w.jsxs)("div",{className:s.root,children:[Object(w.jsxs)("div",{className:s.title,children:[Object(w.jsx)(f.a,{variant:"h6",children:a("resources.reviews.detail")}),Object(w.jsx)(qr.a,{onClick:t,children:Object(w.jsx)(Qr.a,{})})]}),Object(w.jsx)(Jr.a,{value:c,children:Object(w.jsxs)(Fe.a,{className:s.form,basePath:c.basePath,record:c.record,save:c.save,version:c.version,redirect:"list",resource:"reviews",toolbar:Object(w.jsx)(as,{}),children:[Object(w.jsx)(wt,{formClassName:s.inlineField}),Object(w.jsx)(Cr,{formClassName:s.inlineField}),Object(w.jsx)(M.a,{source:"date",formClassName:s.inlineField}),Object(w.jsx)(Rr,{formClassName:s.inlineField}),Object(w.jsx)(Ee.a,{source:"comment",rowsMax:15,multiline:!0,fullWidth:!0})]})})]}):null},ls=function(e){return Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(ur,Object(n.a)({},e)),Object(w.jsx)(xr,Object(n.a)({},e)),Object(w.jsx)(er.a,Object(n.a)({},e))]})},ds=Object(v.a)((function(e){return{root:{display:"flex"},list:{flexGrow:1,transition:e.transitions.create(["all"],{duration:e.transitions.duration.enteringScreen}),marginRight:0},listWithDrawer:{marginRight:400},drawerPaper:{zIndex:100}}})),js=function(e){var t=ds(),r=Object(J.a)((function(e){return e.breakpoints.down("xs")})),c=Object(tr.g)(),a=Object(s.useCallback)((function(){c.push("/reviews")}),[c]);return Object(w.jsx)("div",{className:t.root,children:Object(w.jsx)(tr.b,{path:"/reviews/:id",children:function(c){var o=c.match,i=!(!o||!o.params||"create"===o.params.id);return Object(w.jsxs)(s.Fragment,{children:[Object(w.jsx)(W.a,Object(n.a)(Object(n.a)({},e),{},{className:U()(t.list,Object(N.a)({},t.listWithDrawer,i)),bulkActionButtons:Object(w.jsx)(ls,{}),filters:Gr,perPage:25,sort:{field:"date",order:"DESC"},children:r?Object(w.jsx)(_r,{}):Object(w.jsx)(Mr,{selectedRow:i?parseInt(o.params.id,10):void 0})})),Object(w.jsx)(rr.a,{variant:"persistent",open:i,anchor:"right",onClose:a,classes:{paper:t.drawerPaper},children:i?Object(w.jsx)(is,{id:o.params.id,onCancel:a,resource:e.resource,basePath:e.basePath}):null})]})}})})},us={icon:$t.a,list:js},bs=Object(v.a)((function(e){return{root:Object(N.a)({width:400},e.breakpoints.down("md"),{display:"none"})}})),ms=Object(v.a)({stepper:{background:"none",border:"none",marginLeft:"0.3em"}}),Os=function(e){var t=e.record,r=e.basePath,s=Object(m.a)(),c=ms(),a=Object(Ze.a)(),n=Object($e.a)("commands",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),o=n.data,i=n.ids,l=Object($e.a)("reviews",{page:1,perPage:100},{field:"date",order:"DESC"},{customer_id:t&&t.id}),d=l.data,j=l.ids,u=xs(o,i,d,j);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Ve.a,{m:"0 0 1em 1em",children:Object(w.jsx)(ue.a,{children:Object(w.jsxs)(be.a,{children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:s("resources.customers.fieldGroups.history")}),Object(w.jsxs)(Ve.a,{display:"flex",children:[Object(w.jsxs)(Ve.a,{flexGrow:1,children:[Object(w.jsxs)(Ve.a,{display:"flex",mb:"1em",children:[Object(w.jsx)(Ve.a,{mr:"1em",children:Object(w.jsx)(ve.a,{fontSize:"small",color:"disabled"})}),Object(w.jsxs)(Ve.a,{flexGrow:1,children:[Object(w.jsx)(f.a,{children:s("resources.customers.fields.first_seen")}),Object(w.jsx)(M.a,{record:t,source:"first_seen"})]})]}),i&&i.length>0&&Object(w.jsxs)(Ve.a,{display:"flex",children:[Object(w.jsx)(Ve.a,{mr:"1em",children:Object(w.jsx)(Yt.icon,{fontSize:"small",color:"disabled"})}),Object(w.jsx)(Ve.a,{flexGrow:1,children:Object(w.jsx)(f.a,{children:s("resources.commands.amount",{smart_count:i.length})})})]})]}),Object(w.jsxs)(Ve.a,{flexGrow:1,children:[Object(w.jsxs)(Ve.a,{display:"flex",mb:"1em",children:[Object(w.jsx)(Ve.a,{mr:"1em",children:Object(w.jsx)(ve.a,{fontSize:"small",color:"disabled"})}),Object(w.jsxs)(Ve.a,{flexGrow:1,children:[Object(w.jsx)(f.a,{children:s("resources.customers.fields.last_seen")}),Object(w.jsx)(M.a,{record:t,source:"last_seen"})]})]}),j&&j.length>0&&Object(w.jsxs)(Ve.a,{display:"flex",children:[Object(w.jsx)(Ve.a,{mr:"1em",children:Object(w.jsx)(us.icon,{fontSize:"small",color:"disabled"})}),Object(w.jsx)(Ve.a,{flexGrow:1,children:Object(w.jsx)(f.a,{children:s("resources.reviews.amount",{smart_count:j.length})})})]})]})]})]})})}),Object(w.jsx)(rt.a,{orientation:"vertical",classes:{root:c.stepper},children:u.map((function(e){return Object(w.jsxs)(st.a,{expanded:!0,active:!0,completed:!0,children:[Object(w.jsx)(ct.a,{StepIconComponent:function(){var t="order"===e.type?Yt.icon:us.icon;return Object(w.jsx)(t,{fontSize:"small",color:"disabled",style:{paddingLeft:3}})},children:new Date(e.date).toLocaleString(a,{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"})}),Object(w.jsx)(at.a,{children:"order"===e.type?Object(w.jsx)(hs,{record:e.data,basePath:r},"event_".concat(e.data.id)):Object(w.jsx)(ps,{record:e.data,basePath:r},"review_".concat(e.data.id))})]},"".concat(e.type,"-").concat(e.data.id))}))})]})},xs=function(e,t,r,s){var c=t&&e?t.map((function(t){return{type:"order",date:e[t].date,data:e[t]}})):[],a=s&&r?s.map((function(e){return{type:"review",date:r[e].date,data:r[e]}})):[],n=c.concat(a);return n.sort((function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()})),n},hs=function(e){var t=e.record,r=e.basePath,s=Object(m.a)();return t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:Object(w.jsxs)(nt.a,{to:"/commands/".concat(t.id),component:ot.a,children:[s("resources.commands.name",{smart_count:1})," ","#",t.reference]})}),Object(w.jsxs)(f.a,{variant:"body2",color:"textSecondary",children:[s("resources.commands.nb_items",{smart_count:t.basket.length,_:"1 item |||| %{smart_count} items"}),"\xa0-\xa0",Object(w.jsx)(G.a,{source:"total",options:{style:"currency",currency:"USD"},record:t,basePath:r}),"\xa0-\xa0",Object(w.jsx)(et.a,{source:"status",record:t,basePath:r})]})]}):null},fs=Object(v.a)({clamp:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}),ps=function(e){var t=e.record,r=e.basePath,s=fs(),c=Object(m.a)();return t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.a,{variant:"body2",gutterBottom:!0,children:Object(w.jsxs)(nt.a,{to:"/reviews/".concat(t.id),component:ot.a,children:[c("resources.reviews.relative_to_poster"),' "',Object(w.jsx)(tt.a,{source:"product_id",reference:"products",resource:"reviews",record:t,basePath:r,link:!1,children:Object(w.jsx)(et.a,{source:"reference",component:"span"})}),'"']})}),Object(w.jsx)(f.a,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:Object(w.jsx)(Rr,{record:t})}),Object(w.jsx)(f.a,{variant:"body2",color:"textSecondary",className:s.clamp,children:t.comment})]}):null},gs=function(e){var t=e.record,r=e.basePath,s=bs();return Object(w.jsx)("div",{className:s.root,children:t&&Object(w.jsx)(Os,{record:t,basePath:r})})},vs=r(1484),ws=["addField"],ys=function(e){e.addField;var t=Object(kr.a)(e,ws),r=Object(m.a)();return Object(w.jsx)(vs.a,Object(n.a)(Object(n.a)({source:"groups"},t),{},{choices:K.map((function(e){return{id:e.id,name:r(e.name)}}))}))};ys.defaultProps={addField:!0,source:"groups",resource:"customers"};var _s=ys,ks=function(e){var t=e.record;return t?Object(w.jsx)(oe,{record:t,size:"32"}):null},Ss=function(e){var t=Object(m.a)();return Object(w.jsx)(Xe.a,Object(n.a)(Object(n.a)({},e),{},{validate:Ge,render:function(e){return Object(w.jsx)(ue.a,{children:Object(w.jsxs)("form",{children:[Object(w.jsx)(be.a,{children:Object(w.jsxs)(Ve.a,{display:{md:"block",lg:"flex"},children:[Object(w.jsxs)(Ve.a,{flex:2,mr:{md:0,lg:"1em"},children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.identity")}),Object(w.jsxs)(Ve.a,{display:{xs:"block",sm:"flex"},children:[Object(w.jsx)(Ve.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(w.jsx)(Ee.a,{source:"first_name",resource:"customers",validate:Cs,fullWidth:!0})}),Object(w.jsx)(Ve.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(w.jsx)(Ee.a,{source:"last_name",resource:"customers",validate:Cs,fullWidth:!0})})]}),Object(w.jsx)(Ee.a,{type:"email",source:"email",resource:"customers",validate:[Object(Be.b)(),Object(Be.c)()],fullWidth:!0}),Object(w.jsxs)(Ve.a,{display:{xs:"block",sm:"flex"},children:[Object(w.jsx)(Ve.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(w.jsx)(E.a,{source:"birthday",resource:"customers",fullWidth:!0,helperText:!1})}),Object(w.jsx)(Ve.a,{flex:2,ml:{xs:0,sm:"0.5em"}})]}),Object(w.jsx)(Ve.a,{mt:"1em"}),Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.address")}),Object(w.jsx)(Ee.a,{source:"address",resource:"customers",multiline:!0,fullWidth:!0,helperText:!1}),Object(w.jsxs)(Ve.a,{display:{xs:"block",sm:"flex"},children:[Object(w.jsx)(Ve.a,{flex:2,mr:{xs:0,sm:"0.5em"},children:Object(w.jsx)(Ee.a,{source:"city",resource:"customers",fullWidth:!0,helperText:!1})}),Object(w.jsx)(Ve.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(w.jsx)(Ee.a,{source:"stateAbbr",resource:"customers",fullWidth:!0,helperText:!1})}),Object(w.jsx)(Ve.a,{flex:2,children:Object(w.jsx)(Ee.a,{source:"zipcode",resource:"customers",fullWidth:!0,helperText:!1})})]}),Object(w.jsx)(Ve.a,{mt:"1em"}),Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.change_password")}),Object(w.jsxs)(Ve.a,{display:{xs:"block",sm:"flex"},children:[Object(w.jsx)(Ve.a,{flex:1,mr:{xs:0,sm:"0.5em"},children:Object(w.jsx)(We.a,{source:"password",resource:"customers",fullWidth:!0})}),Object(w.jsx)(Ve.a,{flex:1,ml:{xs:0,sm:"0.5em"},children:Object(w.jsx)(We.a,{source:"confirm_password",resource:"customers",fullWidth:!0})})]})]}),Object(w.jsxs)(Ve.a,{flex:1,ml:{xs:0,lg:"1em"},mt:{xs:"1em",lg:0},children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:t("resources.customers.fieldGroups.stats")}),Object(w.jsx)("div",{children:Object(w.jsx)(_s,{fullWidth:!0})}),Object(w.jsx)("div",{children:Object(w.jsx)(B.a,{source:"has_newsletter",resource:"customers"})})]})]})}),Object(w.jsx)(Ye.a,{record:e.record,basePath:e.basePath,undoable:!0,invalid:e.invalid,handleSubmit:e.handleSubmit,saving:e.saving,resource:"customers"})]})})}}))},Cs=[Object(Be.c)()],Ts={list:Ie,create:Ke,edit:function(e){return Object(w.jsx)(Qe.a,Object(n.a)(Object(n.a)({title:Object(w.jsx)(ks,{}),aside:Object(w.jsx)(gs,{}),component:"div"},e),{},{children:Object(w.jsx)(Ss,{})}))},icon:L.a},Ns=r(744),Ps=r.n(Ns),As=r(1485),Rs=function(e){var t=e.record;return t?Object(w.jsxs)(f.a,{children:[t.first_name," ",t.last_name,Object(w.jsx)("br",{}),t.address,Object(w.jsx)("br",{}),t.city,", ",t.zipcode]}):null},Ds=function(e){var t=Object(As.a)(e).record,r=Us();return t?Object(w.jsx)(ue.a,{className:r.root,children:Object(w.jsxs)(be.a,{children:[Object(w.jsxs)(Ut.a,{container:!0,spacing:2,children:[Object(w.jsx)(Ut.a,{item:!0,xs:6,children:Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,children:"Posters Galore"})}),Object(w.jsx)(Ut.a,{item:!0,xs:6,children:Object(w.jsxs)(f.a,{variant:"h6",gutterBottom:!0,align:"right",children:["Invoice ",t.id]})})]}),Object(w.jsx)(Ut.a,{container:!0,spacing:2,children:Object(w.jsx)(Ut.a,{item:!0,xs:12,container:!0,alignContent:"flex-end",children:Object(w.jsx)(tt.a,{resource:"invoices",reference:"customers",source:"customer_id",basePath:"/invoices",record:t,link:!1,children:Object(w.jsx)(Rs,{})})})}),Object(w.jsx)("div",{className:r.spacer,children:"\xa0"}),Object(w.jsxs)(Ut.a,{container:!0,spacing:2,children:[Object(w.jsxs)(Ut.a,{item:!0,xs:6,children:[Object(w.jsxs)(f.a,{variant:"h6",gutterBottom:!0,align:"center",children:["Date"," "]}),Object(w.jsx)(f.a,{gutterBottom:!0,align:"center",children:new Date(t.date).toLocaleDateString()})]}),Object(w.jsxs)(Ut.a,{item:!0,xs:5,children:[Object(w.jsx)(f.a,{variant:"h6",gutterBottom:!0,align:"center",children:"Order"}),Object(w.jsx)(tt.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1,children:Object(w.jsx)(et.a,{source:"reference",align:"center",component:"p",gutterBottom:!0})})]})]}),Object(w.jsx)("div",{className:r.invoices,children:Object(w.jsx)(tt.a,{resource:"invoices",reference:"commands",source:"command_id",basePath:"/invoices",record:t,link:!1,children:Object(w.jsx)(Vt,{})})})]})}):null},Us=Object(v.a)({root:{width:600,margin:"auto"},spacer:{height:20},invoices:{margin:"10px 0"}}),zs=[Object(w.jsx)(E.a,{source:"date_gte",alwaysOn:!0}),Object(w.jsx)(E.a,{source:"date_lte",alwaysOn:!0})],Is=Object(v.a)((function(e){return{hiddenOnSmallScreens:Object(N.a)({display:"table-cell"},e.breakpoints.down("md"),{display:"none"})}})),Ls={list:function(e){var t=Is();return Object(w.jsx)(W.a,Object(n.a)(Object(n.a)({},e),{},{filters:zs,perPage:25,sort:{field:"date",order:"desc"},children:Object(w.jsxs)(V.a,{rowClick:"expand",expand:Object(w.jsx)(Ds,{}),children:[Object(w.jsx)(et.a,{source:"id"}),Object(w.jsx)(M.a,{source:"date"}),Object(w.jsx)(tt.a,{source:"customer_id",reference:"customers",children:Object(w.jsx)(oe,{})}),Object(w.jsx)(tt.a,{source:"customer_id",reference:"customers",link:!1,label:"resources.invoices.fields.address",cellClassName:t.hiddenOnSmallScreens,headerClassName:t.hiddenOnSmallScreens,children:Object(w.jsx)(yt,{})}),Object(w.jsx)(tt.a,{source:"command_id",reference:"commands",children:Object(w.jsx)(et.a,{source:"reference"})}),Object(w.jsx)(G.a,{source:"total_ex_taxes"}),Object(w.jsx)(G.a,{source:"delivery_fees"}),Object(w.jsx)(G.a,{source:"taxes"}),Object(w.jsx)(G.a,{source:"total"})]})}))},icon:Ps.a},Fs=r(749),Es=r.n(Fs),Bs=r(1489),Ws=r(243),Vs=r(786),Ms=r(1521),Gs=r(1518),Hs=r(1519),Js=r(1490),qs=r(117),Ks=r(179),Qs=r(1525),Xs=r(781),Ys=r(1486),Zs=r(1487),$s=r(1488),ec=r(1378),tc=Object(v.a)((function(e){return{gridList:{margin:0},tileBar:{background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%,rgba(0,0,0,0.4) 70%,rgba(0,0,0,0) 100%)"},placeholder:{backgroundColor:e.palette.grey[300],height:"100%"},price:{display:"inline",fontSize:"1em"},link:{color:"#fff"}}})),rc=function(e){return"xs"===e?2:"sm"===e||"md"===e?3:"lg"===e?5:6},sc=function(e){var t,r,s=e.width,c=e.nbItems,a=void 0===c?20:c,n=tc();return Object(w.jsxs)(Ys.a,{cellHeight:180,cols:rc(s),className:n.gridList,children:[" ",(t=a,r=function(e){return Object(w.jsx)(Zs.a,{children:Object(w.jsx)("div",{className:n.placeholder})},e)},Array.from({length:t},(function(e,t){return r(t)})))]})},cc=function(e){var t=e.width,r=Object(ut.a)(),s=r.ids,c=r.data,a=r.basePath,n=tc();return s&&c?Object(w.jsx)(Ys.a,{cellHeight:180,cols:rc(t),className:n.gridList,children:s.map((function(e){return Object(w.jsxs)(Zs.a,{component:ot.a,to:Object(vr.a)(a,c[e].id),children:[Object(w.jsx)("img",{src:c[e].thumbnail,alt:""}),Object(w.jsx)($s.a,{className:n.tileBar,title:c[e].reference,subtitle:Object(w.jsxs)("span",{children:[c[e].width,"x",c[e].height,","," ",Object(w.jsx)(G.a,{className:n.price,source:"price",record:c[e],color:"inherit",options:{style:"currency",currency:"USD"}})]})})]},e)}))}):null},ac=Object(ec.a)()((function(e){var t=e.width;return Object(ut.a)().loaded?Object(w.jsx)(cc,{width:t}):Object(w.jsx)(sc,{width:t})})),nc=r(91),oc=r.n(nc),ic=r(745),lc=r.n(ic),dc=Object(v.a)((function(e){var t;return{root:(t={},Object(N.a)(t,e.breakpoints.up("sm"),{width:"15em",marginRight:"1em",overflow:"initial"}),Object(N.a)(t,e.breakpoints.down("sm"),{display:"none"}),t)}})),jc=function(){var e=Object($e.a)("categories",{page:1,perPage:100},{field:"name",order:"ASC"},{}),t=e.data,r=e.ids,s=dc();return Object(w.jsx)(ue.a,{className:s.root,children:Object(w.jsxs)(be.a,{children:[Object(w.jsx)(Te.a,{}),Object(w.jsxs)(Ne.a,{label:"resources.products.filters.sales",icon:Object(w.jsx)(lt.a,{}),children:[Object(w.jsx)(Pe.a,{label:"resources.products.filters.best_sellers",value:{sales_lte:void 0,sales_gt:25,sales:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.average_sellers",value:{sales_lte:25,sales_gt:10,sales:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.low_sellers",value:{sales_lte:10,sales_gt:0,sales:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.never_sold",value:{sales_lte:void 0,sales_gt:void 0,sales:0}})]}),Object(w.jsxs)(Ne.a,{label:"resources.products.filters.stock",icon:Object(w.jsx)(lc.a,{}),children:[Object(w.jsx)(Pe.a,{label:"resources.products.filters.no_stock",value:{stock_lt:void 0,stock_gt:void 0,stock:0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.low_stock",value:{stock_lt:10,stock_gt:0,stock:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.average_stock",value:{stock_lt:50,stock_gt:9,stock:void 0}}),Object(w.jsx)(Pe.a,{label:"resources.products.filters.enough_stock",value:{stock_lt:void 0,stock_gt:49,stock:void 0}})]}),Object(w.jsx)(Ne.a,{label:"resources.products.filters.categories",icon:Object(w.jsx)(Ce.a,{}),children:r&&t&&r.map((function(e){return Object(w.jsx)(Pe.a,{label:oc.a.humanize(t[e].name),value:{category_id:t[e].id}},t[e].id)}))})]})})},uc=Object(v.a)((function(e){return{root:{marginBottom:e.spacing(1)}}})),bc=function(e){var t=e.label,r=Object(m.a)(),s=uc();return Object(w.jsx)(q.a,{className:s.root,label:r(t)})},mc=[Object(w.jsx)(F.a,{source:"q",alwaysOn:!0}),Object(w.jsx)(dt.a,{source:"category_id",reference:"categories",sort:{field:"id",order:"ASC"},children:Object(w.jsx)(Z.a,{source:"name"})}),Object(w.jsx)(Bs.a,{source:"width_gte"}),Object(w.jsx)(Bs.a,{source:"width_lte"}),Object(w.jsx)(Bs.a,{source:"height_gte"}),Object(w.jsx)(Bs.a,{source:"height_lte"}),Object(w.jsx)(bc,{label:"resources.products.fields.stock_lte",source:"stock_lte",defaultValue:10})],Oc=function(e){var t=e.isSmall;return Object(w.jsxs)(Ws.a,{children:[t&&Object(w.jsx)(Vs.a,{}),Object(w.jsx)(Ms.a,{fields:["reference","sales","stock"]}),Object(w.jsx)(Gs.a,{basePath:"/products"}),Object(w.jsx)(Hs.a,{})]})},xc=function(e){var t=e.isSmall,r=Object(ut.a)().defaultTitle;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(qs.b,{defaultTitle:r}),Object(w.jsxs)(Ks.a.Provider,{value:mc,children:[Object(w.jsx)(Oc,{isSmall:t}),t&&Object(w.jsx)(Ve.a,{m:1,children:Object(w.jsx)(Qs.a,{})})]}),Object(w.jsxs)(Ve.a,{display:"flex",children:[Object(w.jsx)(jc,{}),Object(w.jsxs)(Ve.a,{width:t?"auto":"calc(100% - 16em)",children:[Object(w.jsx)(ac,{}),Object(w.jsx)(Xs.a,{rowsPerPageOptions:[10,20,40]})]})]})]})},hc=function(e){var t=Object(J.a)((function(e){return e.breakpoints.down("sm")}));return Object(w.jsx)(Js.a,Object(n.a)(Object(n.a)({perPage:20,sort:{field:"reference",order:"ASC"}},e),{},{children:Object(w.jsx)(xc,{isSmall:t})}))},fc=r(1514),pc=r(1515),gc=r(1522),vc=r(257),wc=r(398),yc=Object(v.a)({root:{display:"inline-block",marginTop:"1em",zIndex:2},content:{padding:0,"&:last-child":{padding:0}},img:{width:"initial",minWidth:"initial",maxWidth:"42em",maxHeight:"15em"}}),_c=function(e){var t=e.record,r=yc();return t?Object(w.jsx)(ue.a,{className:r.root,children:Object(w.jsx)(be.a,{className:r.content,children:Object(w.jsx)("img",{src:t.image,alt:"",className:r.img})})}):null},kc={price:{width:"7em"},width:{width:"7em"},height:{width:"7em"},stock:{width:"7em"},widthFormGroup:{display:"inline-block"},heightFormGroup:{display:"inline-block",marginLeft:32}},Sc=Object(v.a)(kc),Cc=function(e){var t=Sc();return Object(w.jsx)(Le.a,Object(n.a)(Object(n.a)({},e),{},{children:Object(w.jsxs)(fc.a,{children:[Object(w.jsxs)(pc.a,{label:"resources.products.tabs.image",children:[Object(w.jsx)(Ee.a,{autoFocus:!0,source:"image",fullWidth:!0,validate:Object(Be.c)()}),Object(w.jsx)(Ee.a,{source:"thumbnail",fullWidth:!0,validate:Object(Be.c)()})]}),Object(w.jsxs)(pc.a,{label:"resources.products.tabs.details",path:"details",children:[Object(w.jsx)(Ee.a,{source:"reference",validate:Object(Be.c)()}),Object(w.jsx)(Bs.a,{source:"price",validate:Object(Be.c)(),className:t.price,InputProps:{startAdornment:Object(w.jsx)(vc.a,{position:"start",children:"\u20ac"})}}),Object(w.jsx)(Bs.a,{source:"width",validate:Object(Be.c)(),className:t.width,formClassName:t.widthFormGroup,InputProps:{endAdornment:Object(w.jsx)(vc.a,{position:"start",children:"cm"})}}),Object(w.jsx)(Bs.a,{source:"height",validate:Object(Be.c)(),className:t.height,formClassName:t.heightFormGroup,InputProps:{endAdornment:Object(w.jsx)(vc.a,{position:"start",children:"cm"})}}),Object(w.jsx)(dt.a,{source:"category_id",reference:"categories",allowEmpty:!0,children:Object(w.jsx)(Z.a,{source:"name"})}),Object(w.jsx)(Bs.a,{source:"stock",validate:Object(Be.c)(),className:t.stock})]}),Object(w.jsx)(pc.a,{label:"resources.products.tabs.description",path:"description",children:Object(w.jsx)(wc.a,{source:"description",label:""})})]})}))},Tc=function(e){var t=e.record;return t?Object(w.jsxs)("span",{children:["Poster #",t.reference]}):null},Nc=Object(v.a)(Object(n.a)(Object(n.a)({},kc),{},{comment:{maxWidth:"20em",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},tab:{maxWidth:"40em",display:"block"}})),Pc=[Object(Be.c)()],Ac={list:hc,create:Cc,edit:function(e){var t=Nc();return Object(w.jsx)(Qe.a,Object(n.a)(Object(n.a)({},e),{},{title:Object(w.jsx)(Tc,{}),children:Object(w.jsxs)(fc.a,{children:[Object(w.jsxs)(pc.a,{label:"resources.products.tabs.image",contentClassName:t.tab,children:[Object(w.jsx)(_c,{}),Object(w.jsx)(Ee.a,{source:"image",fullWidth:!0,validate:Pc}),Object(w.jsx)(Ee.a,{source:"thumbnail",fullWidth:!0,validate:Pc})]}),Object(w.jsxs)(pc.a,{label:"resources.products.tabs.details",path:"details",contentClassName:t.tab,children:[Object(w.jsx)(Ee.a,{source:"reference",validate:Pc}),Object(w.jsx)(Bs.a,{source:"price",className:t.price,InputProps:{startAdornment:Object(w.jsx)(vc.a,{position:"start",children:"\u20ac"})},validate:Pc}),Object(w.jsx)(Bs.a,{source:"width",className:t.width,formClassName:t.widthFormGroup,InputProps:{endAdornment:Object(w.jsx)(vc.a,{position:"start",children:"cm"})},validate:Pc}),Object(w.jsx)(Bs.a,{source:"height",className:t.height,formClassName:t.heightFormGroup,InputProps:{endAdornment:Object(w.jsx)(vc.a,{position:"start",children:"cm"})},validate:Pc}),Object(w.jsx)(dt.a,{source:"category_id",reference:"categories",validate:Pc,children:Object(w.jsx)(Z.a,{source:"name"})}),Object(w.jsx)(Bs.a,{source:"stock",className:t.stock,validate:Pc}),Object(w.jsx)(Bs.a,{source:"sales",className:t.stock,validate:Pc})]}),Object(w.jsx)(pc.a,{label:"resources.products.tabs.description",path:"description",contentClassName:t.tab,children:Object(w.jsx)(wc.a,{source:"description",label:"",validate:Pc})}),Object(w.jsx)(pc.a,{label:"resources.products.tabs.reviews",path:"reviews",children:Object(w.jsx)(gc.a,{reference:"reviews",target:"product_id",addLabel:!1,pagination:Object(w.jsx)(Xs.a,{}),fullWidth:!0,children:Object(w.jsxs)(V.a,{children:[Object(w.jsx)(M.a,{source:"date"}),Object(w.jsx)(wt,{}),Object(w.jsx)(Rr,{}),Object(w.jsx)(et.a,{source:"comment",cellClassName:t.comment}),Object(w.jsx)(et.a,{source:"status"}),Object(w.jsx)(Oe.a,{})]})})})]})}))},icon:Es.a},Rc=r(750),Dc=r.n(Rc),Uc=r(1491),zc=r(1492),Ic=r(386),Lc=Object(v.a)({icon:{paddingRight:"0.5em"},link:{display:"inline-flex",alignItems:"center"}}),Fc=function(e){var t=e.record,r=Object(m.a)(),s=Lc();return t?Object(w.jsxs)($r.a,{size:"small",color:"primary",component:ot.a,to:{pathname:"/products",search:Object(Ic.stringify)({filter:JSON.stringify({category_id:t.id})})},className:s.link,children:[Object(w.jsx)(Ac.icon,{className:s.icon}),r("resources.categories.fields.products")]}):null},Ec=Object(v.a)({root:{marginTop:"1em"},media:{height:140},title:{paddingBottom:"0.5em"},actionSpacer:{display:"flex",justifyContent:"space-around"}}),Bc=function(e){var t=Ec(e),r=Object(ut.a)(),s=r.data,c=r.ids;return c?Object(w.jsx)(Ut.a,{container:!0,spacing:2,className:t.root,children:c.map((function(e){return Object(w.jsx)(Ut.a,{xs:12,sm:6,md:4,lg:3,xl:2,item:!0,children:Object(w.jsxs)(ue.a,{children:[Object(w.jsx)(Uc.a,{image:"https://marmelab.com/posters/".concat(s[e].name,"-1.jpeg"),className:t.media}),Object(w.jsx)(be.a,{className:t.title,children:Object(w.jsx)(f.a,{variant:"h5",component:"h2",align:"center",children:oc.a.humanize(s[e].name)})}),Object(w.jsxs)(zc.a,{classes:{spacing:t.actionSpacer},children:[Object(w.jsx)(Fc,{record:s[e]}),Object(w.jsx)(Oe.a,{basePath:"/categories",record:s[e]})]})]})},e)}))}):null},Wc=function(e){return Object(w.jsx)(W.a,Object(n.a)(Object(n.a)({},e),{},{sort:{field:"name",order:"ASC"},perPage:20,pagination:!1,component:"div",actions:!1,children:Object(w.jsx)(Bc,{})}))},Vc=Object(v.a)({root:{width:25,maxWidth:25,maxHeight:25}}),Mc=function(e){var t=e.record,r=Vc();return t?Object(w.jsx)("img",{src:t.thumbnail,className:r.root,alt:""}):null},Gc=function(e){var t=e.record;return t?Object(w.jsx)(ot.a,{to:"products/".concat(t.id),children:t.reference}):null};Gc.defaultProps={source:"id",label:"Reference"};var Hc=Gc,Jc=function(e){var t=e.record,r=Object(m.a)();return t?Object(w.jsxs)("span",{children:[r("resources.categories.name",{smart_count:1}),' "',t.name,'"']}):null},qc={list:Wc,edit:function(e){return Object(w.jsx)(Qe.a,Object(n.a)(Object(n.a)({title:Object(w.jsx)(Jc,{})},e),{},{children:Object(w.jsxs)(Fe.a,{children:[Object(w.jsx)(Ee.a,{source:"name"}),Object(w.jsx)(gc.a,{reference:"products",target:"category_id",label:"resources.categories.fields.products",perPage:20,fullWidth:!0,children:Object(w.jsxs)(V.a,{children:[Object(w.jsx)(Mc,{}),Object(w.jsx)(Hc,{source:"reference"}),Object(w.jsx)(G.a,{source:"price",options:{style:"currency",currency:"USD"}}),Object(w.jsx)(G.a,{source:"width",options:{minimumFractionDigits:2}}),Object(w.jsx)(G.a,{source:"height",options:{minimumFractionDigits:2}}),Object(w.jsx)(G.a,{source:"stock"}),Object(w.jsx)(G.a,{source:"sales"}),Object(w.jsx)(Oe.a,{})]})})]})}))},icon:Dc.a},Kc=r(191),Qc=r(1362),Xc=r(495),Yc=r(1380),Zc=r(212),$c=r.n(Zc),ea=Object(v.a)((function(e){return{icon:{minWidth:e.spacing(5)},sidebarIsOpen:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(4)}},sidebarIsClosed:{"& a":{transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms",paddingLeft:e.spacing(2)}}}})),ta=function(e){var t=e.handleToggle,r=e.isOpen,c=e.name,a=e.icon,n=e.children,o=e.dense,i=Object(m.a)(),l=ea(),d=Object(C.f)((function(e){return e.admin.ui.sidebarOpen})),j=Object(w.jsxs)(Kc.a,{dense:o,button:!0,onClick:t,children:[Object(w.jsx)(Qc.a,{className:l.icon,children:r?Object(w.jsx)($c.a,{}):a}),Object(w.jsx)(f.a,{variant:"inherit",color:"textSecondary",children:i(c)})]});return Object(w.jsxs)(s.Fragment,{children:[d||r?j:Object(w.jsx)(Xc.a,{title:i(c),placement:"right",children:j}),Object(w.jsx)(Yc.a,{in:r,timeout:"auto",unmountOnExit:!0,children:Object(w.jsx)(hr.a,{dense:o,component:"div",disablePadding:!0,className:d?l.sidebarIsOpen:l.sidebarIsClosed,children:n})})]})},ra=Object(v.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(1),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},open:{width:200},closed:{width:55}}})),sa=function(e){var t,r=e.dense,c=void 0!==r&&r,a=Object(s.useState)({menuCatalog:!0,menuSales:!0,menuCustomers:!0}),o=Object(P.a)(a,2),i=o[0],l=o[1],d=Object(m.a)(),j=Object(C.f)((function(e){return e.admin.ui.sidebarOpen}));Object(C.f)((function(e){return e.theme}));var u=ra(),b=function(e){l((function(t){return Object(n.a)(Object(n.a)({},t),{},Object(N.a)({},e,!t[e]))}))};return Object(w.jsxs)("div",{className:U()(u.root,(t={},Object(N.a)(t,u.open,j),Object(N.a)(t,u.closed,!j),t)),children:[" ",Object(w.jsx)(z.a,{}),Object(w.jsxs)(ta,{handleToggle:function(){return b("menuSales")},isOpen:i.menuSales,name:"pos.menu.sales",icon:Object(w.jsx)(Yt.icon,{}),dense:c,children:[Object(w.jsx)(O.a,{to:{pathname:"/commands",state:{_scrollToTop:!0}},primaryText:d("resources.commands.name",{smart_count:2}),leftIcon:Object(w.jsx)(Yt.icon,{}),dense:c}),Object(w.jsx)(O.a,{to:{pathname:"/invoices",state:{_scrollToTop:!0}},primaryText:d("resources.invoices.name",{smart_count:2}),leftIcon:Object(w.jsx)(Ls.icon,{}),dense:c})]}),Object(w.jsxs)(ta,{handleToggle:function(){return b("menuCatalog")},isOpen:i.menuCatalog,name:"pos.menu.catalog",icon:Object(w.jsx)(Ac.icon,{}),dense:c,children:[Object(w.jsx)(O.a,{to:{pathname:"/products",state:{_scrollToTop:!0}},primaryText:d("resources.products.name",{smart_count:2}),leftIcon:Object(w.jsx)(Ac.icon,{}),dense:c}),Object(w.jsx)(O.a,{to:{pathname:"/categories",state:{_scrollToTop:!0}},primaryText:d("resources.categories.name",{smart_count:2}),leftIcon:Object(w.jsx)(qc.icon,{}),dense:c})]}),Object(w.jsxs)(ta,{handleToggle:function(){return b("menuCustomers")},isOpen:i.menuCustomers,name:"pos.menu.customers",icon:Object(w.jsx)(Ts.icon,{}),dense:c,children:[Object(w.jsx)(O.a,{to:{pathname:"/customers",state:{_scrollToTop:!0}},primaryText:d("resources.customers.name",{smart_count:2}),leftIcon:Object(w.jsx)(Ts.icon,{}),dense:c}),Object(w.jsx)(O.a,{to:{pathname:"/segments",state:{_scrollToTop:!0}},primaryText:d("resources.segments.name",{smart_count:2}),leftIcon:Object(w.jsx)(R.a,{}),dense:c})]}),Object(w.jsx)(O.a,{to:{pathname:"/reviews",state:{_scrollToTop:!0}},primaryText:d("resources.reviews.name",{smart_count:2}),leftIcon:Object(w.jsx)(us.icon,{}),dense:c})]})},ca={palette:{primary:{main:"#90caf9"},secondary:{main:"#FBBA72"},type:"dark"},sidebar:{width:200},overrides:{MuiAppBar:{colorSecondary:{color:"#ffffffb3",backgroundColor:"#616161e6"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}}},props:{MuiButtonBase:{disableRipple:!0}}},aa={palette:{primary:{main:"#4f3cc9"},secondary:{light:"#5f5fc4",main:"#283593",dark:"#001064",contrastText:"#fff"},background:{default:"#fcfcfe"},type:"light"},shape:{borderRadius:10},sidebar:{width:200},overrides:{RaMenuItemLink:{root:{borderLeft:"3px solid #fff"},active:{borderLeft:"3px solid #4f3cc9"}},MuiPaper:{elevation1:{boxShadow:"none"},root:{border:"1px solid #e0e0e3",backgroundClip:"padding-box"}},MuiButton:{contained:{backgroundColor:"#fff",color:"#4f3cc9",boxShadow:"none"}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}},MuiAppBar:{colorSecondary:{color:"#808080",backgroundColor:"#fff"}},MuiLinearProgress:{colorPrimary:{backgroundColor:"#f5f5f5"},barColorPrimary:{backgroundColor:"#d7d7d7"}},MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiSnackbarContent:{root:{border:"none"}}},props:{MuiButtonBase:{disableRipple:!0}}},na=function(e){var t=Object(C.f)((function(e){return"dark"===e.theme?ca:aa}));return Object(w.jsx)(T.a,Object(n.a)(Object(n.a)({},e),{},{appBar:S,menu:sa,theme:t}))},oa=r(50),ia=r(407),la=r(1367),da=r(492),ja=r(1493),ua=r(389),ba=r.n(ua),ma=r(1494),Oa=r(397),xa=["meta","input"],ha=Object(v.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://source.unsplash.com/random/1600x900)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},hint:{marginTop:"1em",display:"flex",justifyContent:"center",color:e.palette.grey[500]},form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},actions:{padding:"0 1em 1em 1em"}}})),fa=function(e){var t=e.meta,r=(t=void 0===t?{touched:!1,error:void 0}:t).touched,s=t.error,c=Object.assign({},e.input),a=Object(kr.a)(e,xa);return Object(w.jsx)(ia.a,Object(n.a)(Object(n.a)(Object(n.a)({error:!(!r||!s),helperText:r&&s},c),a),{},{fullWidth:!0}))},pa=Object(oa.g)().Form,ga=function(){var e=Object(s.useState)(!1),t=Object(P.a)(e,2),r=t[0],c=t[1],a=Object(m.a)(),n=ha(),o=Object(ar.a)(),i=Object(ma.a)(),l=Object(tr.h)();return Object(w.jsx)(pa,{onSubmit:function(e){c(!0),i(e,l.state?l.state.nextPathname:"/").catch((function(e){c(!1),o("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}))},validate:function(e){var t={};return e.username||(t.username=a("ra.validation.required")),e.password||(t.password=a("ra.validation.required")),t},render:function(e){var t=e.handleSubmit;return Object(w.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(w.jsxs)("div",{className:n.main,children:[Object(w.jsxs)(ue.a,{className:n.card,children:[Object(w.jsx)("div",{className:n.avatar,children:Object(w.jsx)(se.a,{className:n.icon,children:Object(w.jsx)(ba.a,{})})}),Object(w.jsx)("div",{className:n.hint,children:"Hint: demo / demo"}),Object(w.jsxs)("div",{className:n.form,children:[Object(w.jsx)("div",{className:n.input,children:Object(w.jsx)(oa.a,{autoFocus:!0,name:"username",component:fa,label:a("ra.auth.username"),disabled:r})}),Object(w.jsx)("div",{className:n.input,children:Object(w.jsx)(oa.a,{name:"password",component:fa,label:a("ra.auth.password"),type:"password",disabled:r})})]}),Object(w.jsx)(zc.a,{className:n.actions,children:Object(w.jsxs)($r.a,{variant:"contained",type:"submit",color:"primary",disabled:r,fullWidth:!0,children:[r&&Object(w.jsx)(la.a,{size:25,thickness:2}),a("ra.auth.sign_in")]})})]}),Object(w.jsx)(Oa.a,{})]})})}})},va=function(e){return Object(w.jsx)(ja.a,{theme:Object(da.a)(aa),children:Object(w.jsx)(ga,Object(n.a)({},e))})},wa=r(132),ya=r.n(wa),_a=r(287),ka=r(178),Sa=r(170),Ca=r.p+"static/media/welcome_illustration.cd84d2be.svg",Ta=Object(v.a)((function(e){return{root:{background:"dark"===e.palette.type?"#535353":"linear-gradient(to right, #8975fb 0%, #746be7 35%), linear-gradient(to bottom, #8975fb 0%, #6f4ceb 50%), #6f4ceb",color:"#fff",padding:20,marginTop:e.spacing(2),marginBottom:"1em"},media:{background:"url(".concat(Ca,") top right / cover"),marginLeft:"auto"},actions:Object(N.a)({},e.breakpoints.down("md"),{padding:0,flexWrap:"wrap","& a":{marginTop:"1em",marginLeft:"0!important",marginRight:"1em"}})}})),Na=function(){var e=Object(m.a)(),t=Ta();return Object(w.jsx)(ue.a,{className:t.root,children:Object(w.jsxs)(Ve.a,{display:"flex",children:[Object(w.jsxs)(Ve.a,{flex:"1",children:[Object(w.jsx)(f.a,{variant:"h5",component:"h2",gutterBottom:!0,children:e("pos.dashboard.welcome.title")}),Object(w.jsx)(Ve.a,{maxWidth:"40em",children:Object(w.jsx)(f.a,{variant:"body1",component:"p",gutterBottom:!0,children:e("pos.dashboard.welcome.subtitle")})})]}),Object(w.jsx)(Ve.a,{display:{xs:"none",sm:"none",md:"block"},className:t.media,width:"16em",height:"9em",overflow:"hidden"})]})})},Pa=Object(v.a)((function(e){return{card:{minHeight:52,display:"flex",flexDirection:"column",flex:"1","& a":{textDecoration:"none",color:"inherit"}},main:function(t){return{overflow:"inherit",padding:16,background:"url(".concat("dark"===e.palette.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRFU1NTU1NTUFBQAAAAUVFRUVFRU1NTT09PU1NTR0dHUlJSTk5OUlJSUVFRUlJSTk5OU1NTT09PS0tLU1NTUVFRUVFRU1NTUVFRUlJSUVFRS0tLUFBQUVFRUVFRUVFRUVFRQEBAUVFRU1NTU1NTU1NTU1NTU1NTU1NTSUlJUFBQU1NTUlJSUVFRTk5OT09PUVFRSkpKUVFRU1NTU1NTTk5OT09PUlJSTU1NUVFRU1NTSEhIU1NTUVFRUVFRUVFROzs7U1NTU1NTUlJSKysrU1NTUlJSRkZGU1NTTU1NU1NTUlJSUVFRUVFRU1NTSUlJap2IRgAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAMAAAD//SY8AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAO1QTFRF/Ors/Ojs+ubrAAAA/Ojs++np/Ojs9ujo/Onq8+Hh+urr9Onp++rr/Orq+Obr++Xl+urq+enr++bm+uns+ubr/Ors++nr/Ors+ubr+ujs++Xl/Ofs/Orq++fr+ers+ujsv7+/++rq+Ofs+urs++rq/Ors/Onq8d3j7dvb+urs+urr+ufr+ujs+Orq+ers++js9OPj+ujs/Ojo+unq9+ns9+bo++jr/Ofn/Orr+enp8uXl/Orq/Obm/Ors+urq2NjY+urr/Onp/OXo1dXV+ujq/Ojr8Ojo+Obo9uTn/Ojr++ns+urr+urq/Ors8+fnTQPn1wAAAE90Uk5T/+EzAOw57TfnK9cXvptwO86KPcVl43LiZMk6kuY/hcYIPGmRs+TzJQ6QzIzTSISuLcdNz1xar0nliCepUvtfDdiUTgbRmSFvVqO4ytnwFVkGdGQAAAKuSURBVHic7d3XVhRBGEXhAoExoZjGBKKCcVTMWcxK9P0fxwvvq6u7z79OlezvCeqsvYABOqSkMDd/DO2QNE9pYdE9BOVE0dPSxL0ExVTR0/ET7ikoJYueTp5yb0EhXfR02r0FhYTR07J7DMooo6cz7jUoIo2ezrrnoIQ2+op7Dkpoo6dz7j0oII6ezrsHoZs6+gX3IHRTR08X3YvQSR79knsROsmjp6l7Erroo192T0IXffR0xb0JHQKiX3VvQoeA6OmaexTyIqJfd49CXkT0Vfco5EVET2vuVcgKiX7DvQpZIdHX3auQFRI93XTPQk5M9FvuWciJiX7bPQs5MdE33LOQExN90z0LOTHRuUCyajHR77hnIScm+l33LOTERE/uWcgh+hFE9CMopjk/06sWE51P71WLic7v6VWLic5f5KoWE33DPQs5MdH5L1vVYqLz//SqxUTnypmqhTTnGrm6hUTnati6hUTnuve6RTTnDpfKRUTnXrbKRUTnrtXKBTTn/vTaBUTnSRS10zfnmTPV00fn6VLVkzfnOXL1k0fniZH1Uzfn2bANUEfnKdANEDfnee8t0DbngsgmaKPzDpcmSJvztqY2KJvzXrZGCJvzBsZW6JrzrtVmyJrzVuV2qJrz/vSGiJovLLqHoJym+dy8ewd6kDRfueeegT4UzTfvu1egF0HzB+4N6Gl8c66aaM7Y5A/5CNeekc1n7vNjgFHJHz12Hx9DjGn+xH14DDM8+dZT99kx0NDkz567T47BhiV/8dJ9boww6Kv8lfvUGKV/8tdv3GfGSD2Lv3333n1ijNYr+YeP7uNCoTj4p63tz+7DQqOs+Jev3767TwqZ7uA/fm7/cp8SUrncS+vLv9f4nv7/SZOd6Wx3b/9g9fBf6cPVg/293dl0Z/LHfTYE+Qucis5DBf5HsAAAAABJRU5ErkJggg==",") no-repeat"),display:"flex",justifyContent:"space-between",alignItems:"center","& .icon":{color:"dark"===e.palette.type?"inherit":"#dc2440"}}},title:{}}})),Aa=function(e){var t=e.icon,r=e.title,c=e.subtitle,a=e.to,n=e.children,o=Pa(e);return Object(w.jsxs)(ue.a,{className:o.card,children:[Object(w.jsx)(ot.a,{to:a,children:Object(w.jsxs)("div",{className:o.main,children:[Object(w.jsx)(Ve.a,{width:"3em",className:"icon",children:Object(s.createElement)(t,{fontSize:"large"})}),Object(w.jsxs)(Ve.a,{textAlign:"right",children:[Object(w.jsx)(f.a,{className:o.title,color:"textSecondary",children:r}),Object(w.jsx)(f.a,{variant:"h5",component:"h2",children:c||"\u2000"})]})]})}),n&&Object(w.jsx)(xt.a,{}),n]})},Ra=function(e){var t=e.value,r=Object(m.a)();return Object(w.jsx)(Aa,{to:"/commands",icon:lt.a,title:r("pos.dashboard.monthly_revenue"),subtitle:t})},Da=r(757),Ua=r.n(Da),za=function(e){var t=e.value,r=Object(m.a)();return Object(w.jsx)(Aa,{to:"/commands",icon:Ua.a,title:r("pos.dashboard.new_orders"),subtitle:t})},Ia=r(1372),La=Object(v.a)((function(e){return{root:{flex:1},cost:{marginRight:"1em",color:e.palette.text.primary}}})),Fa=function(e){var t=e.orders,r=void 0===t?[]:t,s=e.customers,c=void 0===s?{}:s,a=La(),n=Object(m.a)();return Object(w.jsxs)(ue.a,{className:a.root,children:[Object(w.jsx)(me.a,{title:n("pos.dashboard.pending_orders")}),Object(w.jsx)(hr.a,{dense:!0,children:r.map((function(e){return Object(w.jsxs)(fr.a,{button:!0,component:ot.a,to:"/commands/".concat(e.id),children:[Object(w.jsx)(pr.a,{children:c[e.customer_id]?Object(w.jsx)(se.a,{src:"".concat(c[e.customer_id].avatar,"?size=32x32")}):Object(w.jsx)(se.a,{})}),Object(w.jsx)(gr.a,{primary:new Date(e.date).toLocaleString("en-GB"),secondary:n("pos.dashboard.order.items",{smart_count:e.basket.length,nb_items:e.basket.length,customer_name:c[e.customer_id]?"".concat(c[e.customer_id].first_name," ").concat(c[e.customer_id].last_name):""})}),Object(w.jsx)(Ia.a,{children:Object(w.jsxs)("span",{className:a.cost,children:[e.total,"$"]})})]},e.id)}))})]})},Ea=Object(v.a)((function(e){return{avatar:{background:e.palette.background.paper},listItemText:{overflowY:"hidden",height:"4em",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},link:{borderRadius:0},linkContent:{color:e.palette.primary.main}}})),Ba=function(e){var t=e.reviews,r=void 0===t?[]:t,s=e.customers,c=void 0===s?{}:s,a=e.nb,n=Ea(),o=Object(m.a)();return Object(w.jsxs)(Aa,{to:"/reviews",icon:$t.a,title:o("pos.dashboard.pending_reviews"),subtitle:a,children:[Object(w.jsx)(hr.a,{children:r.map((function(e){return Object(w.jsxs)(fr.a,{button:!0,component:ot.a,to:"/reviews/".concat(e.id),alignItems:"flex-start",children:[Object(w.jsx)(pr.a,{children:c[e.customer_id]?Object(w.jsx)(se.a,{src:"".concat(c[e.customer_id].avatar,"?size=32x32"),className:n.avatar}):Object(w.jsx)(se.a,{})}),Object(w.jsx)(gr.a,{primary:Object(w.jsx)(Rr,{record:e}),secondary:e.comment,className:n.listItemText,style:{paddingRight:0}})]},e.id)}))}),Object(w.jsx)(Ve.a,{flexGrow:"1",children:"\xa0"}),Object(w.jsx)($r.a,{className:n.link,component:ot.a,to:"/reviews",size:"small",color:"primary",children:Object(w.jsx)(Ve.a,{p:1,className:n.linkContent,children:o("pos.dashboard.all_reviews")})})]})},Wa=r(758),Va=r.n(Wa),Ma=Object(v.a)((function(e){return{link:{borderRadius:0},linkContent:{color:e.palette.primary.main}}})),Ga=function(){var e=Object(m.a)(),t=Ma(),r=Object(Ae.subDays)(new Date,30);r.setDate(r.getDate()-30),r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0);var s=Object(Bt.a)({type:"getList",resource:"customers",payload:{filter:{has_ordered:!0,first_seen_gte:r.toISOString()},sort:{field:"first_seen",order:"DESC"},pagination:{page:1,perPage:100}}}),c=s.loaded,a=s.data;if(!c)return null;var n=a?a.reduce((function(e){return++e}),0):0;return Object(w.jsxs)(Aa,{to:"/customers",icon:Va.a,title:e("pos.dashboard.new_customers"),subtitle:n,children:[Object(w.jsx)(hr.a,{children:a?a.map((function(e){return Object(w.jsxs)(fr.a,{button:!0,to:"/customers/".concat(e.id),component:ot.a,children:[Object(w.jsx)(pr.a,{children:Object(w.jsx)(se.a,{src:"".concat(e.avatar,"?size=32x32")})}),Object(w.jsx)(gr.a,{primary:"".concat(e.first_name," ").concat(e.last_name)})]},e.id)})):null}),Object(w.jsx)(Ve.a,{flexGrow:"1",children:"\xa0"}),Object(w.jsx)($r.a,{className:t.link,component:ot.a,to:"/customers",size:"small",color:"primary",children:Object(w.jsx)(Ve.a,{p:1,className:t.linkContent,children:e("pos.dashboard.all_customers")})})]})},Ha=r(1495),Ja=r(1496),qa=r(773),Ka=r(774),Qa=r(1500),Xa=r(307),Ya=r(787),Za=new Date,$a=Array.from({length:30},(function(e,t){return Object(Ae.subDays)(Za,t)})),en=Object(Ae.subDays)(new Date,30),tn=function(e){return new Date(e).toLocaleDateString()},rn=function(e){var t=function(e){return e.filter((function(e){return"Cancelled"!==e.status})).reduce((function(e,t){var r=Object(Ae.format)(t.date,"YYYY-MM-DD");return e[r]||(e[r]=0),e[r]+=t.total,e}),{})}(e);return $a.map((function(e){return{date:e.getTime(),total:t[Object(Ae.format)(e,"YYYY-MM-DD")]||0}}))},sn=function(e){var t=e.orders,r=Object(m.a)();return t?Object(w.jsxs)(ue.a,{children:[Object(w.jsx)(me.a,{title:r("pos.dashboard.month_history")}),Object(w.jsx)(be.a,{children:Object(w.jsx)("div",{style:{width:"100%",height:300},children:Object(w.jsx)(Ha.a,{children:Object(w.jsxs)(Ja.a,{data:rn(t),children:[Object(w.jsx)("defs",{children:Object(w.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(w.jsx)("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),Object(w.jsx)("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]})}),Object(w.jsx)(qa.a,{dataKey:"date",name:"Date",type:"number",scale:"time",domain:[Object(Ae.addDays)(en,1).getTime(),(new Date).getTime()],tickFormatter:tn}),Object(w.jsx)(Ka.a,{dataKey:"total",name:"Revenue",unit:"\u20ac"}),Object(w.jsx)(Qa.a,{strokeDasharray:"3 3"}),Object(w.jsx)(Xa.a,{cursor:{strokeDasharray:"3 3"},formatter:function(e){return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"}).format(e)},labelFormatter:function(e){return tn(e)}}),Object(w.jsx)(Ya.a,{type:"monotone",dataKey:"total",stroke:"#8884d8",strokeWidth:2,fill:"url(#colorUv)"})]})})})})]}):null},cn={flex:{display:"flex"},flexColumn:{display:"flex",flexDirection:"column"},leftCol:{flex:1,marginRight:"0.5em"},rightCol:{flex:1,marginLeft:"0.5em"},singleCol:{marginTop:"1em",marginBottom:"1em"}},an=function(){return Object(w.jsx)("span",{style:{width:"1em"}})},nn=function(){return Object(w.jsx)("span",{style:{height:"1em"}})},on=function(){var e=Object(s.useState)({}),t=Object(P.a)(e,2),r=t[0],c=t[1],a=Object(ka.a)(),o=Object(Sa.a)(),i=Object(J.a)((function(e){return e.breakpoints.down("xs")})),l=Object(J.a)((function(e){return e.breakpoints.down("md")})),d=Object(s.useCallback)(Object(_a.a)(ya.a.mark((function e(){var t,r,s,a,i,l;return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Ae.subDays)(new Date,30),e.next=3,o.getList("commands",{filter:{date_gte:t.toISOString()},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:50}});case 3:return r=e.sent,s=r.data,a=s.filter((function(e){return"Cancelled"!==e.status})).reduce((function(e,t){return"Cancelled"!==t.status&&(e.revenue+=t.total,e.nbNewOrders++),"Ordered"===t.status&&e.pendingOrders.push(t),e}),{revenue:0,nbNewOrders:0,pendingOrders:[]}),c((function(e){return Object(n.a)(Object(n.a)({},e),{},{recentOrders:s,revenue:a.revenue.toLocaleString(void 0,{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),nbNewOrders:a.nbNewOrders,pendingOrders:a.pendingOrders})})),e.next=9,o.getMany("customers",{ids:a.pendingOrders.map((function(e){return e.customer_id}))});case 9:i=e.sent,l=i.data,c((function(e){return Object(n.a)(Object(n.a)({},e),{},{pendingOrdersCustomers:l.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 12:case"end":return e.stop()}}),e)}))),[o]),j=Object(s.useCallback)(Object(_a.a)(ya.a.mark((function e(){var t,r,s,a,i,l;return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getList("reviews",{filter:{status:"Pending"},sort:{field:"date",order:"DESC"},pagination:{page:1,perPage:100}});case 2:return t=e.sent,r=t.data,s=r.reduce((function(e){return++e}),0),a=r.slice(0,Math.min(10,r.length)),c((function(e){return Object(n.a)(Object(n.a)({},e),{},{pendingReviews:a,nbPendingReviews:s})})),e.next=9,o.getMany("customers",{ids:a.map((function(e){return e.customer_id}))});case 9:i=e.sent,l=i.data,c((function(e){return Object(n.a)(Object(n.a)({},e),{},{pendingReviewsCustomers:l.reduce((function(e,t){return e[t.id]=t,e}),{})})}));case 12:case"end":return e.stop()}}),e)}))),[o]);Object(s.useEffect)((function(){d(),j()}),[a]);var u=r.nbNewOrders,b=r.nbPendingReviews,m=r.pendingOrders,O=r.pendingOrdersCustomers,x=r.pendingReviews,h=r.pendingReviewsCustomers,f=r.revenue,p=r.recentOrders;return i?Object(w.jsx)("div",{children:Object(w.jsxs)("div",{style:cn.flexColumn,children:[Object(w.jsx)(Na,{}),Object(w.jsx)(Ra,{value:f}),Object(w.jsx)(nn,{}),Object(w.jsx)(za,{value:u}),Object(w.jsx)(nn,{}),Object(w.jsx)(Fa,{orders:m,customers:O})]})}):l?Object(w.jsxs)("div",{style:cn.flexColumn,children:[Object(w.jsx)("div",{style:cn.singleCol,children:Object(w.jsx)(Na,{})}),Object(w.jsxs)("div",{style:cn.flex,children:[Object(w.jsx)(Ra,{value:f}),Object(w.jsx)(an,{}),Object(w.jsx)(za,{value:u})]}),Object(w.jsx)("div",{style:cn.singleCol,children:Object(w.jsx)(sn,{orders:p})}),Object(w.jsx)("div",{style:cn.singleCol,children:Object(w.jsx)(Fa,{orders:m,customers:O})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Na,{}),Object(w.jsxs)("div",{style:cn.flex,children:[Object(w.jsxs)("div",{style:cn.leftCol,children:[Object(w.jsxs)("div",{style:cn.flex,children:[Object(w.jsx)(Ra,{value:f}),Object(w.jsx)(an,{}),Object(w.jsx)(za,{value:u})]}),Object(w.jsx)("div",{style:cn.singleCol,children:Object(w.jsx)(sn,{orders:p})}),Object(w.jsx)("div",{style:cn.singleCol,children:Object(w.jsx)(Fa,{orders:m,customers:O})})]}),Object(w.jsx)("div",{style:cn.rightCol,children:Object(w.jsxs)("div",{style:cn.flex,children:[Object(w.jsx)(Ba,{nb:b,reviews:x,customers:h}),Object(w.jsx)(an,{}),Object(w.jsx)(Ga,{})]})})]})]})},ln=r(1523),dn=Object(v.a)({label:{width:"10em",display:"inline-block"},button:{margin:"1em"}}),jn=function(){var e=Object(m.a)(),t=Object(Ze.a)(),r=Object(ln.a)(),s=dn(),c=Object(C.f)((function(e){return e.theme})),a=Object(C.e)();return Object(w.jsxs)(ue.a,{children:[Object(w.jsx)(qs.b,{title:e("pos.configuration")}),Object(w.jsxs)(be.a,{children:[Object(w.jsx)("div",{className:s.label,children:e("pos.theme.name")}),Object(w.jsx)($r.a,{variant:"contained",className:s.button,color:"light"===c?"primary":"default",onClick:function(){return a(u("light"))},children:e("pos.theme.light")}),Object(w.jsx)($r.a,{variant:"contained",className:s.button,color:"dark"===c?"primary":"default",onClick:function(){return a(u("dark"))},children:e("pos.theme.dark")})]}),Object(w.jsxs)(be.a,{children:[Object(w.jsx)("div",{className:s.label,children:e("pos.language")}),Object(w.jsx)($r.a,{variant:"contained",className:s.button,color:"en"===t?"primary":"default",onClick:function(){return r("en")},children:"en"}),Object(w.jsx)($r.a,{variant:"contained",className:s.button,color:"fr"===t?"primary":"default",onClick:function(){return r("fr")},children:"fr"})]})]})},un=Object(v.a)({icon:{paddingRight:"0.5em"},link:{display:"inline-flex",alignItems:"center"}}),bn=function(e){var t=e.segment,r=Object(m.a)(),s=un();return Object(w.jsxs)($r.a,{size:"small",color:"primary",component:ot.a,to:{pathname:"/customers",search:Object(Ic.stringify)({filter:JSON.stringify({groups:t})})},className:s.link,children:[Object(w.jsx)(Ts.icon,{className:s.icon}),r("resources.segments.fields.customers")]})},mn=Object(v.a)({root:{marginTop:16}}),On=function(){var e=Object(m.a)(),t=mn();return Object(w.jsxs)(ue.a,{className:t.root,children:[Object(w.jsx)(qs.b,{title:e("resources.segments.name",{smart_count:2})}),Object(w.jsxs)(zt.a,{size:"small",children:[Object(w.jsx)(It.a,{children:Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:e("resources.segments.fields.name")}),Object(w.jsx)(Ft.a,{})]})}),Object(w.jsx)(Et.a,{children:K.map((function(t){return Object(w.jsxs)(Lt.a,{children:[Object(w.jsx)(Ft.a,{children:e(t.name)}),Object(w.jsx)(Ft.a,{children:Object(w.jsx)(bn,{segment:t.id})})]},t.id)}))})]})]})},xn=[Object(w.jsx)(tr.b,{exact:!0,path:"/configuration",render:function(){return Object(w.jsx)(jn,{})}}),Object(w.jsx)(tr.b,{exact:!0,path:"/segments",render:function(){return Object(w.jsx)(On,{})}})],hn=r(392),fn=Object(n.a)(Object(n.a)({},hn.a),{},{pos:{search:"Search",configuration:"Configuration",language:"Language",theme:{name:"Theme",light:"Light",dark:"Dark"},dashboard:{monthly_revenue:"Monthly Revenue",month_history:"30 Day Revenue History",new_orders:"New Orders",pending_reviews:"Pending Reviews",all_reviews:"See all reviews",new_customers:"New Customers",all_customers:"See all customers",pending_orders:"Pending Orders",order:{items:"by %{customer_name}, one item |||| by %{customer_name}, %{nb_items} items"},welcome:{title:"Welcome to the react-admin e-commerce demo",subtitle:"This is the admin of an imaginary poster shop. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload.",ra_button:"react-admin site",demo_button:"Source for this demo"}},menu:{sales:"Sales",catalog:"Catalog",customers:"Customers"}},resources:{customers:{name:"Customer |||| Customers",fields:{commands:"Orders",first_seen:"First seen",groups:"Segments",last_seen:"Last seen",last_seen_gte:"Visited Since",name:"Name",total_spent:"Total spent",password:"Password",confirm_password:"Confirm password",stateAbbr:"State"},filters:{last_visited:"Last visited",today:"Today",this_week:"This week",last_week:"Last week",this_month:"This month",last_month:"Last month",earlier:"Earlier",has_ordered:"Has ordered",has_newsletter:"Has newsletter",group:"Segment"},fieldGroups:{identity:"Identity",address:"Address",stats:"Stats",history:"History",password:"Password",change_password:"Change Password"},page:{delete:"Delete Customer"},errors:{password_mismatch:"The password confirmation is not the same as the password."}},commands:{name:"Order |||| Orders",amount:"1 order |||| %{smart_count} orders",title:"Order %{reference}",fields:{basket:{delivery:"Delivery",reference:"Reference",quantity:"Quantity",sum:"Sum",tax_rate:"Tax Rate",taxes:"Tax",total:"Total",unit_price:"Unit Price"},address:"Address",customer_id:"Customer",date_gte:"Passed Since",date_lte:"Passed Before",nb_items:"Nb Items",total_gte:"Min amount",status:"Status",returned:"Returned"},section:{order:"Order",customer:"Customer",shipping_address:"Shipping Address",items:"Items",total:"Totals"}},invoices:{name:"Invoice |||| Invoices",fields:{date:"Invoice date",customer_id:"Customer",command_id:"Order",date_gte:"Passed Since",date_lte:"Passed Before",total_gte:"Min amount",address:"Address"}},products:{name:"Poster |||| Posters",fields:{category_id:"Category",height_gte:"Min height",height_lte:"Max height",height:"Height",image:"Image",price:"Price",reference:"Reference",sales:"Sales",stock_lte:"Low Stock",stock:"Stock",thumbnail:"Thumbnail",width_gte:"Min width",width_lte:"Max width",width:"Width"},tabs:{image:"Image",details:"Details",description:"Description",reviews:"Reviews"},filters:{categories:"Categories",stock:"Stock",no_stock:"Out of stock",low_stock:"1 - 9 items",average_stock:"10 - 49 items",enough_stock:"50 items & more",sales:"Sales",best_sellers:"Best sellers",average_sellers:"Average",low_sellers:"Low",never_sold:"Never sold"}},categories:{name:"Category |||| Categories",fields:{products:"Products"}},reviews:{name:"Review |||| Reviews",amount:"1 review |||| %{smart_count} reviews",relative_to_poster:"Review on poster",detail:"Review detail",fields:{customer_id:"Customer",command_id:"Order",product_id:"Product",date_gte:"Posted since",date_lte:"Posted before",date:"Date",comment:"Comment",rating:"Rating"},action:{accept:"Accept",reject:"Reject"},notification:{approved_success:"Review approved",approved_error:"Error: Review not approved",rejected_success:"Review rejected",rejected_error:"Error: Review not rejected"}},segments:{name:"Segment |||| Segments",fields:{customers:"Customers",name:"Name"},data:{compulsive:"Compulsive",collector:"Collector",ordered_once:"Ordered once",regular:"Regular",returns:"Returns",reviewer:"Reviewer"}}}}),pn=function(e){return"graphql"===e?Promise.all([r.e(0),r.e(5),r.e(8)]).then(r.bind(null,1728)).then((function(e){return e.default()})):Promise.all([r.e(0),r.e(11),r.e(9)]).then(r.bind(null,1729)).then((function(e){return e.default()}))},gn=function(e){var t=vn(e);return new Proxy(wn,{get:function(e,r){return function(e,s){return t.then((function(t){return t[r.toString()](e,s)}))}}})},vn=function(){var e=Object(_a.a)(ya.a.mark((function e(t){return ya.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(Object({NODE_ENV:"production",PUBLIC_URL:"/react-admin-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DATA_PROVIDER||"");case 2:if("graphql"!==t){e.next=4;break}return e.abrupt("return",Promise.all([r.e(4),r.e(7)]).then(r.bind(null,1727)).then((function(e){return e.default()})));case 4:return e.abrupt("return",r.e(6).then(r.bind(null,1731)).then((function(e){return e.default})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wn={create:function(){return Promise.resolve({data:{id:0}})},delete:function(){return Promise.resolve({data:{}})},deleteMany:function(){return Promise.resolve({})},getList:function(){return Promise.resolve({data:[],total:0})},getMany:function(){return Promise.resolve({data:[]})},getManyReference:function(){return Promise.resolve({data:[],total:0})},getOne:function(){return Promise.resolve({data:{}})},update:function(){return Promise.resolve({data:{}})},updateMany:function(){return Promise.resolve({})}},yn=Object(l.a)((function(e){return"fr"===e?r.e(10).then(r.bind(null,1730)).then((function(e){return e.default})):fn}),"en"),_n=function(){return Object(w.jsxs)(o.a,{title:"",dataProvider:gn(Object({NODE_ENV:"production",PUBLIC_URL:"/react-admin-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DATA_PROVIDER||""),customReducers:{theme:b},customRoutes:xn,authProvider:d,dashboard:on,loginPage:va,layout:na,i18nProvider:yn,disableTelemetry:!0,children:[Object(w.jsx)(i.a,Object(n.a)({name:"customers"},Ts)),Object(w.jsx)(i.a,Object(n.a)(Object(n.a)({name:"commands"},Yt),{},{options:{label:"Orders"}})),Object(w.jsx)(i.a,Object(n.a)({name:"invoices"},Ls)),Object(w.jsx)(i.a,Object(n.a)({name:"products"},Ac)),Object(w.jsx)(i.a,Object(n.a)({name:"categories"},qc)),Object(w.jsx)(i.a,Object(n.a)({name:"reviews"},us))]})};a.a.render(s.createElement(_n,null),document.getElementById("root"))}},[[1361,2,3]]]);
//# sourceMappingURL=main.b680749b.chunk.js.map